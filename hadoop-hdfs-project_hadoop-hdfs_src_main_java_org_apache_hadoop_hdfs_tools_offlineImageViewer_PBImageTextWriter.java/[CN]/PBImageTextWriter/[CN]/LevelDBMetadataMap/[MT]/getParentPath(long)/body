{
  if (inode == INodeId.ROOT_INODE_ID) {
    return "/";
  }
  byte[] bytes=dirChildMap.get(toBytes(inode));
  if (bytes == null) {
    PBImageTextWriter.ignoreSnapshotName(inode);
  }
  if (bytes.length != 8) {
    throw new IOException("bytes array length error. Actual length is " + bytes.length);
  }
  long parent=toLong(bytes);
  if (!dirPathCache.containsKey(parent)) {
    bytes=dirMap.get(toBytes(parent));
    if (parent != INodeId.ROOT_INODE_ID && bytes == null) {
      PBImageTextWriter.ignoreSnapshotName(parent);
    }
    String parentName=toString(bytes);
    String parentPath=new Path(getParentPath(parent),parentName.isEmpty() ? "/" : parentName).toString();
    dirPathCache.put(parent,parentPath);
  }
  return dirPathCache.get(parent);
}
