{
  startUpCluster(REPL_FACTOR,new StorageType[]{RAM_DISK,DEFAULT},BLOCK_SIZE * 3 - 1);
  final String METHOD_NAME=GenericTestUtils.getMethodName();
  Path path=new Path("/" + METHOD_NAME + ".dat");
  makeTestFile(path,BLOCK_SIZE * 5,true);
  Thread.sleep(6 * LAZY_WRITER_INTERVAL_SEC * 1000);
  triggerBlockReport();
  int numBlocksOnRamDisk=0;
  int numBlocksOnDisk=0;
  long fileLength=client.getFileInfo(path.toString()).getLen();
  LocatedBlocks locatedBlocks=client.getLocatedBlocks(path.toString(),0,fileLength);
  for (  LocatedBlock locatedBlock : locatedBlocks.getLocatedBlocks()) {
    if (locatedBlock.getStorageTypes()[0] == RAM_DISK) {
      numBlocksOnRamDisk++;
    }
 else     if (locatedBlock.getStorageTypes()[0] == DEFAULT) {
      numBlocksOnDisk++;
    }
  }
  assertThat(numBlocksOnRamDisk,is(2));
  assertThat(numBlocksOnDisk,is(3));
}
