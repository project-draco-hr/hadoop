{
  ApplicationId appId=ApplicationId.newInstance(123456789,1);
  ApplicationAttemptId attemptId=ApplicationAttemptId.newInstance(appId,1);
  ContainerId containerId=ContainerId.newInstance(attemptId,1);
  NMContainerStatus containerReport=NMContainerStatus.newInstance(containerId,ContainerState.RUNNING,Resource.newInstance(1024,1),"diagnostics",0,Priority.newInstance(10),1234);
  List<NMContainerStatus> reports=Arrays.asList(containerReport);
  RegisterNodeManagerRequest request=RegisterNodeManagerRequest.newInstance(NodeId.newInstance("1.1.1.1",1000),8080,Resource.newInstance(1024,1),"NM-version-id",reports,Arrays.asList(appId));
  RegisterNodeManagerRequest requestProto=new RegisterNodeManagerRequestPBImpl(((RegisterNodeManagerRequestPBImpl)request).getProto());
  Assert.assertEquals(containerReport,requestProto.getNMContainerStatuses().get(0));
  Assert.assertEquals(8080,requestProto.getHttpPort());
  Assert.assertEquals("NM-version-id",requestProto.getNMVersion());
  Assert.assertEquals(NodeId.newInstance("1.1.1.1",1000),requestProto.getNodeId());
  Assert.assertEquals(Resource.newInstance(1024,1),requestProto.getResource());
  Assert.assertEquals(1,requestProto.getRunningApplications().size());
  Assert.assertEquals(appId,requestProto.getRunningApplications().get(0));
}
