{
  nn.checkOperation(OperationCategory.WRITE);
  String clientMachine=getClientMachine();
  if (stateChangeLog.isDebugEnabled()) {
    stateChangeLog.debug("*DIR* NameNode.append: file " + src + " for "+ clientName+ " at "+ clientMachine);
  }
  LocatedBlock info=namesystem.appendFile(src,clientName,clientMachine);
  metrics.incrFilesAppended();
  return info;
}
