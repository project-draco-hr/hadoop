{
  verifyRequest(nodeReg);
  BlockListAsLongs blist=new BlockListAsLongs(reports[0].getBlocks());
  if (blockStateChangeLog.isDebugEnabled()) {
    blockStateChangeLog.debug("*BLOCK* NameNode.blockReport: " + "from " + nodeReg + " "+ blist.getNumberOfBlocks()+ " blocks");
  }
  namesystem.getBlockManager().processReport(nodeReg,poolId,blist);
  if (nn.getFSImage().isUpgradeFinalized() && !nn.isStandbyState())   return new FinalizeCommand(poolId);
  return null;
}
