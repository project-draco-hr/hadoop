{
  verifyRequest(registration);
  if (!nn.isRole(NamenodeRole.NAMENODE))   throw new IOException("Only an ACTIVE node can invoke startCheckpoint.");
  return namesystem.startCheckpoint(registration,nn.setRegistration());
}
