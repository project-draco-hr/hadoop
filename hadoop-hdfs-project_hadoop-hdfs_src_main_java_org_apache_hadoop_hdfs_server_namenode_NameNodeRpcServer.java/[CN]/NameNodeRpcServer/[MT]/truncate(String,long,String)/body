{
  checkNNStartup();
  if (stateChangeLog.isDebugEnabled()) {
    stateChangeLog.debug("*DIR* NameNode.truncate: " + src + " to "+ newLength);
  }
  String clientMachine=getClientMachine();
  try {
    return namesystem.truncate(src,newLength,clientName,clientMachine,now());
  }
  finally {
    metrics.incrFilesTruncated();
  }
}
