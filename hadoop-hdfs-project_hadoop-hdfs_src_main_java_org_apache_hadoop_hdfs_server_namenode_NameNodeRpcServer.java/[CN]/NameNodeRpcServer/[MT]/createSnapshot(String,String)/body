{
  if (!checkPathLength(snapshotRoot)) {
    throw new IOException("createSnapshot: Pathname too long.  Limit " + MAX_PATH_LENGTH + " characters, "+ MAX_PATH_DEPTH+ " levels.");
  }
  metrics.incrCreateSnapshotOps();
  namesystem.createSnapshot(snapshotName,snapshotRoot);
}
