{
  final ArgumentCaptor<ReceivedDeletedBlockInfo[]> captor=ArgumentCaptor.forClass(ReceivedDeletedBlockInfo[].class);
  GenericTestUtils.waitFor(new Supplier<Boolean>(){
    @Override public Boolean get(){
      try {
        Mockito.verify(mockNN1).blockReceivedAndDeleted(Mockito.<DatanodeRegistration>anyObject(),Mockito.eq(FAKE_BPID),captor.capture());
        return true;
      }
 catch (      Throwable t) {
        return false;
      }
    }
  }
,100,10000);
  return captor.getValue();
}
