{
  super(is);
  this.socket=s;
  this.hasChannel=s.getChannel() != null;
  if (hasChannel) {
    Preconditions.checkArgument(is instanceof SocketInputStream,"Expected a SocketInputStream when there is a channel. " + "Got: %s",is);
  }
}
