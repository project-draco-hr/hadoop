{
  StringBuffer cmdBuf=new StringBuffer();
  cmdBuf.append("chmod ");
  if (recursive) {
    cmdBuf.append("-R ");
  }
  cmdBuf.append(perm).append(" ");
  cmdBuf.append(filename);
  String[] shellCmd={"bash","-c",cmdBuf.toString()};
  ShellCommandExecutor shExec=new ShellCommandExecutor(shellCmd);
  try {
    shExec.execute();
  }
 catch (  Exception e) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Error while changing permission : " + filename + " Exception: "+ StringUtils.stringifyException(e));
    }
  }
  return shExec.getExitCode();
}
