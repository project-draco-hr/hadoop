{
  if (!trustedChannelResolver.isTrusted() && !trustedChannelResolver.isTrusted(addr)) {
    DataEncryptionKey encryptionKey=encryptionKeyFactory.newDataEncryptionKey();
    return send(addr,underlyingOut,underlyingIn,encryptionKey,accessToken,datanodeId);
  }
 else {
    LOG.debug("SASL client skipping handshake on trusted connection for addr = {}, " + "datanodeId = {}",addr,datanodeId);
    return null;
  }
}
