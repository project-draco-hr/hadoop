{
  Path f=getTestRootPath(fc,"NonExistant2/aDir");
  fc.setUMask(umask);
  fc.mkdir(f,FileContext.DEFAULT_PERM,true);
  Assert.assertTrue(isDir(fc,f));
  Assert.assertEquals("permissions on directory are wrong",expectedPerms,fc.getFileStatus(f).getPermission());
  Path fParent=getTestRootPath(fc,"NonExistant2");
  Assert.assertEquals("permissions on parent directory are wrong",expectedParentPerms,fc.getFileStatus(fParent).getPermission());
}
