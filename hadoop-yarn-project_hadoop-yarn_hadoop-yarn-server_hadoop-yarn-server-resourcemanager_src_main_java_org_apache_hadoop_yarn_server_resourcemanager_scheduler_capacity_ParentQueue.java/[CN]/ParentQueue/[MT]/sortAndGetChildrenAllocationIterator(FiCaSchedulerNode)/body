{
  if (node.getPartition().equals(RMNodeLabelsManager.NO_LABEL)) {
    if (needToResortQueuesAtNextAllocation) {
      List<CSQueue> childrenList=new ArrayList<>(childQueues);
      childQueues.clear();
      childQueues.addAll(childrenList);
      needToResortQueuesAtNextAllocation=false;
    }
    return childQueues.iterator();
  }
  partitionQueueComparator.setPartitionToLookAt(node.getPartition());
  List<CSQueue> childrenList=new ArrayList<>(childQueues);
  Collections.sort(childrenList,partitionQueueComparator);
  return childrenList.iterator();
}
