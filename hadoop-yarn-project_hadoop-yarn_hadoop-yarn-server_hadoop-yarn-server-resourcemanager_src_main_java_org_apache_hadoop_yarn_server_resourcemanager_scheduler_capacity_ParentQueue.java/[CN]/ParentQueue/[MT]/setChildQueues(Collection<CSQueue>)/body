{
  float childCapacities=0;
  for (  CSQueue queue : childQueues) {
    childCapacities+=queue.getCapacity();
  }
  float delta=Math.abs(1.0f - childCapacities);
  if (((capacity > 0) && (delta > PRECISION)) || ((capacity == 0) && (childCapacities > 0))) {
    throw new IllegalArgumentException("Illegal" + " capacity of " + childCapacities + " for children of queue "+ queueName);
  }
  this.childQueues.clear();
  this.childQueues.addAll(childQueues);
  if (LOG.isDebugEnabled()) {
    LOG.debug("setChildQueues: " + getChildQueuesToPrint());
  }
}
