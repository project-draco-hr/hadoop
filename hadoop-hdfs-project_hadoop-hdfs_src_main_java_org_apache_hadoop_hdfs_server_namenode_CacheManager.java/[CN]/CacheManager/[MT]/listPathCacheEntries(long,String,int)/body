{
  final int MAX_PRE_ALLOCATED_ENTRIES=16;
  ArrayList<PathCacheEntry> replies=new ArrayList<PathCacheEntry>(Math.min(MAX_PRE_ALLOCATED_ENTRIES,maxReplies));
  int numReplies=0;
  SortedMap<Long,PathCacheEntry> tailMap=entriesById.tailMap(prevId + 1);
  for (  Entry<Long,PathCacheEntry> cur : tailMap.entrySet()) {
    if (numReplies >= maxReplies) {
      return replies;
    }
    if (pool.isEmpty() || cur.getValue().getDirective().getPool().equals(pool)) {
      replies.add(cur.getValue());
      numReplies++;
    }
  }
  return replies;
}
