{
  long id=directive.getId();
  CacheDirective entry=new CacheDirective(directive.getId(),directive.getPath().toUri().getPath(),directive.getReplication(),directive.getExpiration().getAbsoluteMillis());
  CachePool pool=cachePools.get(directive.getPool());
  addInternal(entry,pool);
  if (nextDirectiveId <= id) {
    nextDirectiveId=id + 1;
  }
  return entry.toInfo();
}
