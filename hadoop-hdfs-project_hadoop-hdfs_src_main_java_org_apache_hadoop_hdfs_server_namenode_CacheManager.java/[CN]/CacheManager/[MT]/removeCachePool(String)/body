{
  CachePool pool=cachePools.remove(poolName);
  if (pool == null) {
    throw new IOException("can't remove nonexistent cache pool " + poolName);
  }
  Iterator<Entry<PathCacheDirective,PathCacheEntry>> iter=entriesByDirective.entrySet().iterator();
  while (iter.hasNext()) {
    Entry<PathCacheDirective,PathCacheEntry> entry=iter.next();
    if (entry.getKey().getPool().equals(poolName)) {
      entriesById.remove(entry.getValue().getEntryId());
      iter.remove();
    }
  }
}
