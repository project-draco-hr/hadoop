{
  CachePoolInfo.validateName(poolName);
  CachePool pool=cachePools.remove(poolName);
  if (pool == null) {
    throw new IOException("can't remove non-existent cache pool " + poolName);
  }
  Iterator<Entry<Long,PathBasedCacheEntry>> iter=entriesById.entrySet().iterator();
  while (iter.hasNext()) {
    Entry<Long,PathBasedCacheEntry> entry=iter.next();
    if (entry.getValue().getPool() == pool) {
      entriesByPath.remove(entry.getValue().getPath());
      iter.remove();
    }
  }
}
