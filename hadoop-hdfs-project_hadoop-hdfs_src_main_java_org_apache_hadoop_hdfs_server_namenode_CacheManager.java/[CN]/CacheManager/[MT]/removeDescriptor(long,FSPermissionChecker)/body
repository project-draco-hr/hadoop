{
  if (id <= 0) {
    LOG.info("removeDescriptor " + id + ": invalid non-positive "+ "descriptor ID.");
    throw new InvalidIdException(id);
  }
  PathBasedCacheEntry existing=entriesById.get(id);
  if (existing == null) {
    LOG.info("removeDescriptor " + id + ": entry not found.");
    throw new NoSuchIdException(id);
  }
  CachePool pool=cachePools.get(existing.getDescriptor().getPool());
  if (pool == null) {
    LOG.info("removeDescriptor " + id + ": pool not found for directive "+ existing.getDescriptor());
    throw new UnexpectedRemovePathBasedCacheDescriptorException(id);
  }
  if ((pc != null) && (!pc.checkPermission(pool,FsAction.WRITE))) {
    LOG.info("removeDescriptor " + id + ": write permission denied to "+ "pool "+ pool+ " for entry "+ existing);
    throw new RemovePermissionDeniedException(id);
  }
  unprotectedRemoveDescriptor(id);
}
