{
  if (blocks == null || blocks.length == 0)   return null;
  T returnBlock=null;
  try {
    @SuppressWarnings("unchecked") T tBlock=(T)blocks[blocks.length - 1];
    returnBlock=tBlock;
  }
 catch (  ClassCastException cce) {
    throw new IOException("Unexpected last block type: " + blocks[blocks.length - 1].getClass().getSimpleName());
  }
  return returnBlock;
}
