{
  LOG.debug("Writing ContainerTokenIdentifier to RPC layer: " + this);
  ApplicationAttemptId applicationAttemptId=this.containerId.getApplicationAttemptId();
  ApplicationId applicationId=applicationAttemptId.getApplicationId();
  out.writeLong(applicationId.getClusterTimestamp());
  out.writeInt(applicationId.getId());
  out.writeInt(applicationAttemptId.getAttemptId());
  out.writeLong(this.containerId.getContainerId());
  out.writeUTF(this.nmHostAddr);
  out.writeUTF(this.appSubmitter);
  out.writeInt(this.resource.getMemory());
  out.writeInt(this.resource.getVirtualCores());
  out.writeLong(this.expiryTimeStamp);
  out.writeInt(this.masterKeyId);
  out.writeLong(this.rmIdentifier);
  out.writeInt(this.priority.getPriority());
  out.writeLong(this.creationTime);
  if (this.logAggregationContext == null) {
    out.writeInt(-1);
  }
 else {
    byte[] logAggregationContext=((LogAggregationContextPBImpl)this.logAggregationContext).getProto().toByteArray();
    out.writeInt(logAggregationContext.length);
    out.write(logAggregationContext);
  }
}
