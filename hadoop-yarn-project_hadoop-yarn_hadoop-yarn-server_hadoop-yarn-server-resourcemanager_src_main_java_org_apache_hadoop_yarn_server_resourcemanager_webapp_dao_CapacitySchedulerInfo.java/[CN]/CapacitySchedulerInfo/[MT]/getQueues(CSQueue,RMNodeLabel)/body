{
  CSQueue parentQueue=parent;
  CapacitySchedulerQueueInfoList queuesInfo=new CapacitySchedulerQueueInfoList();
  for (  CSQueue queue : parentQueue.getChildQueues()) {
    if (nodeLabel.getIsExclusive() && !((AbstractCSQueue)queue).accessibleToPartition(nodeLabel.getLabelName())) {
      continue;
    }
    CapacitySchedulerQueueInfo info;
    if (queue instanceof LeafQueue) {
      info=new CapacitySchedulerLeafQueueInfo((LeafQueue)queue,nodeLabel.getLabelName());
    }
 else {
      info=new CapacitySchedulerQueueInfo(queue,nodeLabel.getLabelName());
      info.queues=getQueues(queue,nodeLabel);
    }
    queuesInfo.addToQueueInfoList(info);
  }
  return queuesInfo;
}
