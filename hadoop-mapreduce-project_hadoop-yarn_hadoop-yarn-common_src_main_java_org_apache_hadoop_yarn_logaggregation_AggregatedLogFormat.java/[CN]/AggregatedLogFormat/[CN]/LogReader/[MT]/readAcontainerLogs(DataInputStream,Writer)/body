{
  int bufferSize=65536;
  char[] cbuf=new char[bufferSize];
  String fileType;
  String fileLengthStr;
  long fileLength;
  while (true) {
    try {
      fileType=valueStream.readUTF();
    }
 catch (    EOFException e) {
      return;
    }
    fileLengthStr=valueStream.readUTF();
    fileLength=Long.parseLong(fileLengthStr);
    writer.write("\n\nLogType:");
    writer.write(fileType);
    writer.write("\nLogLength:");
    writer.write(fileLengthStr);
    writer.write("\nLog Contents:\n");
    BoundedInputStream bis=new BoundedInputStream(valueStream,fileLength);
    InputStreamReader reader=new InputStreamReader(bis);
    int currentRead=0;
    int totalRead=0;
    while ((currentRead=reader.read(cbuf,0,bufferSize)) != -1) {
      writer.write(cbuf,0,currentRead);
      totalRead+=currentRead;
    }
  }
}
