{
  TaskRuntimeEstimator estimator;
  try {
    Class<? extends TaskRuntimeEstimator> estimatorClass=conf.getClass(AMConstants.TASK_RUNTIME_ESTIMATOR_CLASS,LegacyTaskRuntimeEstimator.class,TaskRuntimeEstimator.class);
    Constructor<? extends TaskRuntimeEstimator> estimatorConstructor=estimatorClass.getConstructor();
    estimator=estimatorConstructor.newInstance();
    estimator.contextualize(conf,context);
  }
 catch (  InstantiationException ex) {
    LOG.error("Can't make a speculation runtime extimator" + ex);
    throw new YarnException(ex);
  }
catch (  IllegalAccessException ex) {
    LOG.error("Can't make a speculation runtime extimator" + ex);
    throw new YarnException(ex);
  }
catch (  InvocationTargetException ex) {
    LOG.error("Can't make a speculation runtime extimator" + ex);
    throw new YarnException(ex);
  }
catch (  NoSuchMethodException ex) {
    LOG.error("Can't make a speculation runtime extimator" + ex);
    throw new YarnException(ex);
  }
  return estimator;
}
