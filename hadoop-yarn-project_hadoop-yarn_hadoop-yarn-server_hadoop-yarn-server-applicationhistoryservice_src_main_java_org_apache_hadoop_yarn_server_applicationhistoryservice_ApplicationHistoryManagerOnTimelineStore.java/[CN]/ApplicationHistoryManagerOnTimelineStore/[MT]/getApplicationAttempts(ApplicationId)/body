{
  ApplicationReportExt app=getApplication(appId,ApplicationReportField.USER_AND_ACLS);
  checkAccess(app);
  TimelineEntities entities=timelineDataManager.getEntities(AppAttemptMetricsConstants.ENTITY_TYPE,new NameValuePair(AppAttemptMetricsConstants.PARENT_PRIMARY_FILTER,appId.toString()),null,null,null,null,null,Long.MAX_VALUE,EnumSet.allOf(Field.class),UserGroupInformation.getLoginUser());
  Map<ApplicationAttemptId,ApplicationAttemptReport> appAttempts=new HashMap<ApplicationAttemptId,ApplicationAttemptReport>();
  for (  TimelineEntity entity : entities.getEntities()) {
    ApplicationAttemptReport appAttempt=convertToApplicationAttemptReport(entity);
    appAttempts.put(appAttempt.getApplicationAttemptId(),appAttempt);
  }
  return appAttempts;
}
