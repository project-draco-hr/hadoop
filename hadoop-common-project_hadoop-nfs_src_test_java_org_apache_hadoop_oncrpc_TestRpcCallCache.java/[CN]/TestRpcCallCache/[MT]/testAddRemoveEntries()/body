{
  RpcCallCache cache=new RpcCallCache("test",100);
  InetAddress clientIp=InetAddress.getByName("1.1.1.1");
  int xid=100;
  CacheEntry e=cache.checkOrAddToCache(clientIp,xid);
  assertNull(e);
  e=cache.checkOrAddToCache(clientIp,xid);
  validateInprogressCacheEntry(e);
  RpcResponse response=mock(RpcResponse.class);
  cache.callCompleted(clientIp,xid,response);
  e=cache.checkOrAddToCache(clientIp,xid);
  validateCompletedCacheEntry(e,response);
}
