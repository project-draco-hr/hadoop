{
  WebResource r=resource();
  Application app=new MockApp(1);
  nmContext.getApplications().put(app.getAppId(),app);
  addAppContainers(app);
  Application app2=new MockApp(2);
  nmContext.getApplications().put(app2.getAppId(),app2);
  addAppContainers(app2);
  ClientResponse response=r.path("ws").path("v1").path("node").path(path).accept(media).get(ClientResponse.class);
  assertEquals(MediaType.APPLICATION_JSON_TYPE,response.getType());
  JSONObject json=response.getEntity(JSONObject.class);
  JSONObject info=json.getJSONObject("containers");
  assertEquals("incorrect number of elements",1,info.length());
  JSONArray conInfo=info.getJSONArray("container");
  assertEquals("incorrect number of elements",4,conInfo.length());
  for (int i=0; i < conInfo.length(); i++) {
    verifyNodeContainerInfo(conInfo.getJSONObject(i),nmContext.getContainers().get(ConverterUtils.toContainerId(conInfo.getJSONObject(i).getString("id"))));
  }
}
