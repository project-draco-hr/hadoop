{
  if (clazz != null) {
    try {
      Constructor<? extends ResourceCalculatorProcessTree> c=clazz.getConstructor(String.class);
      ResourceCalculatorProcessTree rctree=c.newInstance(pid);
      rctree.setConf(conf);
      return rctree;
    }
 catch (    Exception e) {
      throw new RuntimeException(e);
    }
  }
  try {
    String osName=System.getProperty("os.name");
    if (osName.startsWith("Linux")) {
      return new ProcfsBasedProcessTree(pid);
    }
  }
 catch (  SecurityException se) {
    return null;
  }
  return null;
}
