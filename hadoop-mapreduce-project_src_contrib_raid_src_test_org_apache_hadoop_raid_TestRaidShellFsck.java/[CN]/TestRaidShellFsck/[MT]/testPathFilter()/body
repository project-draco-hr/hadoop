{
  LOG.info("testPathFilter");
  setUp(false);
  waitUntilCorruptFileCount(dfs,0);
  removeParityBlock(FILE_PATH0,1);
  waitUntilCorruptFileCount(dfs,1);
  removeFileBlock(FILE_PATH0,1,0);
  waitUntilCorruptFileCount(dfs,2);
  String[] otherArgs=new String[2];
  otherArgs[0]="-fsck";
  otherArgs[1]="/user/pkling/other";
  int result=ToolRunner.run(shell,otherArgs);
  assertTrue("fsck should return 0, but returns " + Integer.toString(result),result == 0);
}
