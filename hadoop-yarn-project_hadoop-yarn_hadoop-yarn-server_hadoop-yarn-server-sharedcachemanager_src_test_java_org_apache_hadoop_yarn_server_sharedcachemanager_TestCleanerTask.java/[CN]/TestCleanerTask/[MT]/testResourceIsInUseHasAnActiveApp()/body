{
  FileSystem fs=mock(FileSystem.class);
  CleanerMetrics metrics=mock(CleanerMetrics.class);
  SCMStore store=mock(SCMStore.class);
  FileStatus resource=mock(FileStatus.class);
  when(resource.getPath()).thenReturn(new Path(ROOT + "/a/b/c/abc"));
  when(store.isResourceEvictable(isA(String.class),isA(FileStatus.class))).thenReturn(true);
  when(store.removeResource(isA(String.class))).thenReturn(false);
  CleanerTask task=createSpiedTask(fs,store,metrics,new ReentrantLock());
  task.processSingleResource(resource);
  verify(metrics).reportAFileProcess();
  verify(metrics,never()).reportAFileDelete();
}
