{
  FileSystem fs=mock(FileSystem.class);
  CleanerMetrics metrics=mock(CleanerMetrics.class);
  SCMStore store=mock(SCMStore.class);
  CleanerTask task=createSpiedTask(fs,store,metrics,new ReentrantLock());
  when(store.isResourceEvictable(isA(String.class),isA(FileStatus.class))).thenReturn(false);
  FileStatus status=mock(FileStatus.class);
  when(status.getPath()).thenReturn(new Path(ROOT + "/a/b/c/abc"));
  task.processSingleResource(status);
  verify(fs,never()).rename(eq(status.getPath()),isA(Path.class));
  verify(metrics).reportAFileProcess();
  verify(metrics,never()).reportAFileDelete();
}
