{
  if (LOG.isDebugEnabled()) {
    LOG.debug("noteFailure " + exception,null);
  }
  if (exception == null) {
    return;
  }
synchronized (this) {
    if (failureCause == null) {
      failureCause=exception;
      failureState=getServiceState();
      LOG.info("Service " + getName() + " failed in state "+ failureState+ "; cause: "+ exception,exception);
    }
  }
}
