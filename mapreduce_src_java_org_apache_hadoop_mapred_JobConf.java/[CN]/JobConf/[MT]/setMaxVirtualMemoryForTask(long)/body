{
  LOG.warn("setMaxVirtualMemoryForTask() is deprecated." + "Instead use setMemoryForMapTask() and setMemoryForReduceTask()");
  if (vmem != DISABLED_MEMORY_LIMIT && vmem < 0) {
    setMemoryForMapTask(DISABLED_MEMORY_LIMIT);
    setMemoryForReduceTask(DISABLED_MEMORY_LIMIT);
  }
  if (get(JobConf.MAPRED_TASK_MAXVMEM_PROPERTY) == null) {
    setMemoryForMapTask(vmem / (1024 * 1024));
    setMemoryForReduceTask(vmem / (1024 * 1024));
  }
 else {
    this.setLong(JobConf.MAPRED_TASK_MAXVMEM_PROPERTY,vmem);
  }
}
