{
  LOG.warn("getMaxVirtualMemoryForTask() is deprecated. " + "Instead use getMemoryForMapTask() and getMemoryForReduceTask()");
  long value=getLong(MAPRED_TASK_MAXVMEM_PROPERTY,DISABLED_MEMORY_LIMIT);
  value=normalizeMemoryConfigValue(value);
  if (value == DISABLED_MEMORY_LIMIT) {
    value=Math.max(getMemoryForMapTask(),getMemoryForReduceTask());
    value=normalizeMemoryConfigValue(value);
    if (value != DISABLED_MEMORY_LIMIT) {
      value*=1024 * 1024;
    }
  }
  return value;
}
