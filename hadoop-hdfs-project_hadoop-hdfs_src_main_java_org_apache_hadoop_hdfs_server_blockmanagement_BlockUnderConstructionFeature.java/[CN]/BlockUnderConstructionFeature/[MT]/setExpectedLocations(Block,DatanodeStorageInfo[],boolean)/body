{
  int numLocations=targets == null ? 0 : targets.length;
  this.replicas=new ReplicaUnderConstruction[numLocations];
  for (int i=0; i < numLocations; i++) {
    Block replicaBlock=isStriped ? new Block(block.getBlockId() + i,0,block.getGenerationStamp()) : block;
    replicas[i]=new ReplicaUnderConstruction(replicaBlock,targets[i],ReplicaState.RBW);
  }
}
