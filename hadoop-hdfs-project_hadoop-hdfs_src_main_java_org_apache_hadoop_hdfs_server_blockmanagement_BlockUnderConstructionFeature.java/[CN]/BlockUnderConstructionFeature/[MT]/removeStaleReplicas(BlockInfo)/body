{
  final long genStamp=block.getGenerationStamp();
  if (replicas != null) {
    for (    ReplicaUnderConstruction r : replicas) {
      if (genStamp != r.getGenerationStamp()) {
        r.getExpectedStorageLocation().removeBlock(block);
        NameNode.blockStateChangeLog.debug("BLOCK* Removing stale replica " + "from location: {}",r.getExpectedStorageLocation());
      }
    }
  }
}
