{
synchronized (invalidateBlocks) {
    Block[] deleteList=invalidateBlocks.pollToArray(new Block[Math.min(invalidateBlocks.size(),maxblocks)]);
    return deleteList.length == 0 ? null : deleteList;
  }
}
