{
  boolean newBlock=flag.contains(CreateFlag.NEW_BLOCK);
  if (newBlock) {
    requireEffectiveLayoutVersionForFeature(Feature.APPEND_NEW_BLOCK);
  }
  try {
    return appendFileInt(src,holder,clientMachine,newBlock,logRetryCache);
  }
 catch (  AccessControlException e) {
    logAuditEvent(false,"append",src);
    throw e;
  }
}
