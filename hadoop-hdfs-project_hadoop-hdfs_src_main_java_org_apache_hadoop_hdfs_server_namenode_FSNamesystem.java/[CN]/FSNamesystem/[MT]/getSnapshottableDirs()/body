{
  List<String> snapshottableDirs=new ArrayList<String>();
  final FSPermissionChecker pc=getFSDirectory().getPermissionChecker();
  final String user=pc.isSuperUser() ? null : pc.getUser();
  final SnapshottableDirectoryStatus[] snapDirs=snapshotManager.getSnapshottableDirListing(user);
  if (snapDirs != null) {
    for (    SnapshottableDirectoryStatus sds : snapDirs) {
      snapshottableDirs.add(sds.getFullPath().toString());
    }
  }
  return snapshottableDirs;
}
