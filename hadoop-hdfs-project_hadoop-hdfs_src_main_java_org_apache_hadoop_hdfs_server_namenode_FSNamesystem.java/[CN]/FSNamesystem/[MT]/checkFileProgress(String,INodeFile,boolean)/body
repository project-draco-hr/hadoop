{
  readLock();
  try {
    if (checkall) {
      return blockManager.checkBlocksProperlyReplicated(src,v.getBlocks());
    }
 else {
      BlockInfoContiguous b=v.getPenultimateBlock();
      return b == null || blockManager.checkBlocksProperlyReplicated(src,new BlockInfoContiguous[]{b});
    }
  }
  finally {
    readUnlock();
  }
}
