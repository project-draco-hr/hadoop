{
  if (isInStandbyState() || !getEditLog().isSegmentOpen()) {
    return 0;
  }
 else {
    return getEditLog().getLastWrittenTxId() - getEditLog().getCurSegmentTxId() + 1;
  }
}
