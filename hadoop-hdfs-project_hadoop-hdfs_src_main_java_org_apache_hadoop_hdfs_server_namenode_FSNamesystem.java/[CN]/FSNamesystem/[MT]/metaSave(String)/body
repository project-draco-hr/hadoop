{
  writeLock();
  try {
    checkSuperuserPrivilege();
    File file=new File(System.getProperty("hadoop.log.dir"),filename);
    PrintWriter out=new PrintWriter(new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file,true),Charsets.UTF_8)));
    metaSave(out);
    out.flush();
    out.close();
  }
  finally {
    writeUnlock();
  }
}
