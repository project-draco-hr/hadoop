{
  FSPermissionChecker pc=new FSPermissionChecker(fsOwner.getShortUserName(),supergroup);
  if (!pc.isSuper) {
    dir.waitForReady();
    readLock();
    try {
      pc.checkPermission(path,dir.rootDir,doCheckOwner,ancestorAccess,parentAccess,access,subAccess);
    }
  finally {
      readUnlock();
    }
  }
  return pc;
}
