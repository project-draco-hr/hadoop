{
  checkBlock(last);
  boolean success=false;
  writeLock();
  try {
    checkOperation(OperationCategory.WRITE);
    success=completeFileInternal(src,holder,ExtendedBlock.getLocalBlock(last));
  }
  finally {
    writeUnlock();
  }
  getEditLog().logSync();
  return success;
}
