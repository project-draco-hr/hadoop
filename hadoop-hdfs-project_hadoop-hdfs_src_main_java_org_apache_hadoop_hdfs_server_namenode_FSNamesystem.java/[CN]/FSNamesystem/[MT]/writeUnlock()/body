{
  final boolean needReport=fsLock.getWriteHoldCount() == 1 && fsLock.isWriteLockedByCurrentThread();
  final long writeLockInterval=monotonicNow() - writeLockHeldTimeStamp;
  this.fsLock.writeLock().unlock();
  if (needReport && writeLockInterval >= this.writeLockReportingThreshold) {
    LOG.info("FSNamesystem write lock held for " + writeLockInterval + " ms via\n"+ StringUtils.getStackTrace(Thread.currentThread()));
  }
}
