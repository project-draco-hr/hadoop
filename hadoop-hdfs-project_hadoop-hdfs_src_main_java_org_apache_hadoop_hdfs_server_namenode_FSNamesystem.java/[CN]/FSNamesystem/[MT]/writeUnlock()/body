{
  final boolean needReport=fsLock.getWriteHoldCount() == 1 && fsLock.isWriteLockedByCurrentThread();
  this.fsLock.writeLock().unlock();
  if (needReport) {
    long writeLockInterval=monotonicNow() - writeLockHeldTimeStamp;
    if (writeLockInterval >= WRITELOCK_REPORTING_THRESHOLD) {
      LOG.info("FSNamesystem write lock held for " + writeLockInterval + " ms via\n"+ StringUtils.getStackTrace(Thread.currentThread()));
    }
  }
}
