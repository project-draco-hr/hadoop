{
  checkOperation(OperationCategory.READ);
  byte[][] pathComponents=FSDirectory.getPathComponentsForReservedPath(src);
  readLock();
  try {
    checkOperation(OperationCategory.READ);
    src=FSDirectory.resolvePath(src,pathComponents,dir);
    final INodesInPath iip=dir.getINodesInPath(src,true);
    INode[] inodes=iip.getINodes();
    if (inodes[inodes.length - 1] == null) {
      throw new FileNotFoundException("Path not found");
    }
    if (isPermissionEnabled) {
      FSPermissionChecker pc=getPermissionChecker();
      dir.checkPathAccess(pc,iip,mode);
    }
  }
 catch (  AccessControlException e) {
    logAuditEvent(false,"checkAccess",src);
    throw e;
  }
 finally {
    readUnlock();
  }
}
