{
  UserGroupInformation ugi=null;
  if (Server.isRpcInvocation()) {
    ugi=Server.getRemoteUser();
  }
  return (ugi != null) ? ugi : UserGroupInformation.getCurrentUser();
}
