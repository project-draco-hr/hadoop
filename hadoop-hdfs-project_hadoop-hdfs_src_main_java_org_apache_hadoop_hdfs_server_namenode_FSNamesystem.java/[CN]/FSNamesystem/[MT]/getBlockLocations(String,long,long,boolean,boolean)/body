{
  if (isPermissionEnabled) {
    checkPathAccess(src,FsAction.READ);
  }
  if (offset < 0) {
    throw new HadoopIllegalArgumentException("Negative offset is not supported. File: " + src);
  }
  if (length < 0) {
    throw new HadoopIllegalArgumentException("Negative length is not supported. File: " + src);
  }
  final LocatedBlocks ret=getBlockLocationsUpdateTimes(src,offset,length,doAccessTime,needBlockToken);
  if (auditLog.isInfoEnabled() && isExternalInvocation()) {
    logAuditEvent(UserGroupInformation.getCurrentUser(),Server.getRemoteIp(),"open",src,null,null);
  }
  return ret;
}
