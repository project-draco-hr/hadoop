{
  resourceRecheckInterval=conf.getLong(DFS_NAMENODE_RESOURCE_CHECK_INTERVAL_KEY,DFS_NAMENODE_RESOURCE_CHECK_INTERVAL_DEFAULT);
  this.systemStart=now();
  this.blockManager=new BlockManager(this,conf);
  this.datanodeStatistics=blockManager.getDatanodeManager().getDatanodeStatistics();
  this.fsLock=new ReentrantReadWriteLock(true);
  setConfigurationParameters(conf);
  dtSecretManager=createDelegationTokenSecretManager(conf);
  this.dir=new FSDirectory(fsImage,this,conf);
  this.safeMode=new SafeModeInfo(conf);
}
