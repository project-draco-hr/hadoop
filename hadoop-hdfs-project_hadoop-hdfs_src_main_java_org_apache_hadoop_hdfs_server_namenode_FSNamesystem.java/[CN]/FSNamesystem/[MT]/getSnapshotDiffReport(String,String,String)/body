{
  SnapshotDiffReport diffs=null;
  checkOperation(OperationCategory.READ);
  readLock();
  try {
    checkOperation(OperationCategory.READ);
    diffs=FSDirSnapshotOp.getSnapshotDiffReport(dir,snapshotManager,path,fromSnapshot,toSnapshot);
  }
  finally {
    readUnlock();
  }
  logAuditEvent(diffs != null,"computeSnapshotDiff",null,null,null);
  return diffs;
}
