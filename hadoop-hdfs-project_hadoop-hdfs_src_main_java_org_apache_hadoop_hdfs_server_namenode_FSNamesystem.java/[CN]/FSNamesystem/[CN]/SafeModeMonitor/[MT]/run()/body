{
  while (fsRunning && (safeMode != null && !safeMode.canLeave())) {
    try {
      Thread.sleep(recheckInterval);
    }
 catch (    InterruptedException ie) {
    }
  }
  if (!fsRunning) {
    LOG.info("NameNode is being shutdown, exit SafeModeMonitor thread. ");
  }
 else {
    leaveSafeMode();
  }
  smmthread=null;
}
