{
  while (fsRunning && shouldRun) {
    try {
      FSEditLog editLog=getFSImage().getEditLog();
      long numEdits=editLog.getLastWrittenTxId() - editLog.getCurSegmentTxId();
      if (numEdits > rollThreshold) {
        FSNamesystem.LOG.info("NameNode rolling its own edit log because" + " number of edits in open segment exceeds threshold of " + rollThreshold);
        rollEditLog();
      }
      Thread.sleep(sleepIntervalMs);
    }
 catch (    InterruptedException e) {
      FSNamesystem.LOG.info(NameNodeEditLogRoller.class.getSimpleName() + " was interrupted, exiting");
      break;
    }
catch (    Exception e) {
      FSNamesystem.LOG.error("Swallowing exception in " + NameNodeEditLogRoller.class.getSimpleName() + ":",e);
    }
  }
}
