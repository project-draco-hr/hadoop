{
  String derefFlag="-";
  if (dereference) {
    derefFlag="-L";
  }
  if (Shell.LINUX) {
    return new String[]{"stat",derefFlag + "c","%s,%F,%Y,%X,%a,%U,%G,%N",path.toString()};
  }
 else   if (Shell.FREEBSD || Shell.MAC) {
    return new String[]{"stat",derefFlag + "f","%z,%HT,%m,%a,%Op,%Su,%Sg,`link' -> `%Y'",path.toString()};
  }
 else {
    throw new UnsupportedOperationException("stat is not supported on this platform");
  }
}
