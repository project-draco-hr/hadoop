{
  long st=System.currentTimeMillis();
  while (System.currentTimeMillis() - st < 2000) {
    if (hm.getHealthState() == state) {
      return;
    }
    Thread.sleep(50);
  }
  assertEquals(state,hm.getHealthState());
}
