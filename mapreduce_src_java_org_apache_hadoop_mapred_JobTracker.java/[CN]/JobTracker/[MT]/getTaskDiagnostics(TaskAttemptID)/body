{
  List<String> taskDiagnosticInfo=null;
  JobID jobId=taskId.getJobID();
  TaskID tipId=taskId.getTaskID();
  JobInProgress job=jobs.get(jobId);
  if (job != null) {
    aclsManager.checkAccess(job,UserGroupInformation.getCurrentUser(),Operation.VIEW_JOB_DETAILS);
    if (isJobInited(job)) {
      TaskInProgress tip=job.getTaskInProgress(tipId);
      if (tip != null) {
        taskDiagnosticInfo=tip.getDiagnosticInfo(taskId);
      }
    }
  }
  return ((taskDiagnosticInfo == null) ? EMPTY_TASK_DIAGNOSTICS : taskDiagnosticInfo.toArray(new String[taskDiagnosticInfo.size()]));
}
