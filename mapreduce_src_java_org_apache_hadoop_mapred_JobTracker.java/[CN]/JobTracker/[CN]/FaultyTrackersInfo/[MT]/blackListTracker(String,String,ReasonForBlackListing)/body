{
  FaultInfo fi=getFaultInfo(hostName,true);
  boolean blackListed=fi.isBlacklisted();
  if (blackListed) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Adding blacklisted reason for tracker : " + hostName + " Reason for blacklisting is : "+ rfb+ " Reason details : "+ reason);
    }
    if (!fi.getReasonforblacklisting().contains(rfb)) {
      LOG.info("Adding blacklisted reason for tracker : " + hostName + " Reason for blacklisting is : "+ rfb+ " Reason details : "+ reason);
    }
    fi.addBlackListedReason(rfb,reason);
  }
 else {
    LOG.info("Blacklisting tracker : " + hostName + " Reason for blacklisting is : "+ rfb+ " Reason details : "+ reason);
    Set<TaskTracker> trackers=hostnameToTaskTracker.get(hostName);
synchronized (trackers) {
      for (      TaskTracker tracker : trackers) {
        tracker.cancelAllReservations();
      }
    }
    removeHostCapacity(hostName);
    fi.setBlacklist(rfb,reason);
  }
}
