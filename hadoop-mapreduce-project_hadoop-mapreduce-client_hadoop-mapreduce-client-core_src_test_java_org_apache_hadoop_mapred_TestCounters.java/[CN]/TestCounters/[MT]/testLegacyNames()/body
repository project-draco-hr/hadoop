{
  Counters counters=new Counters();
  counters.incrCounter(TaskCounter.MAP_INPUT_RECORDS,1);
  counters.incrCounter(JobCounter.DATA_LOCAL_MAPS,1);
  counters.findCounter("file",FileSystemCounter.BYTES_READ).increment(1);
  assertEquals("New name",1,counters.findCounter(TaskCounter.class.getName(),"MAP_INPUT_RECORDS").getValue());
  assertEquals("Legacy name",1,counters.findCounter("org.apache.hadoop.mapred.Task$Counter","MAP_INPUT_RECORDS").getValue());
  assertEquals("New name",1,counters.findCounter(JobCounter.class.getName(),"DATA_LOCAL_MAPS").getValue());
  assertEquals("Legacy name",1,counters.findCounter("org.apache.hadoop.mapred.JobInProgress$Counter","DATA_LOCAL_MAPS").getValue());
  assertEquals("New name",1,counters.findCounter(FileSystemCounter.class.getName(),"FILE_BYTES_READ").getValue());
  assertEquals("New name and method",1,counters.findCounter("file",FileSystemCounter.BYTES_READ).getValue());
  assertEquals("Legacy name",1,counters.findCounter("FileSystemCounter","FILE_BYTES_READ").getValue());
}
