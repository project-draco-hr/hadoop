{
  for (int i=0; i < org.apache.hadoop.mapred.Counters.MAX_COUNTER_LIMIT; ++i) {
    counters.findCounter("test","test" + i);
  }
  setExpected(counters);
  shouldThrow(CountersExceededException.class,new Runnable(){
    public void run(){
      counters.findCounter("test","bad");
    }
  }
);
  checkExpected(counters);
}
