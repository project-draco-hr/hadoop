{
  INode srcINode=store.retrieveINode(src);
  store.storeINode(dst,srcINode);
  store.deleteINode(src);
  if (srcINode.isDirectory()) {
    for (    Path oldSrc : store.listDeepSubPaths(src)) {
      INode inode=store.retrieveINode(oldSrc);
      if (inode == null) {
        return false;
      }
      String oldSrcPath=oldSrc.toUri().getPath();
      String srcPath=src.toUri().getPath();
      String dstPath=dst.toUri().getPath();
      Path newDst=new Path(oldSrcPath.replaceFirst(srcPath,dstPath));
      store.storeINode(newDst,inode);
      store.deleteINode(oldSrc);
    }
  }
  return true;
}
