{
  HttpServletRequest request=mock(HttpServletRequest.class);
  when(request.getRemoteUser()).thenReturn(user);
  AggregatedLogsBlockForTest aggregatedBlock=new AggregatedLogsBlockForTest(configuration);
  aggregatedBlock.setRequest(request);
  aggregatedBlock.moreParams().put(YarnWebParams.CONTAINER_ID,containerId);
  aggregatedBlock.moreParams().put(YarnWebParams.NM_NODENAME,"localhost:1234");
  aggregatedBlock.moreParams().put(YarnWebParams.APP_OWNER,user);
  aggregatedBlock.moreParams().put("start","");
  aggregatedBlock.moreParams().put("end","");
  aggregatedBlock.moreParams().put(YarnWebParams.ENTITY_STRING,"entity");
  return aggregatedBlock;
}
