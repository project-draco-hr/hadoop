{
  URI[] tarchives=DistributedCache.getCacheArchives(job);
  if (tarchives != null) {
    StringBuilder archiveVisibilities=new StringBuilder(String.valueOf(isPublic(job,tarchives[0])));
    for (int i=1; i < tarchives.length; i++) {
      archiveVisibilities.append(",");
      archiveVisibilities.append(String.valueOf(isPublic(job,tarchives[i])));
    }
    setArchiveVisibilities(job,archiveVisibilities.toString());
  }
  URI[] tfiles=DistributedCache.getCacheFiles(job);
  if (tfiles != null) {
    StringBuilder fileVisibilities=new StringBuilder(String.valueOf(isPublic(job,tfiles[0])));
    for (int i=1; i < tfiles.length; i++) {
      fileVisibilities.append(",");
      fileVisibilities.append(String.valueOf(isPublic(job,tfiles[i])));
    }
    setFileVisibilities(job,fileVisibilities.toString());
  }
}
