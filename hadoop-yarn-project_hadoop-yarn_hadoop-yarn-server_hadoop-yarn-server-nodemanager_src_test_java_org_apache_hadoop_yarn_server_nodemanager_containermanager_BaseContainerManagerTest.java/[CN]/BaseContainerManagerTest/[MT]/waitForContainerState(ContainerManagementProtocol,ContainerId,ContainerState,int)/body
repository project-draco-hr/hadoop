{
  List<ContainerId> list=new ArrayList<ContainerId>();
  list.add(containerID);
  GetContainerStatusesRequest request=GetContainerStatusesRequest.newInstance(list);
  ContainerStatus containerStatus=null;
  int timeoutSecs=0;
  do {
    Thread.sleep(2000);
    containerStatus=containerManager.getContainerStatuses(request).getContainerStatuses().get(0);
    LOG.info("Waiting for container to get into state " + finalState + ". Current state is "+ containerStatus.getState());
    timeoutSecs+=2;
  }
 while (!containerStatus.getState().equals(finalState) && timeoutSecs < timeOutMax);
  LOG.info("Container state is " + containerStatus.getState());
  Assert.assertEquals("ContainerState is not correct (timedout)",finalState,containerStatus.getState());
}
