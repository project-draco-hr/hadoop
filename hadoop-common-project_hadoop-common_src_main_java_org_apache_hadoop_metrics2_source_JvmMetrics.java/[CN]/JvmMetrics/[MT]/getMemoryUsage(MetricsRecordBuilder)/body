{
  MemoryUsage memNonHeap=memoryMXBean.getNonHeapMemoryUsage();
  MemoryUsage memHeap=memoryMXBean.getHeapMemoryUsage();
  Runtime runtime=Runtime.getRuntime();
  rb.addGauge(MemNonHeapUsedM,memNonHeap.getUsed() / M).addGauge(MemNonHeapCommittedM,memNonHeap.getCommitted() / M).addGauge(MemNonHeapMaxM,calculateMaxMemoryUsage(memNonHeap)).addGauge(MemHeapUsedM,memHeap.getUsed() / M).addGauge(MemHeapCommittedM,memHeap.getCommitted() / M).addGauge(MemHeapMaxM,calculateMaxMemoryUsage(memHeap)).addGauge(MemMaxM,runtime.maxMemory() / M);
}
