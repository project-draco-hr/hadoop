{
  int bytesRead=in.read(buffer);
  if (inDelimiter && bytesRead > 0) {
    if (usingCRLF) {
      needAdditionalRecord=(buffer[0] != '\n');
    }
 else {
      needAdditionalRecord=true;
    }
  }
  return bytesRead;
}
