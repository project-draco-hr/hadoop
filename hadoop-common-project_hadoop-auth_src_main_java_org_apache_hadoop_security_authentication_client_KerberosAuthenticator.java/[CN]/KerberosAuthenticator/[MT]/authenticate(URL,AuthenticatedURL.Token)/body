{
  if (!token.isSet()) {
    this.url=url;
    base64=new Base64(0);
    conn=(HttpURLConnection)url.openConnection();
    if (connConfigurator != null) {
      conn=connConfigurator.configure(conn);
    }
    conn.setRequestMethod(AUTH_HTTP_METHOD);
    conn.connect();
    if (isNegotiate()) {
      doSpnegoSequence(token);
    }
 else {
      getFallBackAuthenticator().authenticate(url,token);
    }
  }
}
