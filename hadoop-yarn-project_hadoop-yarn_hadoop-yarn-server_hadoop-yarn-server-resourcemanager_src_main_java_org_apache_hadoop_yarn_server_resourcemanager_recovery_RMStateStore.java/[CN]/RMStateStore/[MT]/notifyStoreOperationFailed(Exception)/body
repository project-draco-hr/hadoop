{
  LOG.error("State store operation failed ",failureCause);
  if (failureCause instanceof StoreFencedException) {
    updateFencedState();
    Thread standByTransitionThread=new Thread(new StandByTransitionThread());
    standByTransitionThread.setName("StandByTransitionThread Handler");
    standByTransitionThread.start();
  }
 else {
    if (YarnConfiguration.shouldRMFailFast(getConfig())) {
      rmDispatcher.getEventHandler().handle(new RMFatalEvent(RMFatalEventType.STATE_STORE_OP_FAILED,failureCause));
    }
  }
}
