{
  ApplicationState appState=new ApplicationState(app.getSubmitTime(),app.getApplicationSubmissionContext(),app.getUser());
  for (  RMAppAttempt appAttempt : app.getAppAttempts().values()) {
    Credentials credentials=getCredentialsFromAppAttempt(appAttempt);
    ApplicationAttemptState attemptState=new ApplicationAttemptState(appAttempt.getAppAttemptId(),appAttempt.getMasterContainer(),credentials);
    appState.attempts.put(attemptState.getAttemptId(),attemptState);
  }
  removeApplication(appState);
}
