{
  String orgName=conf.getProperty(ORG_NAME);
  String orgDomain=conf.getProperty(ORG_DOMAIN);
  String baseDn="ou=users,dc=" + orgName.toLowerCase(Locale.ENGLISH) + ",dc="+ orgDomain.toLowerCase(Locale.ENGLISH);
  String content="dn: uid=" + principal + ","+ baseDn+ "\n"+ "objectClass: top\n"+ "objectClass: person\n"+ "objectClass: inetOrgPerson\n"+ "objectClass: krb5principal\n"+ "objectClass: krb5kdcentry\n"+ "cn: "+ principal+ "\n"+ "sn: "+ principal+ "\n"+ "uid: "+ principal+ "\n"+ "userPassword: "+ password+ "\n"+ "krb5PrincipalName: "+ principal+ "@"+ getRealm()+ "\n"+ "krb5KeyVersionNumber: 0";
  for (  LdifEntry ldifEntry : new LdifReader(new StringReader(content))) {
    ds.getAdminSession().add(new DefaultEntry(ds.getSchemaManager(),ldifEntry.getEntry()));
  }
}
