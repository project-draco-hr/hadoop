{
  final HdfsConfiguration conf=new HdfsConfiguration();
  conf.setInt(DFSConfigKeys.DFS_NAMENODE_REPLICATION_INTERVAL_KEY,1);
  conf.setBoolean(DFSConfigKeys.DFS_NAMENODE_REPLICATION_CONSIDERLOAD_KEY,false);
  cluster=new MiniDFSCluster.Builder(conf).racks(racks).hosts(hosts).numDataNodes(hosts.length).build();
  cluster.waitActive();
  fsn=cluster.getNamesystem();
  bm=fsn.getBlockManager();
  fs=cluster.getFileSystem();
  fs.setErasureCodingPolicy(new Path("/"),null);
}
