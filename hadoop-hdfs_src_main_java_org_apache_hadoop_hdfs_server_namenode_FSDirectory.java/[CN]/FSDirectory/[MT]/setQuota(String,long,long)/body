{
  writeLock();
  try {
    INodeDirectory dir=unprotectedSetQuota(src,nsQuota,dsQuota);
    if (dir != null) {
      fsImage.getEditLog().logSetQuota(src,dir.getNsQuota(),dir.getDsQuota());
    }
  }
  finally {
    writeUnlock();
  }
}
