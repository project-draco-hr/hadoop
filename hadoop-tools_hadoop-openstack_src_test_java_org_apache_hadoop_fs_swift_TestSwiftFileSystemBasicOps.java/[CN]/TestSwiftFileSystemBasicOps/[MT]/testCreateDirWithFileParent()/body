{
  Path path=new Path("/test/CreateDirWithFileParent");
  Path child=new Path(path,"subdir/child");
  fs.mkdirs(path.getParent());
  try {
    writeTextFile(fs,path,"parent",true);
    try {
      fs.mkdirs(child);
    }
 catch (    ParentNotDirectoryException expected) {
      LOG.debug("Expected Exception",expected);
    }
  }
  finally {
    fs.delete(path,true);
  }
}
