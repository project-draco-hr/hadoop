{
  final String[] racks={"/d1/r1","/d1/r1","/d1/r1","/d1/r2","/d1/r2","/d1/r2","/d1/r3","/d1/r3","/d1/r3"};
  storages=DFSTestUtil.createDatanodeStorageInfos(racks);
  DatanodeDescriptor dataNodes[]=DFSTestUtil.toDatanodeDescriptor(storages);
  for (int i=0; i < dataNodes.length; i++) {
    String upgradeDomain=Integer.toString((i % 3) + 1);
    dataNodes[i].setUpgradeDomain(upgradeDomain);
  }
  return dataNodes;
}
