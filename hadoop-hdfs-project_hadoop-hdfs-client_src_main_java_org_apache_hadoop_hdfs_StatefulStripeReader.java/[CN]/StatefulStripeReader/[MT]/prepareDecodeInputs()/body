{
  final ByteBuffer cur;
synchronized (dfsStripedInputStream) {
    cur=dfsStripedInputStream.getCurStripeBuf().duplicate();
  }
  this.decodeInputs=new ECChunk[dataBlkNum + parityBlkNum];
  int bufLen=(int)alignedStripe.getSpanInBlock();
  int bufOff=(int)alignedStripe.getOffsetInBlock();
  for (int i=0; i < dataBlkNum; i++) {
    cur.limit(cur.capacity());
    int pos=bufOff % cellSize + cellSize * i;
    cur.position(pos);
    cur.limit(pos + bufLen);
    decodeInputs[i]=new ECChunk(cur.slice(),0,bufLen);
    if (alignedStripe.chunks[i] == null) {
      alignedStripe.chunks[i]=new StripingChunk(decodeInputs[i].getBuffer());
    }
  }
}
