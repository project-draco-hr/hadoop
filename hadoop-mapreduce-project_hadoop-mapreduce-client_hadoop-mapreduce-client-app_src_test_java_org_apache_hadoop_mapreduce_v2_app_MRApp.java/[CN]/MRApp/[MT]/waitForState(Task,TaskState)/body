{
  int timeoutSecs=0;
  TaskReport report=task.getReport();
  while (!finalState.equals(report.getTaskState()) && timeoutSecs++ < 20) {
    System.out.println("Task State for " + task.getID() + " is : "+ report.getTaskState()+ " Waiting for state : "+ finalState+ "   progress : "+ report.getProgress());
    report=task.getReport();
    Thread.sleep(500);
  }
  System.out.println("Task State is : " + report.getTaskState());
  Assert.assertEquals("Task state is not correct (timedout)",finalState,report.getTaskState());
}
