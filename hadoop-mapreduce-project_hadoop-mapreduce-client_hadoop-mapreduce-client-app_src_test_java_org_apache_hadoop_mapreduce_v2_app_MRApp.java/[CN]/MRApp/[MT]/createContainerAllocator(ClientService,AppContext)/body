{
  return new ContainerAllocator(){
    private int containerCount;
    @Override public void handle(    ContainerAllocatorEvent event){
      ContainerId cId=recordFactory.newRecordInstance(ContainerId.class);
      cId.setApplicationAttemptId(getContext().getApplicationAttemptId());
      cId.setId(containerCount++);
      NodeId nodeId=BuilderUtils.newNodeId("localhost",1234);
      Container container=BuilderUtils.newContainer(cId,nodeId,"localhost:9999",null,null,null);
      getContext().getEventHandler().handle(new TaskAttemptContainerAssignedEvent(event.getAttemptID(),container,null));
    }
  }
;
}
