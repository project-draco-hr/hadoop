{
  Map<String,String> params=new HashMap<String,String>();
  params.put(OP_PARAM,Operation.LISTSTATUS.toString());
  HttpURLConnection conn=getConnection(Operation.LISTSTATUS.getMethod(),params,f,true);
  HttpExceptionUtils.validateResponse(conn,HttpURLConnection.HTTP_OK);
  JSONObject json=(JSONObject)HttpFSUtils.jsonParse(conn);
  json=(JSONObject)json.get(FILE_STATUSES_JSON);
  JSONArray jsonArray=(JSONArray)json.get(FILE_STATUS_JSON);
  FileStatus[] array=new FileStatus[jsonArray.size()];
  f=makeQualified(f);
  for (int i=0; i < jsonArray.size(); i++) {
    array[i]=createFileStatus(f,(JSONObject)jsonArray.get(i));
  }
  return array;
}
