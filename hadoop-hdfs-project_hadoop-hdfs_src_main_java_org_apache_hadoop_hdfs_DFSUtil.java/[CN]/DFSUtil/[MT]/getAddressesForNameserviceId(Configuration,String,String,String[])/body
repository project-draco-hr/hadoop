{
  Collection<String> nnIds=getNameNodeIds(conf,nsId);
  Map<String,InetSocketAddress> ret=Maps.newHashMap();
  for (  String nnId : emptyAsSingletonNull(nnIds)) {
    String suffix=concatSuffixes(nsId,nnId);
    String address=getConfValue(defaultValue,suffix,conf,keys);
    if (address != null) {
      InetSocketAddress isa=NetUtils.createSocketAddr(address);
      ret.put(nnId,isa);
    }
  }
  return ret;
}
