{
  if (json == null) {
    return null;
  }
  final Map<?,?> m=(Map<?,?>)json.get(ContentSummary.class.getSimpleName());
  final long length=((Number)m.get("length")).longValue();
  final long fileCount=((Number)m.get("fileCount")).longValue();
  final long directoryCount=((Number)m.get("directoryCount")).longValue();
  final long quota=((Number)m.get("quota")).longValue();
  final long spaceConsumed=((Number)m.get("spaceConsumed")).longValue();
  final long spaceQuota=((Number)m.get("spaceQuota")).longValue();
  final Map<?,?> typem=(Map<?,?>)m.get("typeQuota");
  Builder contentSummaryBuilder=new ContentSummary.Builder().length(length).fileCount(fileCount).directoryCount(directoryCount).quota(quota).spaceConsumed(spaceConsumed).spaceQuota(spaceQuota);
  if (typem != null) {
    for (    StorageType t : StorageType.getTypesSupportingQuota()) {
      Map<?,?> type=(Map<?,?>)typem.get(t.toString());
      if (type != null) {
        contentSummaryBuilder=contentSummaryBuilder.typeQuota(t,((Number)type.get("quota")).longValue()).typeConsumed(t,((Number)type.get("consumed")).longValue());
      }
    }
  }
  return contentSummaryBuilder.build();
}
