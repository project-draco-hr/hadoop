{
  ByteBuffer dup=src.duplicate();
  int newLen=Math.min(readBuf.remaining(),dup.remaining());
  newLen=Math.min(newLen,length);
  dup.limit(dup.position() + newLen);
  readBuf.put(dup);
  return newLen;
}
