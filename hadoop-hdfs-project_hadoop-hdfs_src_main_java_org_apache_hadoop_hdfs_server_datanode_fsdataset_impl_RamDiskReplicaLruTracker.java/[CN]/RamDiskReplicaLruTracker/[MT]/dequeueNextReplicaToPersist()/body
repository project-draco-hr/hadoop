{
  while (replicasNotPersisted.size() != 0) {
    RamDiskReplicaLru ramDiskReplicaLru=replicasNotPersisted.remove();
    Map<Long,RamDiskReplicaLru> replicaMap=replicaMaps.get(ramDiskReplicaLru.getBlockPoolId());
    if (replicaMap != null && replicaMap.get(ramDiskReplicaLru.getBlockId()) != null) {
      return ramDiskReplicaLru;
    }
  }
  return null;
}
