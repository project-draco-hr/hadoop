{
  IndexUpdateConfiguration iconf=new IndexUpdateConfiguration(conf);
  iconf.setIndexMaxFieldLength(2);
  iconf.setIndexUseCompoundFile(true);
  iconf.setIndexMaxNumSegments(1);
  iconf.setMaxRAMSizeInBytes(20480);
  long versionNumber=-1;
  long generation=-1;
  for (int i=0; i < numRuns; i++) {
    if (fs.exists(outputPath)) {
      fs.delete(outputPath,true);
    }
    Shard[] shards=new Shard[initNumShards + i];
    for (int j=0; j < shards.length; j++) {
      shards[j]=new Shard(versionNumber,new Path(indexPath,NUMBER_FORMAT.format(j)).toString(),generation);
    }
    run(i + 1,shards);
  }
}
