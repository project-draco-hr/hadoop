{
  Path fsWorkingPath=new Path(conf.get(YarnConfiguration.FS_APPLICATION_HISTORY_STORE_URI,conf.get("hadoop.tmp.dir") + "/yarn/timeline/generic-history"));
  rootDirPath=new Path(fsWorkingPath,ROOT_DIR_NAME);
  try {
    fs=getFileSystem(fsWorkingPath,conf);
    if (!fs.isDirectory(rootDirPath)) {
      fs.mkdirs(rootDirPath);
      fs.setPermission(rootDirPath,ROOT_DIR_UMASK);
    }
  }
 catch (  IOException e) {
    LOG.error("Error when initializing FileSystemHistoryStorage",e);
    throw e;
  }
  super.serviceInit(conf);
}
