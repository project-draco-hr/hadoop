{
  UnRegisterNodeManagerResponse response=recordFactory.newRecordInstance(UnRegisterNodeManagerResponse.class);
  NodeId nodeId=request.getNodeId();
  RMNode rmNode=this.rmContext.getRMNodes().get(nodeId);
  if (rmNode == null) {
    LOG.info("Node not found, ignoring the unregister from node id : " + nodeId);
    return response;
  }
  LOG.info("Node with node id : " + nodeId + " has shutdown, hence unregistering the node.");
  this.nmLivelinessMonitor.unregister(nodeId);
  this.rmContext.getDispatcher().getEventHandler().handle(new RMNodeEvent(nodeId,RMNodeEventType.SHUTDOWN));
  return response;
}
