{
  Configuration conf=new Configuration();
  LocalContainerAllocator lca=new StubbedLocalContainerAllocator();
  lca.init(conf);
  lca.start();
  try {
    lca.heartbeat();
    Assert.fail("heartbeat was supposed to throw");
  }
 catch (  YarnException e) {
  }
 finally {
    lca.stop();
  }
  conf.setLong(MRJobConfig.MR_AM_TO_RM_WAIT_INTERVAL_MS,0);
  lca=new StubbedLocalContainerAllocator();
  lca.init(conf);
  lca.start();
  try {
    lca.heartbeat();
    Assert.fail("heartbeat was supposed to throw");
  }
 catch (  YarnRuntimeException e) {
  }
 finally {
    lca.stop();
  }
}
