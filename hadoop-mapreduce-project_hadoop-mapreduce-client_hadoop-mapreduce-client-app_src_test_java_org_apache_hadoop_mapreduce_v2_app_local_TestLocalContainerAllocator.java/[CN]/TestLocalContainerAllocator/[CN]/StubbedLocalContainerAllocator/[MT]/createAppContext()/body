{
  ApplicationId appId=BuilderUtils.newApplicationId(1,1);
  ApplicationAttemptId attemptId=BuilderUtils.newApplicationAttemptId(appId,1);
  Job job=mock(Job.class);
  @SuppressWarnings("rawtypes") EventHandler eventHandler=mock(EventHandler.class);
  AppContext ctx=mock(AppContext.class);
  when(ctx.getApplicationID()).thenReturn(appId);
  when(ctx.getApplicationAttemptId()).thenReturn(attemptId);
  when(ctx.getJob(isA(JobId.class))).thenReturn(job);
  when(ctx.getClusterInfo()).thenReturn(new ClusterInfo(BuilderUtils.newResource(1024,1),BuilderUtils.newResource(10240,1)));
  when(ctx.getEventHandler()).thenReturn(eventHandler);
  return ctx;
}
