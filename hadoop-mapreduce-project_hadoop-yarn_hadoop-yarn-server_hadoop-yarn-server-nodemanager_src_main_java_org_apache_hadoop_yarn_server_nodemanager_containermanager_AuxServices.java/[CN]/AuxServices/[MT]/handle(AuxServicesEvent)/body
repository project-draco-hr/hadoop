{
  LOG.info("Got event " + event.getType() + " for appId "+ event.getApplicationID());
switch (event.getType()) {
case APPLICATION_INIT:
    LOG.info("Got APPLICATION_INIT for service " + event.getServiceID());
  AuxiliaryService service=serviceMap.get(event.getServiceID());
if (null == service) {
  LOG.info("service is null");
  return;
}
service.initApp(event.getUser(),event.getApplicationID(),event.getServiceData());
break;
case APPLICATION_STOP:
for (AuxiliaryService serv : serviceMap.values()) {
serv.stopApp(event.getApplicationID());
}
break;
default :
throw new RuntimeException("Unknown type: " + event.getType());
}
}
