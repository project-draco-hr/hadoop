{
  conf=new HdfsConfiguration();
  final long precision=1L;
  conf.setLong(DFSConfigKeys.DFS_NAMENODE_ACCESSTIME_PRECISION_KEY,precision);
  conf.setLong(DFSConfigKeys.DFS_BLOCKREPORT_INTERVAL_MSEC_KEY,10000L);
  util=new DFSTestUtil.Builder().setName("TestAuditAllowed").setNumFiles(20).build();
  cluster=new MiniDFSCluster.Builder(conf).numDataNodes(4).build();
  fs=cluster.getFileSystem();
  util.createFiles(fs,fileName);
  fnames=util.getFileNames(fileName);
  util.waitReplication(fs,fileName,(short)3);
  userGroupInfo=UserGroupInformation.createUserForTesting(username,groups);
}
