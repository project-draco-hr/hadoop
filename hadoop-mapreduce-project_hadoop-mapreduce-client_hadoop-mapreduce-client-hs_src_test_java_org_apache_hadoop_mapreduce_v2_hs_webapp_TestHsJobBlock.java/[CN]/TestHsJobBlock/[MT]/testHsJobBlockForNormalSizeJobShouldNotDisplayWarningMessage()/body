{
  Configuration config=new Configuration();
  config.setInt(JHAdminConfig.MR_HS_LOADED_JOBS_TASKS_MAX,-1);
  JobHistory jobHistory=new JobHitoryStubWithAllNormalSizeJobs();
  jobHistory.init(config);
  HsJobBlock jobBlock=new HsJobBlock(jobHistory){
    @Override public Map<String,String> moreParams(){
      Map<String,String> map=new HashMap<>();
      map.put(AMParams.JOB_ID,"job_0000_0001");
      return map;
    }
    @Override public ResponseInfo info(    String about){
      return new ResponseInfo().about(about);
    }
    @Override public String url(    String... parts){
      return StringHelper.ujoin("",parts);
    }
  }
;
  OutputStream outputStream=new ByteArrayOutputStream();
  HtmlBlock.Block block=createBlockToCreateTo(outputStream);
  jobBlock.render(block);
  block.getWriter().flush();
  String out=outputStream.toString();
  Assert.assertTrue("Should display job overview for the job.",out.contains("ApplicationMaster"));
}
