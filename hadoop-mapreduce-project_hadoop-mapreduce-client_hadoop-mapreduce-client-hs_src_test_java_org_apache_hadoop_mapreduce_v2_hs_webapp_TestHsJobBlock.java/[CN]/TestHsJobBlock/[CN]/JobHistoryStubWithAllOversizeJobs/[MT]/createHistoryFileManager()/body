{
  HistoryFileManager historyFileManager;
  try {
    HistoryFileInfo historyFileInfo=createUnparsedJobHistoryFileInfo(maxAllowedTaskNum);
    historyFileManager=mock(HistoryFileManager.class);
    when(historyFileManager.getFileInfo(any(JobId.class))).thenReturn(historyFileInfo);
  }
 catch (  IOException ex) {
    historyFileManager=super.createHistoryFileManager();
  }
  return historyFileManager;
}
