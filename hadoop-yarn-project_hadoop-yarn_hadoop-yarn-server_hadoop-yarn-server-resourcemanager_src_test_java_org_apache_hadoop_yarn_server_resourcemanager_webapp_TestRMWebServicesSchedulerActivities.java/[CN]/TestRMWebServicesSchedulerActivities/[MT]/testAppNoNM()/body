{
  rm.start();
  try {
    RMApp app1=rm.submitApp(1024,"app1","user1",null,"b1");
    WebResource r=resource();
    MultivaluedMapImpl params=new MultivaluedMapImpl();
    params.add("appId",app1.getApplicationId().toString());
    ClientResponse response=r.path("ws").path("v1").path("cluster").path("scheduler/app-activities").queryParams(params).accept(MediaType.APPLICATION_JSON).get(ClientResponse.class);
    assertEquals(MediaType.APPLICATION_JSON_TYPE,response.getType());
    JSONObject json=response.getEntity(JSONObject.class);
    response=r.path("ws").path("v1").path("cluster").path("scheduler/app-activities").queryParams(params).accept(MediaType.APPLICATION_JSON).get(ClientResponse.class);
    assertEquals(MediaType.APPLICATION_JSON_TYPE,response.getType());
    json=response.getEntity(JSONObject.class);
    verifyNumberOfAllocations(json,0);
  }
  finally {
    rm.stop();
  }
}
