{
  NfsConfiguration config=new NfsConfiguration();
  MiniDFSCluster cluster=new MiniDFSCluster.Builder(config).numDataNodes(1).build();
  cluster.waitActive();
  config.setInt("nfs3.mountd.port",0);
  config.setInt("nfs3.server.port",0);
  Nfs3 nfs3=new Nfs3(config);
  nfs3.startServiceInternal(false);
  RpcProgramMountd mountd=(RpcProgramMountd)nfs3.getMountd().getRpcProgram();
  mountd.nullOp(new XDR(),1234,InetAddress.getByName("localhost"));
  RpcProgramNfs3 nfsd=(RpcProgramNfs3)nfs3.getRpcProgram();
  nfsd.nullProcedure();
  cluster.shutdown();
}
