{
  Set<String> declaredPools=poolMgr.getDeclaredPools();
  if (!this.allowUndeclaredPools && !declaredPools.contains(poolMgr.getPoolName(job)))   throw new UndeclaredPoolException("Pool name: '" + poolMgr.getPoolName(job) + "' is invalid. Add pool name to the fair scheduler allocation "+ "file. Valid pools are: "+ StringUtils.join(", ",declaredPools));
}
