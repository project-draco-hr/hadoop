{
  createHttpFSServer(false);
  FileSystem fs=FileSystem.get(TestHdfsHelper.getHdfsConf());
  fs.mkdirs(new Path("/perm"));
  createWithHttp("/perm/none",null);
  String statusJson=getFileStatus("/perm/none");
  Assert.assertTrue("755".equals(getPerms(statusJson)));
  createWithHttp("/perm/p-777","777");
  statusJson=getFileStatus("/perm/p-777");
  Assert.assertTrue("777".equals(getPerms(statusJson)));
  createWithHttp("/perm/p-654","654");
  statusJson=getFileStatus("/perm/p-654");
  Assert.assertTrue("654".equals(getPerms(statusJson)));
  createWithHttp("/perm/p-321","321");
  statusJson=getFileStatus("/perm/p-321");
  Assert.assertTrue("321".equals(getPerms(statusJson)));
}
