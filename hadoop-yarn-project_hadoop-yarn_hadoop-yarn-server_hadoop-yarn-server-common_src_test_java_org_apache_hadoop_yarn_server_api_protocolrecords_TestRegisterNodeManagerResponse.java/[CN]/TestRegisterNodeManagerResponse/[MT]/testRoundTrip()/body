{
  RegisterNodeManagerResponse resp=recordFactory.newRecordInstance(RegisterNodeManagerResponse.class);
  byte b[]={0,1,2,3,4,5};
  MasterKey containerTokenMK=recordFactory.newRecordInstance(MasterKey.class);
  containerTokenMK.setKeyId(54321);
  containerTokenMK.setBytes(ByteBuffer.wrap(b));
  resp.setContainerTokenMasterKey(containerTokenMK);
  MasterKey nmTokenMK=recordFactory.newRecordInstance(MasterKey.class);
  nmTokenMK.setKeyId(12345);
  nmTokenMK.setBytes(ByteBuffer.wrap(b));
  resp.setNMTokenMasterKey(nmTokenMK);
  resp.setNodeAction(NodeAction.NORMAL);
  assertEquals(NodeAction.NORMAL,resp.getNodeAction());
  assertNotNull(resp.getContainerTokenMasterKey());
  assertEquals(54321,resp.getContainerTokenMasterKey().getKeyId());
  assertArrayEquals(b,resp.getContainerTokenMasterKey().getBytes().array());
  RegisterNodeManagerResponse respCopy=serDe(resp);
  assertEquals(NodeAction.NORMAL,respCopy.getNodeAction());
  assertNotNull(respCopy.getContainerTokenMasterKey());
  assertEquals(54321,respCopy.getContainerTokenMasterKey().getKeyId());
  assertArrayEquals(b,respCopy.getContainerTokenMasterKey().getBytes().array());
  assertNotNull(resp.getNMTokenMasterKey());
  assertEquals(12345,resp.getNMTokenMasterKey().getKeyId());
  assertArrayEquals(b,resp.getNMTokenMasterKey().getBytes().array());
  respCopy=serDe(resp);
  assertEquals(NodeAction.NORMAL,respCopy.getNodeAction());
  assertNotNull(respCopy.getNMTokenMasterKey());
  assertEquals(12345,respCopy.getNMTokenMasterKey().getKeyId());
  assertArrayEquals(b,respCopy.getNMTokenMasterKey().getBytes().array());
}
