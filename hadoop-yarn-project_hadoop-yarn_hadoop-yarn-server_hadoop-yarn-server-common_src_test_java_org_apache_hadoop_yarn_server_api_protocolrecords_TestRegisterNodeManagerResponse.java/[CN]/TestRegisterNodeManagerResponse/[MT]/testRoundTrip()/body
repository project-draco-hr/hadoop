{
  RegisterNodeManagerResponse resp=recordFactory.newRecordInstance(RegisterNodeManagerResponse.class);
  MasterKey mk=recordFactory.newRecordInstance(MasterKey.class);
  mk.setKeyId(54321);
  byte b[]={0,1,2,3,4,5};
  mk.setBytes(ByteBuffer.wrap(b));
  resp.setMasterKey(mk);
  resp.setNodeAction(NodeAction.NORMAL);
  assertEquals(NodeAction.NORMAL,resp.getNodeAction());
  assertNotNull(resp.getMasterKey());
  assertEquals(54321,resp.getMasterKey().getKeyId());
  assertArrayEquals(b,resp.getMasterKey().getBytes().array());
  RegisterNodeManagerResponse respCopy=serDe(resp);
  assertEquals(NodeAction.NORMAL,respCopy.getNodeAction());
  assertNotNull(respCopy.getMasterKey());
  assertEquals(54321,respCopy.getMasterKey().getKeyId());
  assertArrayEquals(b,respCopy.getMasterKey().getBytes().array());
}
