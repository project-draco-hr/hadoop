{
  if (resourceManagers.length > 1) {
    conf.setBoolean(YarnConfiguration.RM_HA_ENABLED,true);
    StringBuilder rmIds=new StringBuilder();
    for (int i=0; i < resourceManagers.length; i++) {
      if (i != 0) {
        rmIds.append(",");
      }
      rmIds.append("rm" + i);
    }
    conf.set(YarnConfiguration.RM_HA_IDS,rmIds.toString());
  }
  super.serviceInit(conf instanceof YarnConfiguration ? conf : new YarnConfiguration(conf));
}
