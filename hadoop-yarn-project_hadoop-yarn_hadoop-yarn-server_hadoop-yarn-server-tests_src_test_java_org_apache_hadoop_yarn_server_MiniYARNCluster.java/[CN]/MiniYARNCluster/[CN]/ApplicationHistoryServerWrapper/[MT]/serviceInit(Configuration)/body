{
  if (!conf.getBoolean(YarnConfiguration.YARN_MINICLUSTER_FIXED_PORTS,YarnConfiguration.DEFAULT_YARN_MINICLUSTER_FIXED_PORTS)) {
    conf.set(YarnConfiguration.TIMELINE_SERVICE_ADDRESS,YarnConfiguration.DEFAULT_TIMELINE_SERVICE_ADDRESS);
    conf.set(YarnConfiguration.TIMELINE_SERVICE_WEBAPP_ADDRESS,YarnConfiguration.DEFAULT_TIMELINE_SERVICE_WEBAPP_ADDRESS);
  }
  appHistoryServer=new ApplicationHistoryServer();
  appHistoryServer.init(conf);
  super.serviceInit(conf);
}
