{
  Preconditions.checkArgument(this.direct == direct);
  return direct ? ByteBuffer.allocateDirect(length) : ByteBuffer.allocate(length);
}
