{
  Preconditions.checkArgument(!(file instanceof INodeFileUnderConstruction),"file is already an INodeFileUnderConstruction");
  final INodeFileUnderConstruction uc=new INodeFileUnderConstruction(file.getId(),file.getLocalNameBytes(),file.getFileReplication(),file.getModificationTime(),file.getPreferredBlockSize(),file.getBlocks(),file.getPermissionStatus(),clientName,clientMachine,clientNode);
  return file instanceof INodeFileWithLink ? new INodeFileUnderConstructionWithLink(uc) : uc;
}
