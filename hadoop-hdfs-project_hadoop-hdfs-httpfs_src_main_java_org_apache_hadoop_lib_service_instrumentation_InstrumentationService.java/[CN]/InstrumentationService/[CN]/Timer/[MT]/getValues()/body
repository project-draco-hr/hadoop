{
  lock.lock();
  try {
    long[] values=new long[4];
    values[LAST_TOTAL]=total[last];
    values[LAST_OWN]=own[last];
    int limit=(full) ? size : (last + 1);
    for (int i=0; i < limit; i++) {
      values[AVG_TOTAL]+=total[i];
      values[AVG_OWN]+=own[i];
    }
    values[AVG_TOTAL]=values[AVG_TOTAL] / limit;
    values[AVG_OWN]=values[AVG_OWN] / limit;
    return values;
  }
  finally {
    lock.unlock();
  }
}
