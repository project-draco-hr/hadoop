{
  boolean timedout=false;
  List<HttpURLConnection> conns=new LinkedList<HttpURLConnection>();
  try {
    for (int n=32; !timedout && n > 0; n--) {
      try {
        conns.add(fs.openConnection("/",""));
      }
 catch (      SocketTimeoutException ste) {
        String message=ste.getMessage();
        assertNotNull(message);
        if (!(ignoreReadTimeout && "Read timed out".equals(message))) {
          timedout=true;
          assertEquals("connect timed out",message);
        }
      }
    }
  }
  finally {
    for (    HttpURLConnection conn : conns) {
      conn.disconnect();
    }
  }
  return timedout;
}
