{
  if (home == null) {
    throw new FileNotFoundException(E_HADOOP_PROPS_UNSET);
  }
  while (home.startsWith("\"")) {
    home=home.substring(1);
  }
  while (home.endsWith("\"")) {
    home=home.substring(0,home.length() - 1);
  }
  if (home.isEmpty()) {
    throw new FileNotFoundException(E_HADOOP_PROPS_EMPTY);
  }
  File homedir=new File(home);
  if (!homedir.isAbsolute()) {
    throw new FileNotFoundException("Hadoop home directory " + homedir + " "+ E_IS_RELATIVE);
  }
  if (!homedir.exists()) {
    throw new FileNotFoundException("Hadoop home directory " + homedir + " "+ E_DOES_NOT_EXIST);
  }
  if (!homedir.isDirectory()) {
    throw new FileNotFoundException("Hadoop home directory " + homedir + " "+ E_NOT_DIRECTORY);
  }
  return homedir;
}
