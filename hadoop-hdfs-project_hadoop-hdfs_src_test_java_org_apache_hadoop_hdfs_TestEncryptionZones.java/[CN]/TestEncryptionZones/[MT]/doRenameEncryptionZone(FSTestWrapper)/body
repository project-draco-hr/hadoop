{
  final Path testRoot=new Path("/tmp/TestEncryptionZones");
  final Path pathFoo=new Path(testRoot,"foo");
  final Path pathFooBaz=new Path(pathFoo,"baz");
  wrapper.mkdir(pathFoo,FsPermission.getDirDefault(),true);
  dfsAdmin.createEncryptionZone(pathFoo,TEST_KEY);
  wrapper.mkdir(pathFooBaz,FsPermission.getDirDefault(),true);
  try {
    wrapper.rename(pathFooBaz,testRoot);
  }
 catch (  IOException e) {
    assertExceptionContains(pathFooBaz.toString() + " can't be moved from" + " an encryption zone.",e);
  }
}
