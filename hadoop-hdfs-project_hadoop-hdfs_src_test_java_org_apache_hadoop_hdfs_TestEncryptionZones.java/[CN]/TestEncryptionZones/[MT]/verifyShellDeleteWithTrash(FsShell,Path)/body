{
  try {
    final Path trashFile=new Path(shell.getCurrentTrashDir(path) + "/" + path);
    String[] argv=new String[]{"-rm","-r",path.toString()};
    int res=ToolRunner.run(shell,argv);
    assertEquals("rm failed",0,res);
    assertTrue("File not in trash : " + trashFile,fs.exists(trashFile));
  }
 catch (  IOException ioe) {
    fail(ioe.getMessage());
  }
 finally {
    if (fs.exists(path)) {
      fs.delete(path,true);
    }
  }
}
