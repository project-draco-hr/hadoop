{
  if (Path.WINDOWS) {
    System.out.println("Cannot run test for Windows");
    return;
  }
  String filename="bar";
  Path f=fileContextTestHelper.getTestRootPath(fc,filename);
  createFile(fc,f);
  List<String> groups=null;
  try {
    groups=getGroups();
    System.out.println(filename + ": " + fc.getFileStatus(f).getPermission());
  }
 catch (  IOException e) {
    System.out.println(StringUtils.stringifyException(e));
    System.out.println("Cannot run test");
    return;
  }
  if (groups == null || groups.size() < 1) {
    System.out.println("Cannot run test: need at least one group.  groups=" + groups);
    return;
  }
  try {
    String g0=groups.get(0);
    fc.setOwner(f,null,g0);
    Assert.assertEquals(g0,fc.getFileStatus(f).getGroup());
    if (groups.size() > 1) {
      String g1=groups.get(1);
      fc.setOwner(f,null,g1);
      Assert.assertEquals(g1,fc.getFileStatus(f).getGroup());
    }
 else {
      System.out.println("Not testing changing the group since user " + "belongs to only one group.");
    }
    try {
      fc.setOwner(f,null,null);
      fail("Exception expected.");
    }
 catch (    IllegalArgumentException iae) {
    }
  }
  finally {
    cleanupFile(fc,f);
  }
}
