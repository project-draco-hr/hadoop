{
  nsInfo=nameNodeProto.versionRequest();
  dnRegistration.setStorageInfo(new DataStorage(nsInfo,""));
  DataNode.setNewStorageID(dnRegistration);
  dnRegistration=nameNodeProto.registerDatanode(dnRegistration);
  storage=new DatanodeStorage(dnRegistration.getStorageID());
  final StorageBlockReport[] reports={new StorageBlockReport(storage,new BlockListAsLongs(null,null).getBlockListAsLongs())};
  nameNodeProto.blockReport(dnRegistration,nameNode.getNamesystem().getBlockPoolId(),reports);
}
