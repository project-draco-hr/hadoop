{
  Configuration conf=getConf();
  final URL infoServer=DFSUtil.getInfoServer(HAUtil.getAddressOfActive(getDFS()),conf,DFSUtil.getHttpClientScheme(conf)).toURL();
  SecurityUtil.doAsCurrentUser(new PrivilegedExceptionAction<Void>(){
    @Override public Void run() throws Exception {
      TransferFsImage.downloadMostRecentImageToDirectory(infoServer,new File(argv[idx]));
      return null;
    }
  }
);
  return 0;
}
