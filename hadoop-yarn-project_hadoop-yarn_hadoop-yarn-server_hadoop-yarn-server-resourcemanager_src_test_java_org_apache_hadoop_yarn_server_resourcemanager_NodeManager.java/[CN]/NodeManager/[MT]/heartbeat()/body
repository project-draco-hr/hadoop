{
  NodeStatus nodeStatus=org.apache.hadoop.yarn.server.resourcemanager.NodeManager.createNodeStatus(nodeId,getContainerStatuses(containers));
  nodeStatus.setResponseId(responseID);
  NodeHeartbeatRequest request=recordFactory.newRecordInstance(NodeHeartbeatRequest.class);
  request.setNodeStatus(nodeStatus);
  HeartbeatResponse response=resourceTrackerService.nodeHeartbeat(request).getHeartbeatResponse();
  responseID=response.getResponseId();
}
