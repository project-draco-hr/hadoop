{
  CollectorNodemanagerProtocol protocol=mock(CollectorNodemanagerProtocol.class);
  try {
    GetTimelineCollectorContextResponse response=GetTimelineCollectorContextResponse.newInstance(UserGroupInformation.getCurrentUser().getShortUserName(),"test_flow_name","test_flow_version",1L);
    when(protocol.getTimelineCollectorContext(any(GetTimelineCollectorContextRequest.class))).thenReturn(response);
  }
 catch (  YarnException|IOException e) {
    fail();
  }
  return protocol;
}
