{
  CollectorNodemanagerProtocol protocol=mock(CollectorNodemanagerProtocol.class);
  try {
    GetTimelineCollectorContextResponse response=GetTimelineCollectorContextResponse.newInstance(null,null,null,0L);
    when(protocol.getTimelineCollectorContext(any(GetTimelineCollectorContextRequest.class))).thenReturn(response);
  }
 catch (  YarnException|IOException e) {
    fail();
  }
  return protocol;
}
