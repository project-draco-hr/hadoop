{
  Preconditions.checkArgument(dataSize >= 0);
  Preconditions.checkArgument(cellSize > 0);
  Preconditions.checkArgument(numDataBlocks > 0);
  Preconditions.checkArgument(i >= 0);
  final int stripeSize=cellSize * numDataBlocks;
  final int lastStripeDataLen=(int)(dataSize % stripeSize);
  if (lastStripeDataLen == 0) {
    return dataSize / numDataBlocks;
  }
  final int numStripes=(int)((dataSize - 1) / stripeSize + 1);
  return (numStripes - 1L) * cellSize + lastCellSize(lastStripeDataLen,cellSize,numDataBlocks,i);
}
