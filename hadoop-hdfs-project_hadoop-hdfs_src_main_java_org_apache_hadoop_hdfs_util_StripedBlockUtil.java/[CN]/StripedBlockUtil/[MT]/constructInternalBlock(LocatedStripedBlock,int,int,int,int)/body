{
  final ExtendedBlock blk=new ExtendedBlock(bg.getBlock());
  blk.setBlockId(bg.getBlock().getBlockId() + idxInBlockGroup);
  blk.setNumBytes(getInternalBlockLength(bg.getBlockSize(),cellSize,dataBlkNum,idxInBlockGroup));
  return new LocatedBlock(blk,new DatanodeInfo[]{bg.getLocations()[idxInReturnedLocs]},new String[]{bg.getStorageIDs()[idxInReturnedLocs]},new StorageType[]{bg.getStorageTypes()[idxInReturnedLocs]},bg.getStartOffset() + idxInBlockGroup * cellSize,bg.isCorrupt(),null);
}
