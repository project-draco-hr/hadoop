{
  byte[][] decodeInputs=new byte[dataBlkNum + parityBlkNum][(int)alignedStripe.getSpanInBlock()];
  for (int i=0; i < alignedStripe.chunks.length; i++) {
    StripingChunk chunk=alignedStripe.chunks[i];
    if (chunk == null) {
      alignedStripe.chunks[i]=new StripingChunk(decodeInputs[i]);
      alignedStripe.chunks[i].offsetsInBuf.add(0);
      alignedStripe.chunks[i].lengthsInBuf.add((int)alignedStripe.getSpanInBlock());
    }
 else     if (chunk.state == StripingChunk.FETCHED) {
      int posInBuf=0;
      for (int j=0; j < chunk.offsetsInBuf.size(); j++) {
        System.arraycopy(chunk.buf,chunk.offsetsInBuf.get(j),decodeInputs[i],posInBuf,chunk.lengthsInBuf.get(j));
        posInBuf+=chunk.lengthsInBuf.get(j);
      }
    }
 else     if (chunk.state == StripingChunk.ALLZERO) {
      Arrays.fill(decodeInputs[i],(byte)0);
    }
  }
  return decodeInputs;
}
