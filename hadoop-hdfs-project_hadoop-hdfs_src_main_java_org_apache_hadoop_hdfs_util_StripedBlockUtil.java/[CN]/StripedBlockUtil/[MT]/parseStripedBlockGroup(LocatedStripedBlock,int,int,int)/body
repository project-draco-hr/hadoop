{
  int locatedBGSize=bg.getBlockIndices().length;
  LocatedBlock[] lbs=new LocatedBlock[dataBlkNum + parityBlkNum];
  for (short i=0; i < locatedBGSize; i++) {
    final int idx=bg.getBlockIndices()[i];
    if (idx < (dataBlkNum + parityBlkNum) && lbs[idx] == null) {
      lbs[idx]=constructInternalBlock(bg,i,cellSize,dataBlkNum,idx);
    }
  }
  return lbs;
}
