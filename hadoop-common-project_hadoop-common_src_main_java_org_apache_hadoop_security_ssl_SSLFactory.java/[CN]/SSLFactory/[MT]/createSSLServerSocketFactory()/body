{
  if (mode != Mode.SERVER) {
    throw new IllegalStateException("Factory is not in SERVER mode. Actual mode is " + mode.toString());
  }
  return context.getServerSocketFactory();
}
