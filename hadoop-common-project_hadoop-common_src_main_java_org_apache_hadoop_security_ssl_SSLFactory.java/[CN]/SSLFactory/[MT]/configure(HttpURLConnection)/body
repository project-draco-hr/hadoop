{
  if (conn instanceof HttpsURLConnection) {
    HttpsURLConnection sslConn=(HttpsURLConnection)conn;
    try {
      sslConn.setSSLSocketFactory(createSSLSocketFactory());
    }
 catch (    GeneralSecurityException ex) {
      throw new IOException(ex);
    }
    sslConn.setHostnameVerifier(getHostnameVerifier());
    conn=sslConn;
  }
  return conn;
}
