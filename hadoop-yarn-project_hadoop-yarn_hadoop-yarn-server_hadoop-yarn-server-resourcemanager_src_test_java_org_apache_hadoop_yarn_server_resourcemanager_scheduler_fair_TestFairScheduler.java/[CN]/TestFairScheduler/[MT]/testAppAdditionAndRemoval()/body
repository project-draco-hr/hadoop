{
  scheduler.reinitialize(conf,resourceManager.getRMContext());
  AppAttemptAddedSchedulerEvent appAddedEvent1=new AppAttemptAddedSchedulerEvent(createAppAttemptId(1,1),"default","user1");
  scheduler.handle(appAddedEvent1);
  assertEquals(2,scheduler.getQueueManager().getLeafQueues().size());
  assertEquals(1,scheduler.getQueueManager().getLeafQueue("user1",true).getRunnableAppSchedulables().size());
  AppAttemptRemovedSchedulerEvent appRemovedEvent1=new AppAttemptRemovedSchedulerEvent(createAppAttemptId(1,1),RMAppAttemptState.FINISHED);
  scheduler.handle(appRemovedEvent1);
  assertEquals(0,scheduler.getQueueManager().getLeafQueue("user1",true).getRunnableAppSchedulables().size());
}
