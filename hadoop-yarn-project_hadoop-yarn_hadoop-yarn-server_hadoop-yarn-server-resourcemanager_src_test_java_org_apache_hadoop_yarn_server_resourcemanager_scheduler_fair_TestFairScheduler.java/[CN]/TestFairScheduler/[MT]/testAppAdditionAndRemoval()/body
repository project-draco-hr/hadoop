{
  scheduler.reinitialize(conf,resourceManager.getRMContext());
  AppAddedSchedulerEvent appAddedEvent1=new AppAddedSchedulerEvent(createAppAttemptId(1,1),"default","user1");
  scheduler.handle(appAddedEvent1);
  assertEquals(2,scheduler.getQueueManager().getLeafQueues().size());
  assertEquals(1,scheduler.getQueueManager().getLeafQueue("user1",true).getRunnableAppSchedulables().size());
  AppRemovedSchedulerEvent appRemovedEvent1=new AppRemovedSchedulerEvent(createAppAttemptId(1,1),RMAppAttemptState.FINISHED);
  scheduler.handle(appRemovedEvent1);
  assertEquals(0,scheduler.getQueueManager().getLeafQueue("user1",true).getRunnableAppSchedulables().size());
}
