{
  assertEquals(0,scheduler.getRootQueueMetrics().getAvailableMB());
  RMNode node1=MockNodes.newNodeInfo(1,Resources.createResource(1024));
  NodeAddedSchedulerEvent addEvent=new NodeAddedSchedulerEvent(node1);
  scheduler.handle(addEvent);
  assertEquals(1024,scheduler.getRootQueueMetrics().getAvailableMB());
  scheduler.update();
  assertEquals(1024,scheduler.getRootQueueMetrics().getAvailableMB());
  NodeRemovedSchedulerEvent removeEvent=new NodeRemovedSchedulerEvent(node1);
  scheduler.handle(removeEvent);
  assertEquals(0,scheduler.getRootQueueMetrics().getAvailableMB());
  scheduler.update();
  assertEquals(0,scheduler.getRootQueueMetrics().getAvailableMB());
}
