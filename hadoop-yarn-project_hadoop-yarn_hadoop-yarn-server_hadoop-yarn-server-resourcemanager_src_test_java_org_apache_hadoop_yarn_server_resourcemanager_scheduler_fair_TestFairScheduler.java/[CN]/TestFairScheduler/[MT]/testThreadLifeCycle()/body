{
  conf.setBoolean(FairSchedulerConfiguration.CONTINUOUS_SCHEDULING_ENABLED,true);
  scheduler.init(conf);
  scheduler.start();
  Thread updateThread=scheduler.updateThread;
  Thread schedulingThread=scheduler.schedulingThread;
  assertTrue(updateThread.isAlive());
  assertTrue(schedulingThread.isAlive());
  scheduler.stop();
  int numRetries=100;
  while (numRetries-- > 0 && (updateThread.isAlive() || schedulingThread.isAlive())) {
    Thread.sleep(50);
  }
  assertNotEquals("One of the threads is still alive",0,numRetries);
}
