{
  conf.set(FairSchedulerConfiguration.USER_AS_DEFAULT_QUEUE,"true");
  scheduler.init(conf);
  scheduler.start();
  scheduler.reinitialize(conf,resourceManager.getRMContext());
  FSParentQueue root=scheduler.getQueueManager().getRootQueue();
  root.setMinSharePreemptionTimeout(10000);
  root.setFairSharePreemptionTimeout(15000);
  root.setFairSharePreemptionThreshold(.6f);
  ApplicationAttemptId appAttemptId=createAppAttemptId(1,1);
  createApplicationWithAMResource(appAttemptId,"default","user1",null);
  FSLeafQueue userQueue=scheduler.getQueueManager().getLeafQueue("user1",true);
  assertEquals(1,userQueue.getRunnableAppSchedulables().size());
  assertEquals(10000,userQueue.getMinSharePreemptionTimeout());
  assertEquals(15000,userQueue.getFairSharePreemptionTimeout());
  assertEquals(.6f,userQueue.getFairSharePreemptionThreshold(),0.001);
}
