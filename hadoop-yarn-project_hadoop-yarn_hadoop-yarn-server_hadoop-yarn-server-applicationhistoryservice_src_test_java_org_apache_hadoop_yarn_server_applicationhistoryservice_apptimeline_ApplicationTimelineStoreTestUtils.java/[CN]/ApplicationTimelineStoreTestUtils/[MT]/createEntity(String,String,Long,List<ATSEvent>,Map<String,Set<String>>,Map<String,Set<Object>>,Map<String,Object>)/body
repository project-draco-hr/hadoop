{
  ATSEntity atsEntity=new ATSEntity();
  atsEntity.setEntityId(entity);
  atsEntity.setEntityType(entityType);
  atsEntity.setStartTime(startTime);
  atsEntity.setEvents(events);
  if (relatedEntities != null) {
    for (    Entry<String,Set<String>> e : relatedEntities.entrySet()) {
      for (      String v : e.getValue()) {
        atsEntity.addRelatedEntity(e.getKey(),v);
      }
    }
  }
 else {
    atsEntity.setRelatedEntities(null);
  }
  atsEntity.setPrimaryFilters(primaryFilters);
  atsEntity.setOtherInfo(otherInfo);
  return atsEntity;
}
