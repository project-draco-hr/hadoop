{
  BoundedByteArrayOutputStream stream=new BoundedByteArrayOutputStream(SIZE);
  stream.write(INPUT,0,SIZE);
  assertTrue("Array Contents Mismatch",Arrays.equals(INPUT,stream.getBuffer()));
  boolean caughtException=false;
  try {
    stream.write(INPUT[0]);
  }
 catch (  Exception e) {
    caughtException=true;
  }
  assertTrue("Writing beyond limit did not throw an exception",caughtException);
  stream.reset();
  assertTrue("Limit did not get reset correctly",(stream.getLimit() == SIZE));
  stream.write(INPUT,0,SIZE);
  assertTrue("Array Contents Mismatch",Arrays.equals(INPUT,stream.getBuffer()));
  caughtException=false;
  try {
    stream.write(INPUT[0]);
  }
 catch (  Exception e) {
    caughtException=true;
  }
  stream.reset(SIZE - 1);
  assertTrue("Limit did not get reset correctly",(stream.getLimit() == SIZE - 1));
  caughtException=false;
  try {
    stream.write(INPUT,0,SIZE);
  }
 catch (  Exception e) {
    caughtException=true;
  }
  assertTrue("Writing beyond limit did not throw an exception",caughtException);
}
