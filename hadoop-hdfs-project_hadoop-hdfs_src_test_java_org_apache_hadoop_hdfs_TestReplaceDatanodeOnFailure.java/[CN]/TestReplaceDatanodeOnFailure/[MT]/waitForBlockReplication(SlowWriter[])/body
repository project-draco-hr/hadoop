{
  GenericTestUtils.waitFor(new Supplier<Boolean>(){
    @Override public Boolean get(){
      try {
        for (        SlowWriter s : slowwriters) {
          if (s.out.getCurrentBlockReplication() < REPLICATION) {
            return false;
          }
        }
      }
 catch (      IOException e) {
        LOG.warn("IOException is thrown while getting the file block " + "replication factor",e);
        return false;
      }
      return true;
    }
  }
,1000,10000);
}
