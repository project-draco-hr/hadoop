{
  if (!renameSupported())   return;
  Path src=getTestRootPath(fSys,"test/hadoop/file");
  createFile(src);
  try {
    rename(src,src,false,true,false,Rename.NONE);
    Assert.fail("Renamed file to itself");
  }
 catch (  IOException e) {
    Assert.assertTrue(unwrapException(e) instanceof FileAlreadyExistsException);
  }
  try {
    rename(src,src,false,true,false,Rename.OVERWRITE);
    Assert.fail("Renamed file to itself");
  }
 catch (  IOException e) {
  }
}
