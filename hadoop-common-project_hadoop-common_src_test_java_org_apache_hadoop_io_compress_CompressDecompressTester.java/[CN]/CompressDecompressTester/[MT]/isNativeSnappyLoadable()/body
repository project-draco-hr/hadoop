{
  boolean snappyAvailable=false;
  boolean loaded=false;
  try {
    System.loadLibrary("snappy");
    logger.warn("Snappy native library is available");
    snappyAvailable=true;
    boolean hadoopNativeAvailable=NativeCodeLoader.isNativeCodeLoaded();
    loaded=snappyAvailable && hadoopNativeAvailable;
    if (loaded) {
      logger.info("Snappy native library loaded");
    }
 else {
      logger.warn("Snappy native library not loaded");
    }
  }
 catch (  Throwable t) {
    logger.warn("Failed to load snappy: ",t);
    return false;
  }
  return loaded;
}
