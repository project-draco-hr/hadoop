{
  Preconditions.checkArgument(n >= 0,"Negative skip length.");
  checkStream();
  if (n == 0) {
    return 0;
  }
 else   if (n <= outBuffer.remaining()) {
    int pos=outBuffer.position() + (int)n;
    outBuffer.position(pos);
    return n;
  }
 else {
    n-=outBuffer.remaining();
    long skipped=in.skip(n);
    if (skipped < 0) {
      skipped=0;
    }
    long pos=streamOffset + skipped;
    skipped+=outBuffer.remaining();
    resetStreamOffset(pos);
    return skipped;
  }
}
