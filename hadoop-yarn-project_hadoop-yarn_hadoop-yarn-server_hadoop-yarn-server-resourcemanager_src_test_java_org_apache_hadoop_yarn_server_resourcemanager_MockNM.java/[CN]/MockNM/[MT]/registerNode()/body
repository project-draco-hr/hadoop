{
  RegisterNodeManagerRequest req=Records.newRecord(RegisterNodeManagerRequest.class);
  req.setNodeId(nodeId);
  req.setHttpPort(httpPort);
  Resource resource=Records.newRecord(Resource.class);
  resource.setMemory(memory);
  req.setResource(resource);
  RegistrationResponse registrationResponse=resourceTracker.registerNodeManager(req).getRegistrationResponse();
  this.currentMasterKey=registrationResponse.getMasterKey();
  return registrationResponse;
}
