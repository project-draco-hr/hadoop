{
  RegisterNodeManagerRequest req=Records.newRecord(RegisterNodeManagerRequest.class);
  req.setNodeId(nodeId);
  req.setHttpPort(httpPort);
  Resource resource=BuilderUtils.newResource(memory,vCores);
  req.setResource(resource);
  req.setNMVersion(version);
  RegisterNodeManagerResponse registrationResponse=resourceTracker.registerNodeManager(req);
  this.currentContainerTokenMasterKey=registrationResponse.getContainerTokenMasterKey();
  this.currentNMTokenMasterKey=registrationResponse.getNMTokenMasterKey();
  return registrationResponse;
}
