{
  RegisterNodeManagerRequest req=Records.newRecord(RegisterNodeManagerRequest.class);
  req.setNodeId(nodeId);
  req.setHttpPort(httpPort);
  Resource resource=Records.newRecord(Resource.class);
  resource.setMemory(memory);
  req.setResource(resource);
  RegisterNodeManagerResponse registrationResponse=resourceTracker.registerNodeManager(req);
  this.currentMasterKey=registrationResponse.getMasterKey();
  return registrationResponse;
}
