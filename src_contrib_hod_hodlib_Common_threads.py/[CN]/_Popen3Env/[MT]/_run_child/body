def _run_child(self, cmd):
    if isinstance(cmd, basestring):
        cmd = ['/bin/sh', '-c', cmd]
    for i in xrange(3, MAXFD):
        try:
            os.close(i)
        except OSError:
            pass
    try:
        os.execvpe(cmd[0], cmd, self._env)
    finally:
        os._exit(1)
