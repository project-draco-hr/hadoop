def run(self):
    'Do not call this directly.  Call self.start().'
    startTime = None
    while (not self.stopFlag.isSet()):
        sleep = self.__sleep
        if (self.__wait > 0):
            startWaitCount = 0
            while (not self.stopFlag.isSet()):
                while (not self.running.isSet()):
                    if self.stopFlag.isSet():
                        break
                    time.sleep(1)
                time.sleep(0.5)
                startWaitCount = (startWaitCount + 0.5)
                if (startWaitCount >= self.__wait):
                    self.__wait = 0
                    break
        startTime = time.time()
        if (not self.stopFlag.isSet()):
            if self.running.isSet():
                if self.__functionArgs:
                    self.__functionRef(self.__functionArgs)
                else:
                    self.__functionRef()
        endTime = time.time()
        while (not self.running.isSet()):
            time.sleep(1)
        while (not self.stopFlag.isSet()):
            while (not self.running.isSet()):
                if self.stopFlag.isSet():
                    break
                time.sleep(1)
            currentTime = time.time()
            if self.__offset:
                elapsed = (time.time() - startTime)
            else:
                elapsed = (time.time() - endTime)
            if (elapsed >= self.__sleep):
                break
            time.sleep(0.5)
    self.isFinished.set()
