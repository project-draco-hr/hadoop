{
  Assume.assumeTrue(NativeIO.isAvailable());
  Assume.assumeTrue(SystemUtils.IS_OS_UNIX);
  File path=new File(TEST_BASE,"testReadAndWrite");
  path.mkdirs();
  SharedFileDescriptorFactory factory=new SharedFileDescriptorFactory("woot_",path.getAbsolutePath());
  FileInputStream inStream=factory.createDescriptor(4096);
  FileOutputStream outStream=new FileOutputStream(inStream.getFD());
  outStream.write(101);
  inStream.getChannel().position(0);
  Assert.assertEquals(101,inStream.read());
  inStream.close();
  outStream.close();
  FileUtil.fullyDelete(path);
}
