{
  for (  Map.Entry<String,String> entry : getServiceConfig()) {
    String key=entry.getKey();
    if (key.endsWith(GROUPS)) {
      String proxyUser=key.substring(0,key.lastIndexOf(GROUPS));
      if (getServiceConfig().get(proxyUser + HOSTS) == null) {
        throw new ServiceException(ERROR.PRXU02,getPrefixedName(proxyUser + HOSTS));
      }
      String value=entry.getValue().trim();
      LOG.info("Loading proxyuser settings [{}]=[{}]",key,value);
      Set<String> values=null;
      if (!value.equals("*")) {
        values=new HashSet<String>(Arrays.asList(value.split(",")));
      }
      proxyUserGroups.put(proxyUser,values);
    }
    if (key.endsWith(HOSTS)) {
      String proxyUser=key.substring(0,key.lastIndexOf(HOSTS));
      if (getServiceConfig().get(proxyUser + GROUPS) == null) {
        throw new ServiceException(ERROR.PRXU02,getPrefixedName(proxyUser + GROUPS));
      }
      String value=entry.getValue().trim();
      LOG.info("Loading proxyuser settings [{}]=[{}]",key,value);
      Set<String> values=null;
      if (!value.equals("*")) {
        String[] hosts=value.split(",");
        for (int i=0; i < hosts.length; i++) {
          String originalName=hosts[i];
          try {
            hosts[i]=normalizeHostname(originalName);
          }
 catch (          Exception ex) {
            throw new ServiceException(ERROR.PRXU01,originalName,ex.getMessage(),ex);
          }
          LOG.info("  Hostname, original [{}], normalized [{}]",originalName,hosts[i]);
        }
        values=new HashSet<String>(Arrays.asList(hosts));
      }
      proxyUserHosts.put(proxyUser,values);
    }
  }
}
