{
  checkParameters(inputs,outputs);
  boolean hasArray=inputs[0].hasArray();
  if (hasArray) {
    byte[][] newInputs=toArrays(inputs);
    byte[][] newOutputs=toArrays(outputs);
    doEncode(newInputs,newOutputs);
  }
 else {
    doEncode(inputs,outputs);
  }
}
