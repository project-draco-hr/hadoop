{
  if (!protocols.containsKey(protocol)) {
    boolean known=true;
    try {
      FileSystem.getFileSystemClass(protocol,conf);
    }
 catch (    IOException ex) {
      known=false;
    }
    protocols.put(protocol,known);
  }
  if (protocols.get(protocol)) {
    return handler;
  }
 else {
    return null;
  }
}
