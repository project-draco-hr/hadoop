{
  if (PAGE_SIZE < 0) {
    return UNAVAILABLE;
  }
  if (smapsEnabled) {
    return getSmapBasedRssMemorySize(olderThanAge);
  }
  boolean isAvailable=false;
  long totalPages=0;
  for (  ProcessInfo p : processTree.values()) {
    if ((p != null) && (p.getAge() > olderThanAge)) {
      totalPages+=p.getRssmemPage();
      isAvailable=true;
    }
  }
  return isAvailable ? totalPages * PAGE_SIZE : UNAVAILABLE;
}
