{
  MiniProtocol client=null;
  try {
    long start=Time.now();
    try {
      client=currentUgi.doAs(new PrivilegedExceptionAction<MiniProtocol>(){
        @Override public MiniProtocol run() throws IOException {
          return RPC.getProxy(MiniProtocol.class,MiniProtocol.versionID,addr,conf);
        }
      }
);
    }
 catch (    InterruptedException e) {
      e.printStackTrace();
    }
    long end=Time.now();
    return end - start;
  }
  finally {
    RPC.stopProxy(client);
  }
}
