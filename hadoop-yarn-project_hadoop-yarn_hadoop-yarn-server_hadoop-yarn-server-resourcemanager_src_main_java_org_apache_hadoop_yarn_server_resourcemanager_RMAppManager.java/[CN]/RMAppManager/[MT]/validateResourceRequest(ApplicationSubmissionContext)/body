{
  if (!submissionContext.getUnmanagedAM()) {
    ResourceRequest amReq=BuilderUtils.newResourceRequest(RMAppAttemptImpl.AM_CONTAINER_PRIORITY,ResourceRequest.ANY,submissionContext.getResource(),1);
    try {
      SchedulerUtils.validateResourceRequest(amReq,scheduler.getMaximumResourceCapability());
    }
 catch (    InvalidResourceRequestException e) {
      LOG.warn("RM app submission failed in validating AM resource request" + " for application " + submissionContext.getApplicationId(),e);
      throw e;
    }
  }
}
