{
  ApplicationCLI cli=createAndGetAppCLI();
  ApplicationId applicationId=ApplicationId.newInstance(1234,5);
  ApplicationAttemptId attemptId=ApplicationAttemptId.newInstance(applicationId,1);
  ApplicationAttemptId attemptId1=ApplicationAttemptId.newInstance(applicationId,2);
  ApplicationAttemptReport attemptReport=ApplicationAttemptReport.newInstance(attemptId,"host",124,"url","oUrl","diagnostics",YarnApplicationAttemptState.FINISHED,ContainerId.newContainerId(attemptId,1));
  ApplicationAttemptReport attemptReport1=ApplicationAttemptReport.newInstance(attemptId1,"host",124,"url","oUrl","diagnostics",YarnApplicationAttemptState.FINISHED,ContainerId.newContainerId(attemptId1,1));
  List<ApplicationAttemptReport> reports=new ArrayList<ApplicationAttemptReport>();
  reports.add(attemptReport);
  reports.add(attemptReport1);
  when(client.getApplicationAttempts(any(ApplicationId.class))).thenReturn(reports);
  int result=cli.run(new String[]{"applicationattempt","-list",applicationId.toString()});
  assertEquals(0,result);
  verify(client).getApplicationAttempts(applicationId);
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  PrintWriter pw=new PrintWriter(baos);
  pw.println("Total number of application attempts :2");
  pw.print("         ApplicationAttempt-Id");
  pw.print("\t               State");
  pw.print("\t                    AM-Container-Id");
  pw.println("\t                       Tracking-URL");
  pw.print("   appattempt_1234_0005_000001");
  pw.print("\t            FINISHED");
  pw.print("\t      container_1234_0005_01_000001");
  pw.println("\t                                url");
  pw.print("   appattempt_1234_0005_000002");
  pw.print("\t            FINISHED");
  pw.print("\t      container_1234_0005_02_000001");
  pw.println("\t                                url");
  pw.close();
  String appReportStr=baos.toString("UTF-8");
  Assert.assertEquals(appReportStr,sysOutStream.toString());
}
