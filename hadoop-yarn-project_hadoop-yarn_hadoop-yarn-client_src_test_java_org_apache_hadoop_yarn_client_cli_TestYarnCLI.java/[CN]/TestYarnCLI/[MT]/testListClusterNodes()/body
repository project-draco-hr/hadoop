{
  NodeCLI cli=new NodeCLI();
  when(client.getNodeReports()).thenReturn(getNodeReports(3));
  cli.setClient(client);
  cli.setSysOutPrintStream(sysOut);
  int result=cli.run(new String[]{"-list"});
  assertEquals(0,result);
  verify(client).getNodeReports();
  StringBuffer nodesReportStr=new StringBuffer();
  nodesReportStr.append("Total Nodes:3");
  nodesReportStr.append("\n         Node-Id\tNode-State\tNode-Http-Address\t" + "Health-Status(isNodeHealthy)\tRunning-Containers");
  nodesReportStr.append("\n         host0:0\t   RUNNING\t       host1:8888" + "\t                     false\t                 0");
  nodesReportStr.append("\n         host1:0\t   RUNNING\t       host1:8888" + "\t                     false\t                 0");
  nodesReportStr.append("\n         host2:0\t   RUNNING\t       host1:8888" + "\t                     false\t                 0\n");
  Assert.assertEquals(nodesReportStr.toString(),sysOutStream.toString());
  verify(sysOut,times(1)).write(any(byte[].class),anyInt(),anyInt());
}
