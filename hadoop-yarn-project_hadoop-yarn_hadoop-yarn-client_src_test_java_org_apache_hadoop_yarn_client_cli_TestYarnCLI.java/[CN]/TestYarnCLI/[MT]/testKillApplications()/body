{
  ApplicationCLI cli=createAndGetAppCLI();
  ApplicationId applicationId1=ApplicationId.newInstance(1234,5);
  ApplicationId applicationId2=ApplicationId.newInstance(1234,6);
  ApplicationId applicationId3=ApplicationId.newInstance(1234,7);
  ApplicationId applicationId4=ApplicationId.newInstance(1234,8);
  ApplicationReport newApplicationReport1=ApplicationReport.newInstance(applicationId1,ApplicationAttemptId.newInstance(applicationId1,1),"user","queue","appname","host",124,null,YarnApplicationState.FINISHED,"diagnostics","url",0,0,FinalApplicationStatus.SUCCEEDED,null,"N/A",0.53789f,"YARN",null);
  ApplicationReport newApplicationReport2=ApplicationReport.newInstance(applicationId2,ApplicationAttemptId.newInstance(applicationId2,1),"user","queue","appname","host",124,null,YarnApplicationState.FINISHED,"diagnostics","url",0,0,FinalApplicationStatus.SUCCEEDED,null,"N/A",0.34344f,"YARN",null);
  when(client.getApplicationReport(applicationId1)).thenReturn(newApplicationReport1);
  when(client.getApplicationReport(applicationId2)).thenReturn(newApplicationReport2);
  int result=cli.run(new String[]{"application","-kill",applicationId1.toString() + " " + applicationId2.toString()});
  assertEquals(0,result);
  verify(client,times(0)).killApplication(applicationId1);
  verify(client,times(0)).killApplication(applicationId2);
  verify(sysOut).println("Application " + applicationId1 + " has already finished ");
  verify(sysOut).println("Application " + applicationId2 + " has already finished ");
  ApplicationReport newApplicationReport3=ApplicationReport.newInstance(applicationId1,ApplicationAttemptId.newInstance(applicationId1,1),"user","queue","appname","host",124,null,YarnApplicationState.RUNNING,"diagnostics","url",0,0,FinalApplicationStatus.SUCCEEDED,null,"N/A",0.53789f,"YARN",null);
  ApplicationReport newApplicationReport4=ApplicationReport.newInstance(applicationId2,ApplicationAttemptId.newInstance(applicationId2,1),"user","queue","appname","host",124,null,YarnApplicationState.RUNNING,"diagnostics","url",0,0,FinalApplicationStatus.SUCCEEDED,null,"N/A",0.53345f,"YARN",null);
  when(client.getApplicationReport(applicationId1)).thenReturn(newApplicationReport3);
  when(client.getApplicationReport(applicationId2)).thenReturn(newApplicationReport4);
  result=cli.run(new String[]{"application","-kill",applicationId1.toString() + " " + applicationId2.toString()});
  assertEquals(0,result);
  verify(client).killApplication(applicationId1);
  verify(client).killApplication(applicationId2);
  verify(sysOut).println("Killing application application_1234_0005");
  verify(sysOut).println("Killing application application_1234_0006");
  doThrow(new ApplicationNotFoundException("Application with id '" + applicationId3 + "' doesn't exist in RM.")).when(client).getApplicationReport(applicationId3);
  doThrow(new ApplicationNotFoundException("Application with id '" + applicationId4 + "' doesn't exist in RM.")).when(client).getApplicationReport(applicationId4);
  result=cli.run(new String[]{"application","-kill",applicationId3.toString() + " " + applicationId4.toString()});
  Assert.assertNotEquals(0,result);
  verify(sysOut).println("Application with id 'application_1234_0007' doesn't exist in RM.");
  verify(sysOut).println("Application with id 'application_1234_0008' doesn't exist in RM.");
  doThrow(new ApplicationNotFoundException("Application with id '" + applicationId3 + "' doesn't exist in RM.")).when(client).getApplicationReport(applicationId3);
  ApplicationReport newApplicationReport5=ApplicationReport.newInstance(applicationId1,ApplicationAttemptId.newInstance(applicationId1,1),"user","queue","appname","host",124,null,YarnApplicationState.RUNNING,"diagnostics","url",0,0,FinalApplicationStatus.SUCCEEDED,null,"N/A",0.53345f,"YARN",null);
  when(client.getApplicationReport(applicationId1)).thenReturn(newApplicationReport5);
  result=cli.run(new String[]{"application","-kill",applicationId3.toString() + " " + applicationId1.toString()});
  Assert.assertEquals(0,result);
  sysOutStream.reset();
  result=cli.run(new String[]{"application","--appStates","RUNNING","-kill",applicationId3.toString() + " " + applicationId1.toString()});
  Assert.assertEquals(-1,result);
  Assert.assertEquals(createApplicationCLIHelpMessage(),sysOutStream.toString());
}
