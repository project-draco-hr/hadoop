{
  LOG.info("Starting test testTargetDecommnDatanodeDoesntExists");
  int lbsCount=2;
  List<Integer> decommnNodeIndices=new ArrayList<>();
  decommnNodeIndices.add(0);
  decommnNodeIndices.add(1);
  decommnNodeIndices.add(2);
  decommnNodeIndices.add(4);
  decommnNodeIndices.add(5);
  List<Integer> targetNodeIndices=new ArrayList<>();
  targetNodeIndices.add(0);
  targetNodeIndices.add(2);
  targetNodeIndices.add(4);
  HashMap<Integer,List<String>> decommissionedNodes=new HashMap<>(lbsCount * decommnNodeIndices.size());
  List<LocatedBlock> lbs=createLocatedStripedBlocks(lbsCount,NUM_DATA_BLOCKS,NUM_PARITY_BLOCKS,decommnNodeIndices,targetNodeIndices,decommissionedNodes);
  List<HashMap<DatanodeInfo,Byte>> locToIndexList=new ArrayList<>();
  List<HashMap<DatanodeInfo,Token<BlockTokenIdentifier>>> locToTokenList=new ArrayList<>();
  prepareBlockIndexAndTokenList(lbs,locToIndexList,locToTokenList);
  dm.sortLocatedBlocks(null,lbs);
  int blkGrpWidth=NUM_DATA_BLOCKS + NUM_PARITY_BLOCKS - 2;
  assertDecommnNodePosition(blkGrpWidth,decommissionedNodes,lbs);
  assertBlockIndexAndTokenPosition(lbs,locToIndexList,locToTokenList);
}
