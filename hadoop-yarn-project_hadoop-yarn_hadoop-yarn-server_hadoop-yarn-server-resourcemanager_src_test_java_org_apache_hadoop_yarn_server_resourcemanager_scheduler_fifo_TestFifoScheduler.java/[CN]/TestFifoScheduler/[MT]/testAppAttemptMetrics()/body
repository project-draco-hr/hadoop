{
  AsyncDispatcher dispatcher=new InlineDispatcher();
  RMContext rmContext=new RMContextImpl(dispatcher,null,null,null,null,null,null,null,null);
  FifoScheduler schedular=new FifoScheduler();
  schedular.reinitialize(new Configuration(),rmContext);
  QueueMetrics metrics=schedular.getRootQueueMetrics();
  int beforeAppsSubmitted=metrics.getAppsSubmitted();
  ApplicationId appId=BuilderUtils.newApplicationId(200,1);
  ApplicationAttemptId appAttemptId=BuilderUtils.newApplicationAttemptId(appId,1);
  SchedulerEvent event=new AppAddedSchedulerEvent(appAttemptId,"queue","user");
  schedular.handle(event);
  appAttemptId=BuilderUtils.newApplicationAttemptId(appId,2);
  event=new AppAddedSchedulerEvent(appAttemptId,"queue","user");
  schedular.handle(event);
  int afterAppsSubmitted=metrics.getAppsSubmitted();
  Assert.assertEquals(1,afterAppsSubmitted - beforeAppsSubmitted);
}
