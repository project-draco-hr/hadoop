{
  if (LOG.isDebugEnabled()) {
    LOG.debug("storeContainerResourceChanged: containerId=" + containerId + ", capability="+ capability);
  }
  String keyResChng=CONTAINERS_KEY_PREFIX + containerId.toString() + CONTAINER_RESOURCE_CHANGED_KEY_SUFFIX;
  String keyVersion=CONTAINERS_KEY_PREFIX + containerId.toString() + CONTAINER_VERSION_KEY_SUFFIX;
  try {
    WriteBatch batch=db.createWriteBatch();
    try {
      batch.put(bytes(keyResChng),((ResourcePBImpl)capability).getProto().toByteArray());
      batch.put(bytes(keyVersion),bytes(Integer.toString(containerVersion)));
      db.write(batch);
    }
  finally {
      batch.close();
    }
  }
 catch (  DBException e) {
    throw new IOException(e);
  }
}
