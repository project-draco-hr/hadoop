{
  final String completedPrefix=keyPrefix + LOCALIZATION_COMPLETED_SUFFIX;
  final String startedPrefix=keyPrefix + LOCALIZATION_STARTED_SUFFIX;
  LocalResourceTrackerState state=new LocalResourceTrackerState();
  while (iter.hasNext()) {
    Entry<byte[],byte[]> entry=iter.peekNext();
    String key=asString(entry.getKey());
    if (!key.startsWith(keyPrefix)) {
      break;
    }
    if (key.startsWith(completedPrefix)) {
      state.localizedResources=loadCompletedResources(iter,completedPrefix);
    }
 else     if (key.startsWith(startedPrefix)) {
      state.inProgressResources=loadStartedResources(iter,startedPrefix);
    }
 else {
      throw new IOException("Unexpected key in resource tracker state: " + key);
    }
  }
  return state;
}
