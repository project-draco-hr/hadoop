{
  if (!canRun()) {
    return;
  }
  UserGroupInformation ugi=UserGroupInformation.getLoginUser();
  Path p=ugi.doAs(new PrivilegedExceptionAction<Path>(){
    public Path run() throws IOException, LoginException, InterruptedException {
      return checkLocalizedPath(false);
    }
  }
);
  String distCacheDir=TaskTracker.getPrivateDistributedCacheDir(ugi.getShortUserName());
  assertTrue("Cache file didn't get localized in the expected directory. " + "Expected localization to happen within " + ROOT_MAPRED_LOCAL_DIR + "/"+ distCacheDir+ ", but was localized at "+ p,p.toString().contains(distCacheDir));
  ugi=UserGroupInformation.createRemoteUser("fooUserInMachine");
  p=ugi.doAs(new PrivilegedExceptionAction<Path>(){
    public Path run() throws IOException, LoginException, InterruptedException {
      return checkLocalizedPath(false);
    }
  }
);
  distCacheDir=TaskTracker.getPrivateDistributedCacheDir(ugi.getShortUserName());
  assertTrue("Cache file didn't get localized in the expected directory. " + "Expected localization to happen within " + ROOT_MAPRED_LOCAL_DIR + "/"+ distCacheDir+ ", but was localized at "+ p,p.toString().contains(distCacheDir));
}
