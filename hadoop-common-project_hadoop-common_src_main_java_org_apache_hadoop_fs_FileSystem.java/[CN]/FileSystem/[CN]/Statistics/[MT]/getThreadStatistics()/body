{
  StatisticsData data=threadData.get();
  if (data == null) {
    data=new StatisticsData();
    threadData.set(data);
    StatisticsDataReference ref=new StatisticsDataReference(data,Thread.currentThread());
synchronized (this) {
      allData.add(ref);
    }
  }
  return data;
}
