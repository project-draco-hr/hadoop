{
  String filename=pathPattern.toUri().getPath();
  List<String> filePatterns=GlobExpander.expand(filename);
  if (filePatterns.size() == 1) {
    return globStatusInternal(pathPattern,filter);
  }
 else {
    List<FileStatus> results=new ArrayList<FileStatus>();
    for (    String filePattern : filePatterns) {
      FileStatus[] files=globStatusInternal(new Path(filePattern),filter);
      for (      FileStatus file : files) {
        results.add(file);
      }
    }
    return results.toArray(new FileStatus[results.size()]);
  }
}
