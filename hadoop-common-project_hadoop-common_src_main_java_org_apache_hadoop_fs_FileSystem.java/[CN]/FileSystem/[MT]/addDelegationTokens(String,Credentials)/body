{
  if (credentials == null) {
    credentials=new Credentials();
  }
  final List<Token<?>> tokens=new ArrayList<Token<?>>();
  collectDelegationTokens(renewer,credentials,tokens);
  return tokens.toArray(new Token<?>[tokens.size()]);
}
