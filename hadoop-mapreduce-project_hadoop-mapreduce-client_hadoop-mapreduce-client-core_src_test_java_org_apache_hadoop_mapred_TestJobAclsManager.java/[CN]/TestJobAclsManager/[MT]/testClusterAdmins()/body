{
  Map<JobACL,AccessControlList> tmpJobACLs=new HashMap<JobACL,AccessControlList>();
  Configuration conf=new Configuration();
  String jobOwner="testuser";
  conf.set(JobACL.VIEW_JOB.getAclName(),jobOwner);
  conf.set(JobACL.MODIFY_JOB.getAclName(),jobOwner);
  conf.setBoolean(MRConfig.MR_ACLS_ENABLED,true);
  String clusterAdmin="testuser2";
  conf.set(MRConfig.MR_ADMINS,clusterAdmin);
  JobACLsManager aclsManager=new JobACLsManager(conf);
  tmpJobACLs=aclsManager.constructJobACLs(conf);
  final Map<JobACL,AccessControlList> jobACLs=tmpJobACLs;
  UserGroupInformation callerUGI=UserGroupInformation.createUserForTesting(clusterAdmin,new String[]{});
  boolean val=aclsManager.checkAccess(callerUGI,JobACL.VIEW_JOB,jobOwner,jobACLs.get(JobACL.VIEW_JOB));
  assertTrue("cluster admin should have view access",val);
  val=aclsManager.checkAccess(callerUGI,JobACL.MODIFY_JOB,jobOwner,jobACLs.get(JobACL.MODIFY_JOB));
  assertTrue("cluster admin should have modify access",val);
}
