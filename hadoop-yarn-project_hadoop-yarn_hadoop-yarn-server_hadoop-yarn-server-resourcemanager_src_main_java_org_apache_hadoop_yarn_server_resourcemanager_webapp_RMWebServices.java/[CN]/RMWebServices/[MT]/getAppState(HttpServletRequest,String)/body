{
  init();
  UserGroupInformation callerUGI=getCallerUserGroupInformation(hsr,true);
  String userName="";
  if (callerUGI != null) {
    userName=callerUGI.getUserName();
  }
  RMApp app=null;
  try {
    app=getRMAppForAppId(appId);
  }
 catch (  NotFoundException e) {
    RMAuditLogger.logFailure(userName,AuditConstants.GET_APP_STATE,"UNKNOWN","RMWebService","Trying to get state of an absent application " + appId);
    throw e;
  }
  AppState ret=new AppState();
  ret.setState(app.getState().toString());
  return ret;
}
