{
  if (newApp.getResource().getvCores() > rm.getConfig().getInt(YarnConfiguration.RM_SCHEDULER_MAXIMUM_ALLOCATION_VCORES,YarnConfiguration.DEFAULT_RM_SCHEDULER_MAXIMUM_ALLOCATION_VCORES)) {
    String msg="Requested more cores than configured max";
    throw new BadRequestException(msg);
  }
  if (newApp.getResource().getMemory() > rm.getConfig().getInt(YarnConfiguration.RM_SCHEDULER_MAXIMUM_ALLOCATION_MB,YarnConfiguration.DEFAULT_RM_SCHEDULER_MAXIMUM_ALLOCATION_MB)) {
    String msg="Requested more memory than configured max";
    throw new BadRequestException(msg);
  }
  Resource r=Resource.newInstance(newApp.getResource().getMemory(),newApp.getResource().getvCores());
  return r;
}
