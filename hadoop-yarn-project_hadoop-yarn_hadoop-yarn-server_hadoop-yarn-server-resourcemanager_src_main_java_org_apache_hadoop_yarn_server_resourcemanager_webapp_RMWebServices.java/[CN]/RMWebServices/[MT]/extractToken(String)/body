{
  Token<RMDelegationTokenIdentifier> token=new Token<RMDelegationTokenIdentifier>();
  try {
    token.decodeFromUrlString(encodedToken);
  }
 catch (  Exception ie) {
    String msg="Could not decode encoded token";
    throw new BadRequestException(msg);
  }
  return token;
}
