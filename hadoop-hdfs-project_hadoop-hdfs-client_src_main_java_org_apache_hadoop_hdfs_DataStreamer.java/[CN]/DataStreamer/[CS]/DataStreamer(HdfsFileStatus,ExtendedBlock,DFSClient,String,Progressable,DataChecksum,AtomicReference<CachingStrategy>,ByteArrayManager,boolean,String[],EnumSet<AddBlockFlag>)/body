{
  this.block=block;
  this.dfsClient=dfsClient;
  this.src=src;
  this.progress=progress;
  this.stat=stat;
  this.checksum4WriteBlock=checksum;
  this.cachingStrategy=cachingStrategy;
  this.byteArrayManager=byteArrayManage;
  this.isLazyPersistFile=isLazyPersist(stat);
  this.isAppend=isAppend;
  this.favoredNodes=favoredNodes;
  final DfsClientConf conf=dfsClient.getConf();
  this.dfsclientSlowLogThresholdMs=conf.getSlowIoWarningThresholdMs();
  this.excludedNodes=initExcludedNodes(conf.getExcludedNodesCacheExpiry());
  this.errorState=new ErrorState(conf.getDatanodeRestartTimeout());
  this.addBlockFlags=flags;
}
