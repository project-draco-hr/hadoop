{
  Configuration conf=getConfig();
  try {
    server=RPC.getServer(TaskUmbilicalProtocol.class,this,"0.0.0.0",0,conf.getInt(MRJobConfig.MR_AM_TASK_LISTENER_THREAD_COUNT,MRJobConfig.DEFAULT_MR_AM_TASK_LISTENER_THREAD_COUNT),false,conf,jobTokenSecretManager);
    if (conf.getBoolean(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHORIZATION,false)) {
      refreshServiceAcls(conf,new MRAMPolicyProvider());
    }
    server.start();
    this.address=NetUtils.getConnectAddress(server);
  }
 catch (  IOException e) {
    throw new YarnRuntimeException(e);
  }
}
