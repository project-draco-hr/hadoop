{
  Configuration conf=new Configuration();
  JobConf jobConf=GridmixTestUtils.mrCluster.createJobConf(new JobConf(conf));
  Path ioPath=new Path("testDistCacheEmulationConfigurability").makeQualified(GridmixTestUtils.dfs);
  FileSystem fs=FileSystem.get(jobConf);
  FileSystem.mkdirs(fs,ioPath,new FsPermission((short)0777));
  dce=createDistributedCacheEmulator(jobConf,ioPath,false);
  assertTrue("Default configuration of " + DistributedCacheEmulator.GRIDMIX_EMULATE_DISTRIBUTEDCACHE + " is wrong.",dce.shouldEmulateDistCacheLoad());
  validateJobConfWithOutDCFiles(conf,jobConf);
  validateJobConfWithDCFiles(conf,jobConf);
  validateWithOutVisibilities();
}
