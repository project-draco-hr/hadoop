{
  Event wrapper;
  try {
    wrapper=(Event)reader.read(null,decoder);
  }
 catch (  EOFException e) {
    return null;
  }
  HistoryEvent result;
switch (wrapper.type) {
case JOB_SUBMITTED:
    result=new JobSubmittedEvent();
  break;
case JOB_INITED:
result=new JobInitedEvent();
break;
case JOB_FINISHED:
result=new JobFinishedEvent();
break;
case JOB_PRIORITY_CHANGED:
result=new JobPriorityChangeEvent();
break;
case JOB_STATUS_CHANGED:
result=new JobStatusChangedEvent();
break;
case JOB_FAILED:
result=new JobUnsuccessfulCompletionEvent();
break;
case JOB_KILLED:
result=new JobUnsuccessfulCompletionEvent();
break;
case JOB_ERROR:
result=new JobUnsuccessfulCompletionEvent();
break;
case JOB_INFO_CHANGED:
result=new JobInfoChangeEvent();
break;
case TASK_STARTED:
result=new TaskStartedEvent();
break;
case TASK_FINISHED:
result=new TaskFinishedEvent();
break;
case TASK_FAILED:
result=new TaskFailedEvent();
break;
case TASK_UPDATED:
result=new TaskUpdatedEvent();
break;
case MAP_ATTEMPT_STARTED:
result=new TaskAttemptStartedEvent();
break;
case MAP_ATTEMPT_FINISHED:
result=new MapAttemptFinishedEvent();
break;
case MAP_ATTEMPT_FAILED:
result=new TaskAttemptUnsuccessfulCompletionEvent();
break;
case MAP_ATTEMPT_KILLED:
result=new TaskAttemptUnsuccessfulCompletionEvent();
break;
case REDUCE_ATTEMPT_STARTED:
result=new TaskAttemptStartedEvent();
break;
case REDUCE_ATTEMPT_FINISHED:
result=new ReduceAttemptFinishedEvent();
break;
case REDUCE_ATTEMPT_FAILED:
result=new TaskAttemptUnsuccessfulCompletionEvent();
break;
case REDUCE_ATTEMPT_KILLED:
result=new TaskAttemptUnsuccessfulCompletionEvent();
break;
case SETUP_ATTEMPT_STARTED:
result=new TaskAttemptStartedEvent();
break;
case SETUP_ATTEMPT_FINISHED:
result=new TaskAttemptFinishedEvent();
break;
case SETUP_ATTEMPT_FAILED:
result=new TaskAttemptUnsuccessfulCompletionEvent();
break;
case SETUP_ATTEMPT_KILLED:
result=new TaskAttemptUnsuccessfulCompletionEvent();
break;
case CLEANUP_ATTEMPT_STARTED:
result=new TaskAttemptStartedEvent();
break;
case CLEANUP_ATTEMPT_FINISHED:
result=new TaskAttemptFinishedEvent();
break;
case CLEANUP_ATTEMPT_FAILED:
result=new TaskAttemptUnsuccessfulCompletionEvent();
break;
case CLEANUP_ATTEMPT_KILLED:
result=new TaskAttemptUnsuccessfulCompletionEvent();
break;
case AM_STARTED:
result=new AMStartedEvent();
break;
default :
throw new RuntimeException("unexpected event type: " + wrapper.type);
}
result.setDatum(wrapper.event);
return result;
}
