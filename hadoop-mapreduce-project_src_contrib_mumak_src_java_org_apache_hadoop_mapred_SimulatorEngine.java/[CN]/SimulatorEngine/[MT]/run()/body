{
  init();
  for (SimulatorEvent next=queue.get(); next != null && next.getTimeStamp() < terminateTime && !shutdown; next=queue.get()) {
    currentTime=next.getTimeStamp();
    assert(currentTime == queue.getCurrentTime());
    SimulatorEventListener listener=next.getListener();
    List<SimulatorEvent> response=listener.accept(next);
    queue.addAll(response);
  }
  summary(System.out);
}
