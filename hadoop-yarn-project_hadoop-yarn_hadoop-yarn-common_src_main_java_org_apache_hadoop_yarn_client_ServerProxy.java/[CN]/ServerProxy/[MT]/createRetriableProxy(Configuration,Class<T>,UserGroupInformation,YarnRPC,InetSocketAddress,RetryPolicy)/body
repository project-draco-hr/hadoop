{
  T proxy=user.doAs(new PrivilegedAction<T>(){
    @Override public T run(){
      return (T)rpc.getProxy(protocol,serverAddress,conf);
    }
  }
);
  return (T)RetryProxy.create(protocol,proxy,retryPolicy);
}
