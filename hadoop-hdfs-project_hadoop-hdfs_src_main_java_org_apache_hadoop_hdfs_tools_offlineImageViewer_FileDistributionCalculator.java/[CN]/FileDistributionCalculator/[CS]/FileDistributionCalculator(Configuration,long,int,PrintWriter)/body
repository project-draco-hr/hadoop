{
  this.conf=conf;
  this.maxSize=maxSize == 0 ? MAX_SIZE_DEFAULT : maxSize;
  this.steps=steps == 0 ? INTERVAL_DEFAULT : steps;
  this.out=out;
  long numIntervals=this.maxSize / this.steps;
  this.distribution=new int[1 + (int)(numIntervals)];
  Preconditions.checkState(numIntervals < Integer.MAX_VALUE,"Too many distribution intervals");
}
