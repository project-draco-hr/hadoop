{
  return new ContainerManagerImpl(context,exec,delSrvc,nodeStatusUpdater,metrics,new ApplicationACLsManager(conf),dirsHandler){
    @Override public void setBlockNewContainerRequests(    boolean blockNewContainerRequests){
    }
    @Override protected UserGroupInformation getRemoteUgi() throws YarnException {
      ApplicationId appId=ApplicationId.newInstance(0,0);
      ApplicationAttemptId appAttemptId=ApplicationAttemptId.newInstance(appId,1);
      UserGroupInformation ugi=UserGroupInformation.createRemoteUser(appAttemptId.toString());
      ugi.addTokenIdentifier(new NMTokenIdentifier(appAttemptId,context.getNodeId(),user,context.getNMTokenSecretManager().getCurrentKey().getKeyId()));
      return ugi;
    }
  }
;
}
