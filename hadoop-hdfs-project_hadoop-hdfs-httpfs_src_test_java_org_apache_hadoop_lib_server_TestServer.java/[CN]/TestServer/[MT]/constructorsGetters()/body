{
  Server server=new Server("server","/a","/b","/c","/d",new Configuration(false));
  assertEquals(server.getHomeDir(),"/a");
  assertEquals(server.getConfigDir(),"/b");
  assertEquals(server.getLogDir(),"/c");
  assertEquals(server.getTempDir(),"/d");
  assertEquals(server.getName(),"server");
  assertEquals(server.getPrefix(),"server");
  assertEquals(server.getPrefixedName("name"),"server.name");
  assertNotNull(server.getConfig());
  server=new Server("server","/a","/b","/c","/d");
  assertEquals(server.getHomeDir(),"/a");
  assertEquals(server.getConfigDir(),"/b");
  assertEquals(server.getLogDir(),"/c");
  assertEquals(server.getTempDir(),"/d");
  assertEquals(server.getName(),"server");
  assertEquals(server.getPrefix(),"server");
  assertEquals(server.getPrefixedName("name"),"server.name");
  assertNull(server.getConfig());
  server=new Server("server",TestDirHelper.getTestDir().getAbsolutePath(),new Configuration(false));
  assertEquals(server.getHomeDir(),TestDirHelper.getTestDir().getAbsolutePath());
  assertEquals(server.getConfigDir(),TestDirHelper.getTestDir() + "/conf");
  assertEquals(server.getLogDir(),TestDirHelper.getTestDir() + "/log");
  assertEquals(server.getTempDir(),TestDirHelper.getTestDir() + "/temp");
  assertEquals(server.getName(),"server");
  assertEquals(server.getPrefix(),"server");
  assertEquals(server.getPrefixedName("name"),"server.name");
  assertNotNull(server.getConfig());
  server=new Server("server",TestDirHelper.getTestDir().getAbsolutePath());
  assertEquals(server.getHomeDir(),TestDirHelper.getTestDir().getAbsolutePath());
  assertEquals(server.getConfigDir(),TestDirHelper.getTestDir() + "/conf");
  assertEquals(server.getLogDir(),TestDirHelper.getTestDir() + "/log");
  assertEquals(server.getTempDir(),TestDirHelper.getTestDir() + "/temp");
  assertEquals(server.getName(),"server");
  assertEquals(server.getPrefix(),"server");
  assertEquals(server.getPrefixedName("name"),"server.name");
  assertNull(server.getConfig());
}
