{
  Server server=new Server("server",getAbsolutePath("/a"),getAbsolutePath("/b"),getAbsolutePath("/c"),getAbsolutePath("/d"),new Configuration(false));
  assertEquals(server.getHomeDir(),getAbsolutePath("/a"));
  assertEquals(server.getConfigDir(),getAbsolutePath("/b"));
  assertEquals(server.getLogDir(),getAbsolutePath("/c"));
  assertEquals(server.getTempDir(),getAbsolutePath("/d"));
  assertEquals(server.getName(),"server");
  assertEquals(server.getPrefix(),"server");
  assertEquals(server.getPrefixedName("name"),"server.name");
  assertNotNull(server.getConfig());
  server=new Server("server",getAbsolutePath("/a"),getAbsolutePath("/b"),getAbsolutePath("/c"),getAbsolutePath("/d"));
  assertEquals(server.getHomeDir(),getAbsolutePath("/a"));
  assertEquals(server.getConfigDir(),getAbsolutePath("/b"));
  assertEquals(server.getLogDir(),getAbsolutePath("/c"));
  assertEquals(server.getTempDir(),getAbsolutePath("/d"));
  assertEquals(server.getName(),"server");
  assertEquals(server.getPrefix(),"server");
  assertEquals(server.getPrefixedName("name"),"server.name");
  assertNull(server.getConfig());
  server=new Server("server",TestDirHelper.getTestDir().getAbsolutePath(),new Configuration(false));
  assertEquals(server.getHomeDir(),TestDirHelper.getTestDir().getAbsolutePath());
  assertEquals(server.getConfigDir(),TestDirHelper.getTestDir() + "/conf");
  assertEquals(server.getLogDir(),TestDirHelper.getTestDir() + "/log");
  assertEquals(server.getTempDir(),TestDirHelper.getTestDir() + "/temp");
  assertEquals(server.getName(),"server");
  assertEquals(server.getPrefix(),"server");
  assertEquals(server.getPrefixedName("name"),"server.name");
  assertNotNull(server.getConfig());
  server=new Server("server",TestDirHelper.getTestDir().getAbsolutePath());
  assertEquals(server.getHomeDir(),TestDirHelper.getTestDir().getAbsolutePath());
  assertEquals(server.getConfigDir(),TestDirHelper.getTestDir() + "/conf");
  assertEquals(server.getLogDir(),TestDirHelper.getTestDir() + "/log");
  assertEquals(server.getTempDir(),TestDirHelper.getTestDir() + "/temp");
  assertEquals(server.getName(),"server");
  assertEquals(server.getPrefix(),"server");
  assertEquals(server.getPrefixedName("name"),"server.name");
  assertNull(server.getConfig());
}
