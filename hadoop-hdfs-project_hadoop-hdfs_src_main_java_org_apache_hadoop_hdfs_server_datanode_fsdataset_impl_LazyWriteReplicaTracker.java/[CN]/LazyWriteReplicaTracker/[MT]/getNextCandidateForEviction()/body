{
  while (replicasPersisted.size() != 0) {
    ReplicaState replicaState=replicasPersisted.remove();
    Map<Long,ReplicaState> replicaMap=replicaMaps.get(replicaState.bpid);
    if (replicaMap != null && replicaMap.get(replicaState.blockId) != null) {
      return replicaState;
    }
  }
  return null;
}
