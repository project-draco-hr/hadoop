{
  LOG.info("--- START: testAppFinishedFinished ---");
  RMApp application=testCreateAppFinished(null,"");
  RMAppEvent event=new RMAppEvent(application.getApplicationId(),RMAppEventType.KILL,"Application killed by user.");
  application.handle(event);
  rmDispatcher.await();
  assertTimesAtFinish(application);
  assertAppState(RMAppState.FINISHED,application);
  StringBuilder diag=application.getDiagnostics();
  Assert.assertEquals("application diagnostics is not correct","",diag.toString());
  verifyApplicationFinished(RMAppState.FINISHED);
}
