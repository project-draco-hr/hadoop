{
  sendAppUpdateSavedEvent(application);
  assertKilled(application);
  application.getCurrentAppAttempt().handle(new RMAppAttemptUpdateSavedEvent(application.getCurrentAppAttempt().getAppAttemptId(),null));
  Assert.assertEquals(RMAppAttemptState.KILLED,application.getCurrentAppAttempt().getAppAttemptState());
  assertAppFinalStateSaved(application);
}
