{
  LOG.info("--- START: testAppAcceptedKill ---");
  RMApp application=testCreateAppAccepted(null);
  RMAppEvent event=new RMAppEvent(application.getApplicationId(),RMAppEventType.KILL);
  application.handle(event);
  rmDispatcher.await();
  assertAppState(RMAppState.KILLING,application);
  RMAppEvent appAttemptKilled=new RMAppEvent(application.getApplicationId(),RMAppEventType.ATTEMPT_KILLED);
  application.handle(appAttemptKilled);
  assertAppState(RMAppState.FINAL_SAVING,application);
  sendAppUpdateSavedEvent(application);
  assertKilled(application);
  assertAppFinalStateSaved(application);
  verifyApplicationFinished(RMAppState.KILLED);
  verifyAppRemovedSchedulerEvent(RMAppState.KILLED);
}
