{
  LOG.info("--- START: testAppSubmittedKill---");
  RMApp application=testCreateAppSubmittedNoRecovery(null);
  UserGroupInformation fooUser=UserGroupInformation.createUserForTesting("fooTestAppSubmittedKill",new String[]{"foo_group"});
  RMAppEvent event=new RMAppKillByClientEvent(application.getApplicationId(),"Application killed by user.",fooUser,Server.getRemoteIp());
  application.handle(event);
  rmDispatcher.await();
  sendAppUpdateSavedEvent(application);
  assertKilled(application);
  assertAppFinalStateSaved(application);
  verifyApplicationFinished(RMAppState.KILLED);
  verifyAppRemovedSchedulerEvent(RMAppState.KILLED);
}
