{
  LOG.info("--- START: testAppSubmittedRejected ---");
  RMApp application=testCreateAppSubmittedNoRecovery(null);
  String rejectedText="app rejected";
  RMAppEvent event=new RMAppRejectedEvent(application.getApplicationId(),rejectedText);
  application.handle(event);
  rmDispatcher.await();
  sendAppUpdateSavedEvent(application);
  assertFailed(application,rejectedText);
  verify(writer).applicationFinished(any(RMApp.class));
}
