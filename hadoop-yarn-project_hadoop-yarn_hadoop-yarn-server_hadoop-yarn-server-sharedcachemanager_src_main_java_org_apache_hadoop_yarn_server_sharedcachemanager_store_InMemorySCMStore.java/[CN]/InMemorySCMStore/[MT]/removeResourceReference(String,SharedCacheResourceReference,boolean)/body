{
  String interned=intern(key);
synchronized (interned) {
    boolean removed=false;
    SharedCacheResource resource=cachedResources.get(interned);
    if (resource != null) {
      Set<SharedCacheResourceReference> resourceRefs=resource.getResourceReferences();
      removed=resourceRefs.remove(ref);
      if (updateAccessTime) {
        resource.updateAccessTime();
      }
    }
    return removed;
  }
}
