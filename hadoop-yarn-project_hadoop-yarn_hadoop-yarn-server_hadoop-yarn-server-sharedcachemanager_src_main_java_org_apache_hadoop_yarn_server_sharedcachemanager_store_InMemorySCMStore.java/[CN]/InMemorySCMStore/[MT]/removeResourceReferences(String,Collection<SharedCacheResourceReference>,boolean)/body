{
  String interned=intern(key);
synchronized (interned) {
    SharedCacheResource resource=cachedResources.get(interned);
    if (resource != null) {
      Set<SharedCacheResourceReference> resourceRefs=resource.getResourceReferences();
      resourceRefs.removeAll(refs);
      if (updateAccessTime) {
        resource.updateAccessTime();
      }
    }
  }
}
