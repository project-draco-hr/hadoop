{
  if (maxGang > 0) {
    gangsToPlace-=maxGang;
    ReservationInterval reservationInt=computeReservationInterval(stageEarliestStart,stageDeadline,dur);
    Resource reservationRes=Resources.multiply(rr.getCapability(),rr.getConcurrency() * maxGang);
    planModifications.addInterval(reservationInt,reservationRes);
    allocationRequests.put(reservationInt,reservationRes);
  }
  return gangsToPlace;
}
