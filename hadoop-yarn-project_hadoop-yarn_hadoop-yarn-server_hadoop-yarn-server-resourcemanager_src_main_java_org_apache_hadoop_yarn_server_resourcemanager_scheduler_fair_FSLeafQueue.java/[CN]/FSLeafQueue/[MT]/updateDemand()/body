{
  Resource maxRes=scheduler.getAllocationConfiguration().getMaxResources(getName());
  demand=Resources.createResource(0);
  for (  AppSchedulable sched : runnableAppScheds) {
    if (Resources.equals(demand,maxRes)) {
      break;
    }
    updateDemandForApp(sched,maxRes);
  }
  for (  AppSchedulable sched : nonRunnableAppScheds) {
    if (Resources.equals(demand,maxRes)) {
      break;
    }
    updateDemandForApp(sched,maxRes);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("The updated demand for " + getName() + " is "+ demand+ "; the max is "+ maxRes);
  }
}
