{
  RPC.setProtocolEngine(conf,ClientNamenodeProtocolPB.class,ProtobufRpcEngine.class);
  return RPC.getProxy(ClientNamenodeProtocolPB.class,RPC.getProtocolVersion(ClientNamenodeProtocolPB.class),nameNodeAddr,ugi,conf,NetUtils.getSocketFactory(conf,ClientNamenodeProtocolPB.class));
}
