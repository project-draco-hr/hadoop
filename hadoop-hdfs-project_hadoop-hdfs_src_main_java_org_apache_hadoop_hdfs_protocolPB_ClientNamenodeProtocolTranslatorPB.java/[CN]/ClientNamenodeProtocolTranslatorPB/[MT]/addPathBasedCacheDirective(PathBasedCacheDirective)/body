{
  try {
    AddPathBasedCacheDirectiveRequestProto.Builder builder=AddPathBasedCacheDirectiveRequestProto.newBuilder();
    builder.setDirective(PathBasedCacheDirectiveProto.newBuilder().setPath(directive.getPath()).setPool(directive.getPool()).build());
    AddPathBasedCacheDirectiveResponseProto result=rpcProxy.addPathBasedCacheDirective(null,builder.build());
    return new PathBasedCacheDescriptor(result.getDescriptorId(),directive.getPath(),directive.getPool());
  }
 catch (  ServiceException e) {
    throw ProtobufHelper.getRemoteException(e);
  }
}
