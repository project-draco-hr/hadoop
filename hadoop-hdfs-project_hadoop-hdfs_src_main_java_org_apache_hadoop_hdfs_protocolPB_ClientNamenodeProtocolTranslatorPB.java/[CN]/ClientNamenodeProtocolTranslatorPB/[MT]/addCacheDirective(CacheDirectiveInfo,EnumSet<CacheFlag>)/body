{
  try {
    AddCacheDirectiveRequestProto.Builder builder=AddCacheDirectiveRequestProto.newBuilder().setInfo(PBHelper.convert(directive));
    if (!flags.isEmpty()) {
      builder.setCacheFlags(PBHelper.convertCacheFlags(flags));
    }
    return rpcProxy.addCacheDirective(null,builder.build()).getId();
  }
 catch (  ServiceException e) {
    throw ProtobufHelper.getRemoteException(e);
  }
}
