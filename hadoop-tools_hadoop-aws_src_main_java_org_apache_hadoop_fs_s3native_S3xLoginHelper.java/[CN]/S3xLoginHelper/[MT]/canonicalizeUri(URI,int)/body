{
  if (uri.getPort() == -1 && defaultPort > 0) {
    try {
      uri=new URI(uri.getScheme(),null,uri.getHost(),defaultPort,uri.getPath(),uri.getQuery(),uri.getFragment());
    }
 catch (    URISyntaxException e) {
      throw new AssertionError("Valid URI became unparseable: " + uri);
    }
  }
  return uri;
}
