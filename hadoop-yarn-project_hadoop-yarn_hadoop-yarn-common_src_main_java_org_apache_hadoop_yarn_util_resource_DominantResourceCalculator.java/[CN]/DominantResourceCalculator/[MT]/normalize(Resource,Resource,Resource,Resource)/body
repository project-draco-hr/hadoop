{
  long normalizedMemory=Math.min(roundUp(Math.max(r.getMemorySize(),minimumResource.getMemorySize()),stepFactor.getMemorySize()),maximumResource.getMemorySize());
  long normalizedCores=Math.min(roundUp(Math.max(r.getVirtualCores(),minimumResource.getVirtualCores()),stepFactor.getVirtualCores()),maximumResource.getVirtualCores());
  return Resources.createResource(normalizedMemory,normalizedCores);
}
