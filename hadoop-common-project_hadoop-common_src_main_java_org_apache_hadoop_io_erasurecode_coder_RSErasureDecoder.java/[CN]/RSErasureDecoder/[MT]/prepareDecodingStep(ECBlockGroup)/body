{
  RawErasureDecoder rawDecoder;
  ECBlock[] inputBlocks=getInputBlocks(blockGroup);
  ECBlock[] outputBlocks=getOutputBlocks(blockGroup);
  if (outputBlocks.length == 1 && useXorWhenPossible) {
    rawDecoder=checkCreateXorRawDecoder();
  }
 else {
    rawDecoder=checkCreateRSRawDecoder();
  }
  return new ErasureDecodingStep(inputBlocks,getErasedIndexes(inputBlocks),outputBlocks,rawDecoder);
}
