{
  TaskInfo taskInfo=getTaskInfo(loggedTask);
  double[] factors=new double[]{1.0,rackLocalOverNodeLocal,rackRemoteOverNodeLocal};
  double scaleFactor=factors[locality] / factors[loggedLocality];
  State state=convertState(loggedAttempt.getResult());
  if (loggedTask.getTaskType() == Values.MAP) {
    long taskTime=0;
    if (loggedAttempt.getStartTime() == 0) {
      taskTime=makeUpMapRuntime(state,locality);
    }
 else {
      taskTime=loggedAttempt.getFinishTime() - loggedAttempt.getStartTime();
    }
    taskTime=sanitizeTaskRuntime(taskTime,loggedAttempt.getAttemptID());
    taskTime*=scaleFactor;
    return new MapTaskAttemptInfo(state,taskInfo,taskTime);
  }
 else {
    throw new IllegalArgumentException("taskType can only be MAP: " + loggedTask.getTaskType());
  }
}
