{
  byte[][] bytesArr=new byte[buffers.length][];
  ByteBuffer buffer;
  for (int i=0; i < buffers.length; i++) {
    buffer=buffers[i];
    if (buffer == null) {
      bytesArr[i]=null;
      continue;
    }
    if (buffer.hasArray()) {
      bytesArr[i]=buffer.array();
    }
 else {
      throw new IllegalArgumentException("Invalid ByteBuffer passed, " + "expecting heap buffer");
    }
  }
  return bytesArr;
}
