{
  NameNode nameNode=nameNodes[nnIndex].nameNode;
  if (nameNode == null) {
    return false;
  }
  long[] sizes;
  try {
    sizes=nameNode.getRpcServer().getStats();
  }
 catch (  IOException ioe) {
    throw new AssertionError("Unexpected IOE thrown: " + StringUtils.stringifyException(ioe));
  }
  boolean isUp=false;
synchronized (this) {
    isUp=((!nameNode.isInSafeMode() || !waitSafeMode) && sizes[0] != 0);
  }
  return isUp;
}
