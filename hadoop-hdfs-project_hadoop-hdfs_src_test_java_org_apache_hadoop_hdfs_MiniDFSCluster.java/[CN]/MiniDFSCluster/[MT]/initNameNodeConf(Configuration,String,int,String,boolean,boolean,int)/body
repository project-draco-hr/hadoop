{
  if (nameserviceId != null) {
    conf.set(DFS_NAMESERVICE_ID,nameserviceId);
  }
  if (nnId != null) {
    conf.set(DFS_HA_NAMENODE_ID_KEY,nnId);
  }
  if (manageNameDfsDirs) {
    if (enableManagedDfsDirsRedundancy) {
      File[] files=getNameNodeDirectory(nsIndex,nnIndex);
      conf.set(DFS_NAMENODE_NAME_DIR_KEY,fileAsURI(files[0]) + "," + fileAsURI(files[1]));
      files=getCheckpointDirectory(nsIndex,nnIndex);
      conf.set(DFS_NAMENODE_CHECKPOINT_DIR_KEY,fileAsURI(files[0]) + "," + fileAsURI(files[1]));
    }
 else {
      File[] files=getNameNodeDirectory(nsIndex,nnIndex);
      conf.set(DFS_NAMENODE_NAME_DIR_KEY,fileAsURI(files[0]).toString());
      files=getCheckpointDirectory(nsIndex,nnIndex);
      conf.set(DFS_NAMENODE_CHECKPOINT_DIR_KEY,fileAsURI(files[0]).toString());
    }
  }
}
