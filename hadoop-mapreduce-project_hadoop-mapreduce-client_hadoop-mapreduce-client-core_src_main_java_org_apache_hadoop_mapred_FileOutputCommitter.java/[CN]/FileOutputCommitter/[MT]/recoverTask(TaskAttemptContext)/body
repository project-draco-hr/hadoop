{
  Path outputPath=FileOutputFormat.getOutputPath(context.getJobConf());
  context.progress();
  Path jobOutputPath=new Path(outputPath,getJobTempDirName(context));
  int previousAttempt=context.getConfiguration().getInt(MRConstants.APPLICATION_ATTEMPT_ID,0) - 1;
  if (previousAttempt < 0) {
    LOG.warn("Cannot recover task output for first attempt...");
    return;
  }
  FileSystem outputFileSystem=outputPath.getFileSystem(context.getJobConf());
  Path pathToRecover=new Path(outputPath,getJobAttemptBaseDirName(previousAttempt));
  if (outputFileSystem.exists(pathToRecover)) {
    LOG.debug("Trying to recover task from " + pathToRecover + " into "+ jobOutputPath);
    moveJobOutputs(outputFileSystem,pathToRecover,jobOutputPath,pathToRecover);
    LOG.info("Saved output of job to " + jobOutputPath);
  }
}
