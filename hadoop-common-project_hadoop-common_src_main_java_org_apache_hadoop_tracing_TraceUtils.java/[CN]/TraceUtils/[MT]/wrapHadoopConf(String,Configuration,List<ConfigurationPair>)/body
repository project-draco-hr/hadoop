{
  final HashMap<String,String> extraMap=new HashMap<String,String>();
  for (  ConfigurationPair pair : extraConfig) {
    extraMap.put(pair.getKey(),pair.getValue());
  }
  return new HTraceConfiguration(){
    @Override public String get(    String key){
      String ret=getInternal(prefix + key);
      if (ret != null) {
        return ret;
      }
      return getInternal(DEFAULT_HADOOP_TRACE_PREFIX + key);
    }
    @Override public String get(    String key,    String defaultValue){
      String ret=get(key);
      if (ret != null) {
        return ret;
      }
      return defaultValue;
    }
    private String getInternal(    String key){
      if (extraMap.containsKey(key)) {
        return extraMap.get(key);
      }
      return conf.get(key);
    }
  }
;
}
