{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Dispatching the event " + event.getClass().getName() + "."+ event.toString());
  }
  Class<? extends Enum> type=event.getType().getDeclaringClass();
  try {
    eventDispatchers.get(type).handle(event);
  }
 catch (  Throwable t) {
    LOG.fatal("Error in dispatcher thread",t);
    if (exitOnDispatchException) {
      LOG.info("Exiting, bbye..");
      System.exit(-1);
    }
  }
}
