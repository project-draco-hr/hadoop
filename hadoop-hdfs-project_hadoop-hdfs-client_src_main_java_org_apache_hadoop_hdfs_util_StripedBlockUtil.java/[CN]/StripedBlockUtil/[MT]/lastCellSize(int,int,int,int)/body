{
  if (i < numDataBlocks) {
    size-=i * cellSize;
    if (size < 0) {
      size=0;
    }
  }
  return size > cellSize ? cellSize : size;
}
