{
  Client webServiceClient=Client.create(new DefaultClientConfig());
  InetSocketAddress rmWebappAddr=NetUtils.getConnectAddress(rm.getWebapp().getListenerAddress());
  String webappURL="http://" + rmWebappAddr.getHostName() + ":"+ rmWebappAddr.getPort();
  WebResource webResource=webServiceClient.resource(webappURL);
  String path=app.getApplicationId().toString();
  ClientResponse response=webResource.path("ws").path("v1").path("cluster").path("apps").path(path).accept(MediaType.APPLICATION_JSON).get(ClientResponse.class);
  assertEquals(MediaType.APPLICATION_JSON_TYPE,response.getType());
  JSONObject json=response.getEntity(JSONObject.class);
  assertEquals("incorrect number of elements",1,json.length());
  JSONObject appJson=json.getJSONObject("app");
  assertEquals("ACCEPTED",appJson.getString("state"));
}
