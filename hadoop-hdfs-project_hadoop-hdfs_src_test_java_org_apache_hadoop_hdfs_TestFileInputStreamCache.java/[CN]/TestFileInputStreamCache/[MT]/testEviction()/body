{
  FileInputStreamCache cache=new FileInputStreamCache(1,10000000);
  DatanodeID dnId=new DatanodeID("127.0.0.1","localhost","xyzzy",8080,9090,7070);
  ExtendedBlock block=new ExtendedBlock("poolid",123);
  TestFileDescriptorPair pair=new TestFileDescriptorPair();
  cache.put(dnId,block,pair.getFileInputStreams());
  DatanodeID dnId2=new DatanodeID("127.0.0.1","localhost","xyzzy",8081,9091,7071);
  TestFileDescriptorPair pair2=new TestFileDescriptorPair();
  cache.put(dnId2,block,pair2.getFileInputStreams());
  FileInputStream fis[]=cache.get(dnId,block);
  Assert.assertNull(fis);
  FileInputStream fis2[]=cache.get(dnId2,block);
  Assert.assertTrue(pair2.compareWith(fis2));
  pair.close();
  cache.close();
}
