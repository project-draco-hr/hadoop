{
  ApplicationId appIdImpl=ApplicationId.newInstance(0,1);
  ApplicationAttemptId appAttemptId=ApplicationAttemptId.newInstance(appIdImpl,1);
  FSLeafQueue queue=mock(FSLeafQueue.class);
  doReturn("test").when(queue).getQueueName();
  AppSchedulingInfo appSchedulingInfo=new AppSchedulingInfo(appAttemptId,"test",queue,null,0,new ResourceUsage());
  appSchedulingInfo.updatePlacesBlacklistedByApp(new ArrayList<String>(),new ArrayList<String>());
  Assert.assertFalse(appSchedulingInfo.getAndResetBlacklistChanged());
  ArrayList<String> blacklistAdditions=new ArrayList<String>();
  blacklistAdditions.add("node1");
  blacklistAdditions.add("node2");
  appSchedulingInfo.updatePlacesBlacklistedByApp(blacklistAdditions,new ArrayList<String>());
  Assert.assertTrue(appSchedulingInfo.getAndResetBlacklistChanged());
  blacklistAdditions.clear();
  blacklistAdditions.add("node1");
  appSchedulingInfo.updatePlacesBlacklistedByApp(blacklistAdditions,new ArrayList<String>());
  Assert.assertFalse(appSchedulingInfo.getAndResetBlacklistChanged());
  ArrayList<String> blacklistRemovals=new ArrayList<String>();
  blacklistRemovals.add("node1");
  appSchedulingInfo.updatePlacesBlacklistedByApp(new ArrayList<String>(),blacklistRemovals);
  appSchedulingInfo.updatePlacesBlacklistedByApp(new ArrayList<String>(),blacklistRemovals);
  Assert.assertTrue(appSchedulingInfo.getAndResetBlacklistChanged());
  appSchedulingInfo.updatePlacesBlacklistedByApp(new ArrayList<String>(),blacklistRemovals);
  Assert.assertFalse(appSchedulingInfo.getAndResetBlacklistChanged());
}
