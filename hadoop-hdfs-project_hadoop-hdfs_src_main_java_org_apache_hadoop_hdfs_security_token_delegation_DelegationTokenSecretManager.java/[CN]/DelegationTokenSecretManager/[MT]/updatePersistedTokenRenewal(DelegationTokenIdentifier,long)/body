{
  if (running) {
    throw new IOException("Can't update persisted delegation token renewal to a running SecretManager.");
  }
  DelegationTokenInformation info=null;
  info=currentTokens.get(identifier);
  if (info != null) {
    int keyId=identifier.getMasterKeyId();
    byte[] password=createPassword(identifier.getBytes(),allKeys.get(keyId).getKey());
    currentTokens.put(identifier,new DelegationTokenInformation(expiryTime,password,getTrackingIdIfEnabled(identifier)));
  }
}
