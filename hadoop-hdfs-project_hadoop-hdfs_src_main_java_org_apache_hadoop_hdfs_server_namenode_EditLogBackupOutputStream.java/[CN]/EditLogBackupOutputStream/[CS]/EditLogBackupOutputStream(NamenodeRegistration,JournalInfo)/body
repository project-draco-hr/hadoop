{
  super();
  this.bnRegistration=bnReg;
  this.journalInfo=journalInfo;
  InetSocketAddress bnAddress=NetUtils.createSocketAddr(bnRegistration.getAddress());
  try {
    this.backupNode=NameNodeProxies.createNonHAProxy(new HdfsConfiguration(),bnAddress,JournalProtocol.class,UserGroupInformation.getCurrentUser(),true).getProxy();
  }
 catch (  IOException e) {
    Storage.LOG.error("Error connecting to: " + bnAddress,e);
    throw e;
  }
  this.doubleBuf=new EditsDoubleBuffer(DEFAULT_BUFFER_SIZE);
  this.out=new DataOutputBuffer(DEFAULT_BUFFER_SIZE);
}
