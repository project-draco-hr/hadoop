{
synchronized (pendingReplications) {
    Iterator<Map.Entry<Block,PendingBlockInfo>> iter=pendingReplications.entrySet().iterator();
    long now=now();
    if (LOG.isDebugEnabled()) {
      LOG.debug("PendingReplicationMonitor checking Q");
    }
    while (iter.hasNext()) {
      Map.Entry<Block,PendingBlockInfo> entry=iter.next();
      PendingBlockInfo pendingBlock=entry.getValue();
      if (now > pendingBlock.getTimeStamp() + timeout) {
        Block block=entry.getKey();
synchronized (timedOutItems) {
          timedOutItems.add(block);
        }
        LOG.warn("PendingReplicationMonitor timed out " + block);
        iter.remove();
      }
    }
  }
}
