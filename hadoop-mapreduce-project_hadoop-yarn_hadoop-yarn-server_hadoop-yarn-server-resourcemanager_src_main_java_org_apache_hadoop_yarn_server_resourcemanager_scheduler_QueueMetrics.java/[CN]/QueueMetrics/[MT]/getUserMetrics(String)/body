{
  if (users == null) {
    return null;
  }
  QueueMetrics metrics=users.get(userName);
  if (metrics == null) {
    metrics=new QueueMetrics(metricsSystem,queueName,null,false);
    users.put(userName,metrics);
    metricsSystem.register(sourceName(queueName).append(",user=").append(userName).toString(),"Metrics for user '" + userName + "' in queue '"+ queueName+ "'",metrics.tag(QUEUE_INFO,queueName).tag(USER_INFO,userName));
  }
  return metrics;
}
