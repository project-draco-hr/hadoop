{
  Path cache=new Path("file:///cache");
  Map<Path,List<String>> localPaths=new HashMap<Path,List<String>>();
  int counter=0;
  for (  Entry<String,LocalResource> rsrc : localResources.entrySet()) {
    if (counter++ < skipRsrcCount) {
      continue;
    }
    if (checkLocalizingState) {
      assertEquals(ContainerState.LOCALIZING,c.getContainerState());
    }
    LocalResourceRequest req=new LocalResourceRequest(rsrc.getValue());
    Path p=new Path(cache,rsrc.getKey());
    localPaths.put(p,Arrays.asList(rsrc.getKey()));
    c.handle(new ContainerResourceLocalizedEvent(c.getContainerId(),req,p));
  }
  drainDispatcherEvents();
  return localPaths;
}
