{
  int counter=0;
  for (  Entry<String,LocalResource> rsrc : localResources.entrySet()) {
    if (counter >= failRsrcCount) {
      break;
    }
    ++counter;
    LocalResourceRequest req=new LocalResourceRequest(rsrc.getValue());
    Exception e=new Exception(FAKE_LOCALIZATION_ERROR);
    c.handle(new ContainerResourceFailedEvent(c.getContainerId(),req,e.getMessage()));
  }
  drainDispatcherEvents();
}
