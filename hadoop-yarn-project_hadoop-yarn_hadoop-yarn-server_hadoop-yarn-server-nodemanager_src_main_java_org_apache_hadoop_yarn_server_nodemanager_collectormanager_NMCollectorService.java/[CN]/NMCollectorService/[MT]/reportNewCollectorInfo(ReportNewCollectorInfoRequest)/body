{
  List<AppCollectorsMap> newCollectorsList=request.getAppCollectorsList();
  if (newCollectorsList != null && !newCollectorsList.isEmpty()) {
    Map<ApplicationId,String> newCollectorsMap=new HashMap<ApplicationId,String>();
    for (    AppCollectorsMap collector : newCollectorsList) {
      ApplicationId appId=collector.getApplicationId();
      String collectorAddr=collector.getCollectorAddr();
      newCollectorsMap.put(appId,collectorAddr);
      NMTimelinePublisher nmTimelinePublisher=context.getNMTimelinePublisher();
      if (nmTimelinePublisher != null) {
        nmTimelinePublisher.setTimelineServiceAddress(appId,collectorAddr);
      }
    }
    ((NodeManager.NMContext)context).addRegisteredCollectors(newCollectorsMap);
  }
  return ReportNewCollectorInfoResponse.newInstance();
}
