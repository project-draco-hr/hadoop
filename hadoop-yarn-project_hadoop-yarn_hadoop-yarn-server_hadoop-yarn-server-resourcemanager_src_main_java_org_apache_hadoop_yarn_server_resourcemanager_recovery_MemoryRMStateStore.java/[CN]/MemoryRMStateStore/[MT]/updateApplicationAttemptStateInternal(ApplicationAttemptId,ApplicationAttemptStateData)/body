{
  ApplicationStateData appState=state.getApplicationState().get(appAttemptId.getApplicationId());
  if (appState == null) {
    throw new YarnRuntimeException("Application doesn't exist");
  }
  LOG.info("Updating final state " + attemptState.getState() + " for attempt: "+ attemptState.getAttemptId());
  appState.attempts.put(attemptState.getAttemptId(),attemptState);
}
