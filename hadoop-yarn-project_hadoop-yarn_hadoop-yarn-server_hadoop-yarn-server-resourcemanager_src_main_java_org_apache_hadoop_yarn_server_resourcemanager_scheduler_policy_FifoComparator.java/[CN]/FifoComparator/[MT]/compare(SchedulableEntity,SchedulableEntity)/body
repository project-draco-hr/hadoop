{
  if (r1.getPriority() != null && !r1.getPriority().equals(r2.getPriority())) {
    return r1.getPriority().compareTo(r2.getPriority());
  }
  int res=r1.compareInputOrderTo(r2);
  return res;
}
