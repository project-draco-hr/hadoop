{
  ApplicationId appId=ApplicationId.newInstance(System.currentTimeMillis(),1);
  ApplicationAttemptId attemptId1=ApplicationAttemptId.newInstance(appId,1);
  try {
    TimelineDomain domain=generateDomain();
    client.putDomain(null,domain);
    verify(spyTimelineWriter,times(1)).putDomain(domain);
    reset(spyTimelineWriter);
    client.putDomain(attemptId1,domain);
    verify(spyTimelineWriter,times(0)).putDomain(domain);
    Assert.assertTrue(localFS.util().exists(new Path(getAppAttemptDir(attemptId1),"domainlog-" + attemptId1.toString())));
    reset(spyTimelineWriter);
  }
 catch (  Exception e) {
    Assert.fail("Exception is not expected." + e);
  }
}
