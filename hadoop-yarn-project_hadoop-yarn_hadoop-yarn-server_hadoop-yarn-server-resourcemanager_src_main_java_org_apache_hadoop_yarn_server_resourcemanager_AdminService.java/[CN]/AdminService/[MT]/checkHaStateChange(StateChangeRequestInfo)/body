{
switch (req.getSource()) {
case REQUEST_BY_USER:
    if (autoFailoverEnabled) {
      throw new AccessControlException("Manual failover for this ResourceManager is disallowed, " + "because automatic failover is enabled.");
    }
  break;
case REQUEST_BY_USER_FORCED:
if (autoFailoverEnabled) {
  LOG.warn("Allowing manual failover from " + org.apache.hadoop.ipc.Server.getRemoteAddress() + " even though automatic failover is enabled, because the user "+ "specified the force flag");
}
break;
case REQUEST_BY_ZKFC:
if (!autoFailoverEnabled) {
throw new AccessControlException("Request from ZK failover controller at " + org.apache.hadoop.ipc.Server.getRemoteAddress() + " denied "+ "since automatic failover is not enabled");
}
break;
}
}
