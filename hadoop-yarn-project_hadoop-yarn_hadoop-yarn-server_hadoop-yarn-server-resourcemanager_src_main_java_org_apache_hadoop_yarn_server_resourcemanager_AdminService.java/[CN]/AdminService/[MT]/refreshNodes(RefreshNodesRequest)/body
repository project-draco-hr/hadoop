{
  String argName="refreshNodes";
  UserGroupInformation user=checkAcls("refreshNodes");
  if (!isRMActive()) {
    RMAuditLogger.logFailure(user.getShortUserName(),argName,adminAcl.toString(),"AdminService","ResourceManager is not active. Can not refresh nodes.");
    throwStandbyException();
  }
  try {
    Configuration conf=getConfiguration(new Configuration(false),YarnConfiguration.YARN_SITE_CONFIGURATION_FILE);
    rmContext.getNodesListManager().refreshNodes(conf);
    RMAuditLogger.logSuccess(user.getShortUserName(),argName,"AdminService");
    return recordFactory.newRecordInstance(RefreshNodesResponse.class);
  }
 catch (  IOException ioe) {
    LOG.info("Exception refreshing nodes ",ioe);
    RMAuditLogger.logFailure(user.getShortUserName(),argName,adminAcl.toString(),"AdminService","Exception refreshing nodes");
    throw RPCUtil.getRemoteException(ioe);
  }
}
