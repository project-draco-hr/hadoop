{
  final String operation="refreshClusterMaxPriority";
  final String msg="refresh cluster max priority";
  UserGroupInformation user=checkAcls(operation);
  checkRMStatus(user.getShortUserName(),operation,msg);
  try {
    Configuration conf=getConfiguration(new Configuration(false),YarnConfiguration.YARN_SITE_CONFIGURATION_FILE);
    rmContext.getScheduler().setClusterMaxPriority(conf);
    RMAuditLogger.logSuccess(user.getShortUserName(),operation,"AdminService");
    return recordFactory.newRecordInstance(RefreshClusterMaxPriorityResponse.class);
  }
 catch (  YarnException e) {
    throw logAndWrapException(e,user.getShortUserName(),operation,msg);
  }
}
