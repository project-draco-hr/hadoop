{
  try {
    refreshAdminAcls(false);
  }
 catch (  YarnException ex) {
    throw new ServiceFailedException("Can not execute refreshAdminAcls",ex);
  }
  UserGroupInformation user=checkAccess("transitionToStandby");
  checkHaStateChange(reqInfo);
  try {
    rm.transitionToStandby(true);
    RMAuditLogger.logSuccess(user.getShortUserName(),"transitionToStandby","RMHAProtocolService");
  }
 catch (  Exception e) {
    RMAuditLogger.logFailure(user.getShortUserName(),"transitionToStandby",adminAcl.toString(),"RMHAProtocolService","Exception transitioning to standby");
    throw new ServiceFailedException("Error when transitioning to Standby mode",e);
  }
}
