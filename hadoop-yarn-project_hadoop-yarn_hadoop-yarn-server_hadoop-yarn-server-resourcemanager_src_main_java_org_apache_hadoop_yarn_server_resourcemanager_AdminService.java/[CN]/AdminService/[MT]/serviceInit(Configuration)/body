{
  if (rmContext.isHAEnabled()) {
    autoFailoverEnabled=HAUtil.isAutomaticFailoverEnabled(conf);
    if (autoFailoverEnabled) {
      if (HAUtil.isAutomaticFailoverEmbedded(conf)) {
        addIfService(createEmbeddedElectorService());
      }
    }
  }
  this.configurationProvider=ConfigurationProviderFactory.getConfigurationProvider(conf);
  configurationProvider.init(conf);
  masterServiceAddress=conf.getSocketAddr(YarnConfiguration.RM_ADMIN_ADDRESS,YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,YarnConfiguration.DEFAULT_RM_ADMIN_PORT);
  adminAcl=new AccessControlList(conf.get(YarnConfiguration.YARN_ADMIN_ACL,YarnConfiguration.DEFAULT_YARN_ADMIN_ACL));
  rmId=conf.get(YarnConfiguration.RM_HA_ID);
  super.serviceInit(conf);
}
