{
  if (rmContext.isHAEnabled()) {
    autoFailoverEnabled=HAUtil.isAutomaticFailoverEnabled(conf);
    if (autoFailoverEnabled) {
      if (HAUtil.isAutomaticFailoverEmbedded(conf)) {
        embeddedElector=createEmbeddedElectorService();
        addIfService(embeddedElector);
      }
    }
  }
  masterServiceBindAddress=conf.getSocketAddr(YarnConfiguration.RM_BIND_HOST,YarnConfiguration.RM_ADMIN_ADDRESS,YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,YarnConfiguration.DEFAULT_RM_ADMIN_PORT);
  authorizer=YarnAuthorizationProvider.getInstance(conf);
  authorizer.setAdmins(new AccessControlList(conf.get(YarnConfiguration.YARN_ADMIN_ACL,YarnConfiguration.DEFAULT_YARN_ADMIN_ACL)),UserGroupInformation.getCurrentUser());
  rmId=conf.get(YarnConfiguration.RM_HA_ID);
  super.serviceInit(conf);
}
