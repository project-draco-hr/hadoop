{
  Configuration conf=new Configuration();
  if (!conf.getBoolean(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHORIZATION,false)) {
    throw RPCUtil.getRemoteException(new IOException("Service Authorization (" + CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHORIZATION + ") not enabled."));
  }
  PolicyProvider policyProvider=new RMPolicyProvider();
  refreshServiceAcls(conf,policyProvider);
  if (isRMActive()) {
    rmContext.getClientRMService().refreshServiceAcls(conf,policyProvider);
    rmContext.getApplicationMasterService().refreshServiceAcls(conf,policyProvider);
    rmContext.getResourceTrackerService().refreshServiceAcls(conf,policyProvider);
  }
 else {
    LOG.warn("ResourceManager is not active. Not refreshing ACLs for " + "Clients, ApplicationMasters and NodeManagers");
  }
  return recordFactory.newRecordInstance(RefreshServiceAclsResponse.class);
}
