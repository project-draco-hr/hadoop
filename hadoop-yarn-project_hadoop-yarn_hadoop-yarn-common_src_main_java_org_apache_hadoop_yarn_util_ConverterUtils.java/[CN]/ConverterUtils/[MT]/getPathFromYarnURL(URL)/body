{
  String scheme=url.getScheme() == null ? "" : url.getScheme();
  String authority="";
  if (url.getHost() != null) {
    authority=url.getHost();
    if (url.getUserInfo() != null) {
      authority=url.getUserInfo() + "@" + authority;
    }
    if (url.getPort() > 0) {
      authority+=":" + url.getPort();
    }
  }
  return new Path((new URI(scheme,authority,url.getFile(),null,null)).normalize());
}
