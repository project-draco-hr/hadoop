{
  String classpath=getTestRuntimeClasspath();
  String javaHome=System.getenv("JAVA_HOME");
  if (javaHome == null) {
    LOG.fatal("JAVA_HOME not defined. Test not running.");
    return;
  }
  String[] args={"--classpath",classpath,"--queue","default","--cmd",javaHome + "/bin/java -Xmx512m " + TestUnmanagedAMLauncher.class.getCanonicalName()+ " failure"};
  LOG.info("Initializing Launcher");
  UnmanagedAMLauncher launcher=new UnmanagedAMLauncher(new Configuration(yarnCluster.getConfig()));
  boolean initSuccess=launcher.init(args);
  Assert.assertTrue(initSuccess);
  LOG.info("Running Launcher");
  try {
    launcher.run();
    fail("Expected an exception to occur as launch should have failed");
  }
 catch (  RuntimeException e) {
  }
}
