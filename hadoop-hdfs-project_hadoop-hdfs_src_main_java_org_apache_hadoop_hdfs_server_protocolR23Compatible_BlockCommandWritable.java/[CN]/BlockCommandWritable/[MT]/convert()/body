{
  DatanodeInfo[][] dinfo=new DatanodeInfo[targets.length][];
  for (int i=0; i < targets.length; i++) {
    dinfo[i]=DatanodeInfoWritable.convertDatanodeInfo(targets[i]);
  }
  return new BlockCommand(getAction(),poolId,BlockWritable.convert(blocks),dinfo);
}
