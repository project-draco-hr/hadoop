{
  setMapCapacity(mapClusterCapacity);
  setReduceCapacity(reduceClusterCapacity);
  if (getMapCapacity() != prevMapCapacity) {
    getMapTSC().setCapacity((int)(getCapacityPercent() * getMapCapacity() / 100));
    if (getMaxCapacityPercent() > 0) {
      getMapTSC().setMaxCapacity((int)(getMaxCapacityPercent() * getMapCapacity() / 100));
    }
  }
  if (getReduceCapacity() != prevReduceCapacity) {
    getReduceTSC().setCapacity((int)(getCapacityPercent() * getReduceCapacity() / 100));
    if (getMaxCapacityPercent() > 0) {
      getReduceTSC().setMaxCapacity((int)(getMaxCapacityPercent() * getReduceCapacity() / 100));
    }
  }
  getMapTSC().resetTaskVars();
  getReduceTSC().resetTaskVars();
  prevMapCapacity=getMapCapacity();
  prevReduceCapacity=getReduceCapacity();
}
