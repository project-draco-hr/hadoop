{
  char[] pass=null;
  if (System.getenv().containsKey(KEYSTORE_PASSWORD_ENV_VAR)) {
    pass=System.getenv(KEYSTORE_PASSWORD_ENV_VAR).toCharArray();
  }
  if (pass == null) {
    String pwFile=getConf().get(KEYSTORE_PASSWORD_FILE_KEY);
    if (pwFile != null) {
      ClassLoader cl=Thread.currentThread().getContextClassLoader();
      URL pwdFile=cl.getResource(pwFile);
      if (pwdFile == null) {
        throw new IOException("Password file does not exists");
      }
      try (InputStream is=pwdFile.openStream()){
        pass=IOUtils.toString(is).trim().toCharArray();
      }
     }
  }
  return pass;
}
