{
  FileSystem.mkdirs(fs,path,FsPermission.createImmutable((short)0750));
  fs.setXAttr(path,name1,value1,EnumSet.of(XAttrSetFlag.CREATE));
  fs.setXAttr(path,name2,value2,EnumSet.of(XAttrSetFlag.CREATE));
  byte[] value=fs.getXAttr(path,name3);
  Assert.assertEquals(value,null);
  List<String> names=Lists.newArrayList();
  names.add(name1);
  names.add(name2);
  names.add(name3);
  Map<String,byte[]> xattrs=fs.getXAttrs(path,names);
  Assert.assertEquals(xattrs.size(),2);
  Assert.assertArrayEquals(value1,xattrs.get(name1));
  Assert.assertArrayEquals(value2,xattrs.get(name2));
  fs.removeXAttr(path,name1);
  fs.removeXAttr(path,name2);
}
