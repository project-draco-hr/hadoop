{
  Path baseDir=new Path(testBaseDir1());
  Path file=new Path(testBaseDir1(),"file");
  Path link=new Path(testBaseDir1(),"link");
  Path linkToDir=new Path(testBaseDir2(),"linkToDir");
  Path linkViaLink=new Path(linkToDir,"link");
  Path linkNewViaLink=new Path(linkToDir,"linkNew");
  createAndWriteFile(file);
  wrapper.createSymlink(file,link,false);
  wrapper.createSymlink(baseDir,linkToDir,false);
  wrapper.rename(linkViaLink,linkNewViaLink);
  assertFalse(wrapper.exists(linkViaLink));
  assertTrue(wrapper.exists(file));
  assertTrue(wrapper.getFileLinkStatus(linkNewViaLink).isSymlink());
  readFile(linkNewViaLink);
}
