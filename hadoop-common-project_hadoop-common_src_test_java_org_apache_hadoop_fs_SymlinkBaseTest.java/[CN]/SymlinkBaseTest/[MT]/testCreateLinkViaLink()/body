{
  assumeTrue(!emulatingSymlinksOnWindows());
  Path dir1=new Path(testBaseDir1());
  Path file=new Path(testBaseDir1(),"file");
  Path linkToDir=new Path(testBaseDir2(),"linkToDir");
  Path fileViaLink=new Path(linkToDir,"file");
  Path linkToFile=new Path(linkToDir,"linkToFile");
  createAndWriteFile(file);
  wrapper.createSymlink(dir1,linkToDir,false);
  wrapper.createSymlink(fileViaLink,linkToFile,false);
  assertTrue(wrapper.isFile(linkToFile));
  assertTrue(wrapper.getFileLinkStatus(linkToFile).isSymlink());
  readFile(linkToFile);
  assertEquals(fileSize,wrapper.getFileStatus(linkToFile).getLen());
  assertEquals(fileViaLink,wrapper.getLinkTarget(linkToFile));
}
