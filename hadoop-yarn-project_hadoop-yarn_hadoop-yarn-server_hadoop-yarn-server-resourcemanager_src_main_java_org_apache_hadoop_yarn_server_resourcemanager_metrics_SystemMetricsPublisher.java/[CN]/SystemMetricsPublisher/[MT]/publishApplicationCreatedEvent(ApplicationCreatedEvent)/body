{
  TimelineEntity entity=createApplicationEntity(event.getApplicationId());
  Map<String,Object> entityInfo=new HashMap<String,Object>();
  entityInfo.put(ApplicationMetricsConstants.NAME_ENTITY_INFO,event.getApplicationName());
  entityInfo.put(ApplicationMetricsConstants.TYPE_ENTITY_INFO,event.getApplicationType());
  entityInfo.put(ApplicationMetricsConstants.USER_ENTITY_INFO,event.getUser());
  entityInfo.put(ApplicationMetricsConstants.QUEUE_ENTITY_INFO,event.getQueue());
  entityInfo.put(ApplicationMetricsConstants.SUBMITTED_TIME_ENTITY_INFO,event.getSubmittedTime());
  entityInfo.put(ApplicationMetricsConstants.APP_TAGS_INFO,event.getAppTags());
  entityInfo.put(ApplicationMetricsConstants.UNMANAGED_APPLICATION_ENTITY_INFO,event.isUnmanagedApp());
  entityInfo.put(ApplicationMetricsConstants.APPLICATION_PRIORITY_INFO,event.getApplicationPriority().getPriority());
  entityInfo.put(ApplicationMetricsConstants.APP_NODE_LABEL_EXPRESSION,event.getAppNodeLabelsExpression());
  entityInfo.put(ApplicationMetricsConstants.AM_NODE_LABEL_EXPRESSION,event.getAmNodeLabelsExpression());
  if (event.getCallerContext() != null) {
    if (event.getCallerContext().getContext() != null) {
      entityInfo.put(ApplicationMetricsConstants.YARN_APP_CALLER_CONTEXT,event.getCallerContext().getContext());
    }
    if (event.getCallerContext().getSignature() != null) {
      entityInfo.put(ApplicationMetricsConstants.YARN_APP_CALLER_SIGNATURE,event.getCallerContext().getSignature());
    }
  }
  entity.setOtherInfo(entityInfo);
  TimelineEvent tEvent=new TimelineEvent();
  tEvent.setEventType(ApplicationMetricsConstants.CREATED_EVENT_TYPE);
  tEvent.setTimestamp(event.getTimestamp());
  entity.addEvent(tEvent);
  putEntity(entity);
}
