{
  String dummyFactName="DummyNoneExistingFactory";
  conf.set(CommonConfigurationKeys.IO_ERASURECODE_CODEC_RS_LEGACY_RAWCODER_KEY,dummyFactName);
  RawErasureEncoder encoder=CodecUtil.createRSRawEncoder(conf,numDataUnit,numParityUnit,ErasureCodeConstants.RS_DEFAULT_CODEC_NAME);
  Assert.assertTrue(encoder instanceof RSRawEncoder);
  try {
    CodecUtil.createRSRawEncoder(conf,numDataUnit,numParityUnit,ErasureCodeConstants.RS_LEGACY_CODEC_NAME);
    Assert.fail();
  }
 catch (  Exception e) {
    GenericTestUtils.assertExceptionContains("Failed to create raw coder",e);
  }
}
