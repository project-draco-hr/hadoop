{
  NfsFileType fileType=fs.isDir() ? NfsFileType.NFSDIR : NfsFileType.NFSREG;
  fileType=fs.isSymlink() ? NfsFileType.NFSLNK : fileType;
  int nlink=(fileType == NfsFileType.NFSDIR) ? fs.getChildrenNum() + 2 : 1;
  long size=(fileType == NfsFileType.NFSDIR) ? getDirSize(fs.getChildrenNum()) : fs.getLen();
  return new Nfs3FileAttributes(fileType,nlink,fs.getPermission().toShort(),iug.getUidAllowingUnknown(fs.getOwner()),iug.getGidAllowingUnknown(fs.getGroup()),size,0,fs.getFileId(),fs.getModificationTime(),fs.getAccessTime(),new Nfs3FileAttributes.Specdata3());
}
