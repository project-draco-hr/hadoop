{
  AppIdKeyConverter appIdKeyConverter=new AppIdKeyConverter();
  long currentTs=System.currentTimeMillis();
  ApplicationId appId1=ApplicationId.newInstance(currentTs,1);
  ApplicationId appId2=ApplicationId.newInstance(currentTs,2);
  ApplicationId appId3=ApplicationId.newInstance(currentTs + 300,1);
  String appIdStr1=appId1.toString();
  String appIdStr2=appId2.toString();
  String appIdStr3=appId3.toString();
  byte[] appIdBytes1=appIdKeyConverter.encode(appIdStr1);
  byte[] appIdBytes2=appIdKeyConverter.encode(appIdStr2);
  byte[] appIdBytes3=appIdKeyConverter.encode(appIdStr3);
  assertTrue("Ordering of app ids' is incorrect",Bytes.compareTo(appIdBytes1,appIdBytes2) > 0 && Bytes.compareTo(appIdBytes1,appIdBytes3) > 0 && Bytes.compareTo(appIdBytes2,appIdBytes3) > 0);
  String decodedAppId1=appIdKeyConverter.decode(appIdBytes1);
  String decodedAppId2=appIdKeyConverter.decode(appIdBytes2);
  String decodedAppId3=appIdKeyConverter.decode(appIdBytes3);
  assertTrue("Decoded app id is not same as the app id encoded",appIdStr1.equals(decodedAppId1));
  assertTrue("Decoded app id is not same as the app id encoded",appIdStr2.equals(decodedAppId2));
  assertTrue("Decoded app id is not same as the app id encoded",appIdStr3.equals(decodedAppId3));
}
