{
  byte[] byteRowKey=ApplicationRowKeyConverter.getInstance().encode(new ApplicationRowKey(CLUSTER,USER,FLOW_NAME,FLOW_RUN_ID,APPLICATION_ID));
  ApplicationRowKey rowKey=ApplicationRowKeyConverter.getInstance().decode(byteRowKey);
  assertEquals(CLUSTER,rowKey.getClusterId());
  assertEquals(USER,rowKey.getUserId());
  assertEquals(FLOW_NAME,rowKey.getFlowName());
  assertEquals(FLOW_RUN_ID,rowKey.getFlowRunId());
  assertEquals(APPLICATION_ID,rowKey.getAppId());
  byte[] byteRowKeyPrefix=ApplicationRowKeyConverter.getInstance().encode(new ApplicationRowKey(CLUSTER,USER,FLOW_NAME,FLOW_RUN_ID,null));
  byte[][] splits=Separator.QUALIFIERS.split(byteRowKeyPrefix,new int[]{Separator.VARIABLE_SIZE,Separator.VARIABLE_SIZE,Separator.VARIABLE_SIZE,Bytes.SIZEOF_LONG,Separator.VARIABLE_SIZE});
  assertEquals(5,splits.length);
  assertEquals(0,splits[4].length);
  assertEquals(FLOW_NAME,Separator.QUALIFIERS.decode(Bytes.toString(splits[2])));
  assertEquals(FLOW_RUN_ID,(Long)TimelineStorageUtils.invertLong(Bytes.toLong(splits[3])));
  verifyRowPrefixBytes(byteRowKeyPrefix);
  byteRowKeyPrefix=ApplicationRowKeyConverter.getInstance().encode(new ApplicationRowKey(CLUSTER,USER,FLOW_NAME,null,null));
  splits=Separator.QUALIFIERS.split(byteRowKeyPrefix,new int[]{Separator.VARIABLE_SIZE,Separator.VARIABLE_SIZE,Separator.VARIABLE_SIZE,Separator.VARIABLE_SIZE});
  assertEquals(4,splits.length);
  assertEquals(0,splits[3].length);
  assertEquals(FLOW_NAME,Separator.QUALIFIERS.decode(Bytes.toString(splits[2])));
  verifyRowPrefixBytes(byteRowKeyPrefix);
}
