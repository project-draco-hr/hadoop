{
  DelegationToken token=loggedInUser.doAs(new PrivilegedExceptionAction<DelegationToken>(){
    @Override public DelegationToken run() throws YarnRemoteException, IOException {
      GetDelegationTokenRequest request=Records.newRecord(GetDelegationTokenRequest.class);
      request.setRenewer(renewerString);
      return clientRMService.getDelegationToken(request).getRMDelegationToken();
    }
  }
);
  return token;
}
