{
  if (LOG.isDebugEnabled())   LOG.debug(getName() + ": starting, having connections " + connections.size());
  try {
    while (waitForWork()) {
      receiveRpcResponse();
    }
  }
 catch (  Throwable t) {
    LOG.warn("Unexpected error reading responses on connection " + this,t);
    markClosed(new IOException("Error reading responses",t));
  }
  close();
  if (LOG.isDebugEnabled())   LOG.debug(getName() + ": stopped, remaining connections " + connections.size());
}
