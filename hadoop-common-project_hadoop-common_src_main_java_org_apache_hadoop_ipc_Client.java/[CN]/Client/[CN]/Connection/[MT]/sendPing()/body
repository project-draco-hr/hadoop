{
  long curTime=Time.now();
  if (curTime - lastActivity.get() >= pingInterval) {
    lastActivity.set(curTime);
synchronized (out) {
      out.writeInt(RpcConstants.PING_CALL_ID);
      out.flush();
    }
  }
}
