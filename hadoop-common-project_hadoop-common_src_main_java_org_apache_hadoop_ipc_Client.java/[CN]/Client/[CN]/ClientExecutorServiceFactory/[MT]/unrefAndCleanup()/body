{
  executorRefCount--;
  assert(executorRefCount >= 0);
  if (executorRefCount == 0) {
    clientExecutor.shutdown();
    try {
      if (!clientExecutor.awaitTermination(1,TimeUnit.MINUTES)) {
        clientExecutor.shutdownNow();
      }
    }
 catch (    InterruptedException e) {
      LOG.error("Interrupted while waiting for clientExecutor" + "to stop",e);
      clientExecutor.shutdownNow();
    }
    clientExecutor=null;
  }
  return clientExecutor;
}
