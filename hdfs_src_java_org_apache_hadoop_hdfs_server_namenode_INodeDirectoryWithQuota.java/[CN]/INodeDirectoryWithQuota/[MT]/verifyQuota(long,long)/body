{
  long newCount=nsCount + nsDelta;
  long newDiskspace=diskspace + dsDelta;
  if (nsDelta > 0 || dsDelta > 0) {
    if (nsQuota >= 0 && nsQuota < newCount) {
      throw new NSQuotaExceededException(nsQuota,newCount);
    }
    if (dsQuota >= 0 && dsQuota < newDiskspace) {
      throw new DSQuotaExceededException(dsQuota,newDiskspace);
    }
  }
}
