{
  this.conf=conf;
  this.randomDevPath=conf.get(HADOOP_SECURITY_SECURE_RANDOM_DEVICE_FILE_PATH_KEY,HADOOP_SECURITY_SECURE_RANDOM_DEVICE_FILE_PATH_DEFAULT);
  File randomDevFile=new File(randomDevPath);
  try {
    close();
    this.stream=new FileInputStream(randomDevFile);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  try {
    fillReservoir(0);
  }
 catch (  RuntimeException e) {
    close();
    throw e;
  }
}
