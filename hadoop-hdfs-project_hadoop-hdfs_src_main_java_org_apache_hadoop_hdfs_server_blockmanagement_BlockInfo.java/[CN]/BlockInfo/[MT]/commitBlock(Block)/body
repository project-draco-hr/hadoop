{
  if (getBlockId() != block.getBlockId()) {
    throw new IOException("Trying to commit inconsistent block: id = " + block.getBlockId() + ", expected id = "+ getBlockId());
  }
  Preconditions.checkState(!isComplete());
  uc.commit();
  this.set(getBlockId(),block.getNumBytes(),block.getGenerationStamp());
  setGenerationStampAndVerifyReplicas(block.getGenerationStamp());
}
