{
  if ((owner == null) || ("".equals(owner.toString()))) {
    return null;
  }
  if ((realUser == null) || ("".equals(realUser.toString())) || realUser.equals(owner)) {
    return UserGroupInformation.createRemoteUser(owner.toString());
  }
 else {
    UserGroupInformation realUgi=UserGroupInformation.createRemoteUser(realUser.toString());
    return UserGroupInformation.createProxyUser(owner.toString(),realUgi);
  }
}
