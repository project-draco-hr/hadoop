{
  Configuration conf=new Configuration();
  conf.setInt(DFSConfigKeys.DFS_NAMENODE_HTTP_PORT_KEY,123);
  conf.setInt(DFSConfigKeys.DFS_NAMENODE_HTTPS_PORT_KEY,456);
  URI uri=URI.create("hftp://localhost:789");
  HftpFileSystem fs=(HftpFileSystem)FileSystem.get(uri,conf);
  assertEquals(123,fs.getDefaultPort());
  assertEquals(456,fs.getDefaultSecurePort());
  assertEquals(uri,fs.getUri());
  assertEquals("127.0.0.1:456",fs.getCanonicalServiceName());
}
