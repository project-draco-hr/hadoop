{
  conf=new YarnConfiguration();
  conf.setBoolean(YarnConfiguration.RM_HA_ENABLED,true);
  conf.setBoolean(YarnConfiguration.AUTO_FAILOVER_ENABLED,true);
  conf.setBoolean(YarnConfiguration.AUTO_FAILOVER_EMBEDDED,true);
  conf.set(YarnConfiguration.RM_CLUSTER_ID,"yarn-test-cluster");
  conf.set(YarnConfiguration.RM_ZK_ADDRESS,hostPort);
  conf.setInt(YarnConfiguration.RM_ZK_TIMEOUT_MS,2000);
  conf.set(YarnConfiguration.RM_HA_IDS,RM1_NODE_ID + "," + RM2_NODE_ID);
  conf.set(YarnConfiguration.RM_HA_ID,RM1_NODE_ID);
  HATestUtil.setRpcAddressForRM(RM1_NODE_ID,RM1_PORT_BASE,conf);
  HATestUtil.setRpcAddressForRM(RM2_NODE_ID,RM2_PORT_BASE,conf);
  conf.setLong(YarnConfiguration.CLIENT_FAILOVER_SLEEPTIME_BASE_MS,100L);
  callbackCalled=new AtomicBoolean(false);
}
