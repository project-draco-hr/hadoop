{
switch (resource.getType()) {
case ARCHIVE:
    String lowerDst=dst.getName().toLowerCase();
  if (lowerDst.endsWith(".jar")) {
    RunJar.unJar(localrsrc,dst);
  }
 else   if (lowerDst.endsWith(".zip")) {
    FileUtil.unZip(localrsrc,dst);
  }
 else   if (lowerDst.endsWith(".tar.gz") || lowerDst.endsWith(".tgz") || lowerDst.endsWith(".tar")) {
    FileUtil.unTar(localrsrc,dst);
  }
 else {
    LOG.warn("Cannot unpack " + localrsrc);
    if (!localrsrc.renameTo(dst)) {
      throw new IOException("Unable to rename file: [" + localrsrc + "] to ["+ dst+ "]");
    }
  }
break;
case FILE:
default :
if (!localrsrc.renameTo(dst)) {
throw new IOException("Unable to rename file: [" + localrsrc + "] to ["+ dst+ "]");
}
break;
}
return 0;
}
