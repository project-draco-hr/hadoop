{
  Log log=LogFactory.getLog(name);
  if (log instanceof Log4JLogger) {
    Logger logger=((Log4JLogger)log).getLogger();
    logger.removeAppender(AD_HOC_DUMPER_APPENDER);
    logger.setLevel(currentLogLevel);
    for (Enumeration appenders=Logger.getRootLogger().getAllAppenders(); appenders.hasMoreElements(); ) {
      Object obj=appenders.nextElement();
      if (obj instanceof AppenderSkeleton) {
        AppenderSkeleton appender=(AppenderSkeleton)obj;
        appender.setThreshold(appenderLevels.get(appender.getName()));
      }
    }
    logFlag=false;
    LOG.info("Done dumping adhoc logs for " + name);
  }
}
