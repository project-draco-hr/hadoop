{
  jobTracker=new JobTrackerRunner(conf,clock);
  jobTrackerThread=new Thread(jobTracker);
  jobTrackerThread.start();
  if (!wait) {
    return;
  }
  while (jobTracker.isActive() && !jobTracker.isUp()) {
    try {
      Thread.sleep(1000);
    }
 catch (    InterruptedException e) {
    }
  }
  ClusterStatus status=null;
  if (jobTracker.isUp()) {
    status=jobTracker.getJobTracker().getClusterStatus(false);
    while (jobTracker.isActive() && status.getJobTrackerStatus() == JobTrackerStatus.INITIALIZING) {
      try {
        LOG.info("JobTracker still initializing. Waiting.");
        Thread.sleep(1000);
      }
 catch (      InterruptedException e) {
      }
      status=jobTracker.getJobTracker().getClusterStatus(false);
    }
  }
  if (!jobTracker.isActive()) {
    return;
  }
  this.jobTrackerPort=jobTracker.getJobTrackerPort();
  this.jobTrackerInfoPort=jobTracker.getJobTrackerInfoPort();
}
