{
  if (singleEntityRead) {
    if (flowId == null || flowRunId == null || userId == null) {
      FlowContext context=lookupFlowContext(clusterId,appId,hbaseConf,conn);
      flowId=context.flowId;
      flowRunId=context.flowRunId;
      userId=context.userId;
    }
  }
  if (fieldsToRetrieve == null) {
    fieldsToRetrieve=EnumSet.noneOf(Field.class);
  }
  if (!fieldsToRetrieve.contains(Field.CONFIGS) && confsToRetrieve != null && !confsToRetrieve.getFilterList().isEmpty()) {
    fieldsToRetrieve.add(Field.CONFIGS);
  }
  if (!fieldsToRetrieve.contains(Field.METRICS) && metricsToRetrieve != null && !metricsToRetrieve.getFilterList().isEmpty()) {
    fieldsToRetrieve.add(Field.METRICS);
  }
  if (!singleEntityRead) {
    if (limit == null || limit < 0) {
      limit=TimelineReader.DEFAULT_LIMIT;
    }
    if (createdTimeBegin == null) {
      createdTimeBegin=DEFAULT_BEGIN_TIME;
    }
    if (createdTimeEnd == null) {
      createdTimeEnd=DEFAULT_END_TIME;
    }
    if (modifiedTimeBegin == null) {
      modifiedTimeBegin=DEFAULT_BEGIN_TIME;
    }
    if (modifiedTimeEnd == null) {
      modifiedTimeEnd=DEFAULT_END_TIME;
    }
  }
}
