{
  int len=buf.remaining();
  int n=0;
  while (n < len) {
    int nread=reader.read(buf);
    if (nread <= 0) {
      break;
    }
    n+=nread;
  }
}
