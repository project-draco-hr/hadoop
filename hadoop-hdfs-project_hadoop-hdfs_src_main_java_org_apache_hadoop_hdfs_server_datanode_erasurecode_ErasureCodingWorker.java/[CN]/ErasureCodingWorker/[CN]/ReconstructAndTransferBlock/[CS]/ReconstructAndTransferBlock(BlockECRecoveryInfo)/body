{
  ECSchema schema=recoveryInfo.getECSchema();
  dataBlkNum=schema.getNumDataUnits();
  parityBlkNum=schema.getNumParityUnits();
  cellSize=schema.getChunkSize();
  blockGroup=recoveryInfo.getExtendedBlock();
  liveIndices=recoveryInfo.getLiveBlockIndices();
  sources=recoveryInfo.getSourceDnInfos();
  stripedReaders=new ArrayList<>(sources.length);
  Preconditions.checkArgument(liveIndices.length >= dataBlkNum,"No enough live striped blocks.");
  Preconditions.checkArgument(liveIndices.length == sources.length);
  targets=recoveryInfo.getTargetDnInfos();
  targetStorageTypes=recoveryInfo.getTargetStorageTypes();
  targetIndices=new short[targets.length];
  targetBuffers=new ByteBuffer[targets.length];
  targetSockets=new Socket[targets.length];
  targetOutputStreams=new DataOutputStream[targets.length];
  targetInputStreams=new DataInputStream[targets.length];
  blockOffset4Targets=new long[targets.length];
  seqNo4Targets=new long[targets.length];
  for (int i=0; i < targets.length; i++) {
    blockOffset4Targets[i]=0;
    seqNo4Targets[i]=0;
  }
  getTargetIndices();
  cachingStrategy=CachingStrategy.newDefaultStrategy();
}
