{
  NodeId nodeId=node.getRMNode().getNodeID();
  ContainerId containerId=BuilderUtils.newContainerId(application.getApplicationAttemptId(),application.getNewContainerId());
  ContainerToken containerToken=null;
  if (UserGroupInformation.isSecurityEnabled()) {
    ContainerTokenIdentifier tokenIdentifier=new ContainerTokenIdentifier(containerId,nodeId.toString(),capability);
    containerToken=BuilderUtils.newContainerToken(nodeId,ByteBuffer.wrap(containerTokenSecretManager.createPassword(tokenIdentifier)),tokenIdentifier);
  }
  Container container=BuilderUtils.newContainer(containerId,nodeId,node.getRMNode().getHttpAddress(),capability,priority,containerToken);
  return container;
}
