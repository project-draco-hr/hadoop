{
  maxActiveApplications=CSQueueUtils.computeMaxActiveApplications(clusterResource,minimumAllocation,maxAMResourcePercent,absoluteMaxCapacity);
  maxActiveAppsUsingAbsCap=CSQueueUtils.computeMaxActiveApplications(clusterResource,minimumAllocation,maxAMResourcePercent,absoluteCapacity);
  maxActiveApplicationsPerUser=CSQueueUtils.computeMaxActiveApplicationsPerUser(maxActiveAppsUsingAbsCap,userLimit,userLimitFactor);
  CSQueueUtils.updateQueueStatistics(this,parent,clusterResource,minimumAllocation);
  for (  SchedulerApp application : activeApplications) {
synchronized (application) {
      computeUserLimitAndSetHeadroom(application,clusterResource,Resources.none());
    }
  }
}
