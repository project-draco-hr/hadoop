{
  DatanodeInfoProto.Builder builder=DatanodeInfoProto.newBuilder();
  if (info.getNetworkLocation() != null) {
    builder.setLocation(info.getNetworkLocation());
  }
  if (info.getUpgradeDomain() != null) {
    builder.setUpgradeDomain(info.getUpgradeDomain());
  }
  builder.setId(convert((DatanodeID)info)).setCapacity(info.getCapacity()).setDfsUsed(info.getDfsUsed()).setRemaining(info.getRemaining()).setBlockPoolUsed(info.getBlockPoolUsed()).setCacheCapacity(info.getCacheCapacity()).setCacheUsed(info.getCacheUsed()).setLastUpdate(info.getLastUpdate()).setLastUpdateMonotonic(info.getLastUpdateMonotonic()).setXceiverCount(info.getXceiverCount()).setAdminState(convert(info.getAdminState())).build();
  return builder.build();
}
