{
  JobImpl mockJob=mock(JobImpl.class);
  Task mockTask=mock(Task.class);
  Map<TaskId,Task> tasks=new HashMap<TaskId,Task>();
  tasks.put(mockTask.getID(),mockTask);
  mockJob.tasks=tasks;
  try {
    OutputCommitter mockCommitter=mock(OutputCommitter.class);
    EventHandler mockEventHandler=mock(EventHandler.class);
    doNothing().when(mockCommitter).commitJob(any(JobContext.class));
    doNothing().when(mockEventHandler).handle(any(JobHistoryEvent.class));
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  Assert.assertNull("checkJobCompleteSuccess incorrectly returns not-null " + "for unsuccessful job",JobImpl.checkJobCompleteSuccess(mockJob));
}
