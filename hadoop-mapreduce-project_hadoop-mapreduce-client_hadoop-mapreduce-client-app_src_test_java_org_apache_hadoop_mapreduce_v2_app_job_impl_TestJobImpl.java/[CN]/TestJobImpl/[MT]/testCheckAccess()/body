{
  String user1=System.getProperty("user.name");
  String user2=user1 + "1234";
  UserGroupInformation ugi1=UserGroupInformation.createRemoteUser(user1);
  UserGroupInformation ugi2=UserGroupInformation.createRemoteUser(user2);
  JobID jobID=JobID.forName("job_1234567890000_0001");
  JobId jobId=TypeConverter.toYarn(jobID);
  Configuration conf1=new Configuration();
  conf1.setBoolean(MRConfig.MR_ACLS_ENABLED,true);
  conf1.set(MRJobConfig.JOB_ACL_VIEW_JOB,"");
  JobImpl job1=new JobImpl(jobId,null,conf1,null,null,null,null,null,null,null,null,true,null,0,null,null,null,null);
  Assert.assertTrue(job1.checkAccess(ugi1,JobACL.VIEW_JOB));
  Assert.assertFalse(job1.checkAccess(ugi2,JobACL.VIEW_JOB));
  Configuration conf2=new Configuration();
  conf2.setBoolean(MRConfig.MR_ACLS_ENABLED,true);
  conf2.set(MRJobConfig.JOB_ACL_VIEW_JOB,user2);
  JobImpl job2=new JobImpl(jobId,null,conf2,null,null,null,null,null,null,null,null,true,null,0,null,null,null,null);
  Assert.assertTrue(job2.checkAccess(ugi1,JobACL.VIEW_JOB));
  Assert.assertTrue(job2.checkAccess(ugi2,JobACL.VIEW_JOB));
  Configuration conf3=new Configuration();
  conf3.setBoolean(MRConfig.MR_ACLS_ENABLED,true);
  conf3.set(MRJobConfig.JOB_ACL_VIEW_JOB,"*");
  JobImpl job3=new JobImpl(jobId,null,conf3,null,null,null,null,null,null,null,null,true,null,0,null,null,null,null);
  Assert.assertTrue(job3.checkAccess(ugi1,JobACL.VIEW_JOB));
  Assert.assertTrue(job3.checkAccess(ugi2,JobACL.VIEW_JOB));
  Configuration conf4=new Configuration();
  conf4.setBoolean(MRConfig.MR_ACLS_ENABLED,false);
  conf4.set(MRJobConfig.JOB_ACL_VIEW_JOB,"");
  JobImpl job4=new JobImpl(jobId,null,conf4,null,null,null,null,null,null,null,null,true,null,0,null,null,null,null);
  Assert.assertTrue(job4.checkAccess(ugi1,JobACL.VIEW_JOB));
  Assert.assertTrue(job4.checkAccess(ugi2,JobACL.VIEW_JOB));
  Configuration conf5=new Configuration();
  conf5.setBoolean(MRConfig.MR_ACLS_ENABLED,true);
  conf5.set(MRJobConfig.JOB_ACL_VIEW_JOB,"");
  JobImpl job5=new JobImpl(jobId,null,conf5,null,null,null,null,null,null,null,null,true,null,0,null,null,null,null);
  Assert.assertTrue(job5.checkAccess(ugi1,null));
  Assert.assertTrue(job5.checkAccess(ugi2,null));
}
