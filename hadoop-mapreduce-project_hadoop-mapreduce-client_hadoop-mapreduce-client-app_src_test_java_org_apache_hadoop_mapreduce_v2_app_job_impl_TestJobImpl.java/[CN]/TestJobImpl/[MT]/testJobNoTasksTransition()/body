{
  JobNoTasksCompletedTransition trans=new JobNoTasksCompletedTransition();
  JobImpl mockJob=mock(JobImpl.class);
  Task mockTask=mock(Task.class);
  Map<TaskId,Task> tasks=new HashMap<TaskId,Task>();
  tasks.put(mockTask.getID(),mockTask);
  when(mockJob.getTasks()).thenReturn(tasks);
  when(mockJob.getState()).thenReturn(JobState.ERROR);
  JobEvent mockJobEvent=mock(JobEvent.class);
  JobState state=trans.transition(mockJob,mockJobEvent);
  Assert.assertEquals("Incorrect state returned from JobNoTasksCompletedTransition",JobState.ERROR,state);
}
