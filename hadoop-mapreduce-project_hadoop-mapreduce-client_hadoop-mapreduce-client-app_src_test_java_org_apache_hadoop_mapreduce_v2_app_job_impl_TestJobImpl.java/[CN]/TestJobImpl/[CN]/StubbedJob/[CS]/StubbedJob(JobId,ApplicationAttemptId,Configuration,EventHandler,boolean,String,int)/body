{
  super(jobId,applicationAttemptId,conf,eventHandler,null,new JobTokenSecretManager(),new Credentials(),new SystemClock(),null,MRAppMetrics.create(),newApiCommitter,user,System.currentTimeMillis(),null,null);
  initTransition=getInitTransition(numSplits);
  localFactory=stateMachineFactory.addTransition(JobStateInternal.NEW,EnumSet.of(JobStateInternal.INITED,JobStateInternal.FAILED),JobEventType.JOB_INIT,initTransition);
  localStateMachine=localFactory.make(this);
}
