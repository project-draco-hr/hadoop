{
  this.state=sd.analyzeStorage(startOpt,this);
  final boolean needRecover=state != StorageState.NORMAL && state != StorageState.NON_EXISTENT && state != StorageState.NOT_FORMATTED;
  if (state == StorageState.NORMAL && startOpt != StartupOption.ROLLBACK) {
    readProperties(sd);
  }
 else   if (needRecover) {
    sd.doRecover(state);
  }
}
