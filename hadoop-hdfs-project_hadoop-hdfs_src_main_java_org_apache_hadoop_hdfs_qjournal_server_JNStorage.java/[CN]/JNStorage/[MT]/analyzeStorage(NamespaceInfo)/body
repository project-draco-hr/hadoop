{
  if (lazyInitted) {
    checkConsistentNamespace(nsInfo);
    return;
  }
  StorageState state=sd.analyzeStorage(StartupOption.REGULAR,this);
switch (state) {
case NON_EXISTENT:
case NOT_FORMATTED:
    format(nsInfo);
  sd.lock();
break;
case NORMAL:
readProperties(sd);
checkConsistentNamespace(nsInfo);
break;
default :
LOG.warn("TODO: unhandled state for storage dir " + sd + ": "+ state);
}
lazyInitted=true;
}
