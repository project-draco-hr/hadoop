{
  final long checkpointPeriod=conf.getLong(DFSConfigKeys.DFS_NAMENODE_CHECKPOINT_PERIOD_KEY,DFSConfigKeys.DFS_NAMENODE_CHECKPOINT_PERIOD_DEFAULT);
  final long checkpointTxnCount=conf.getLong(DFSConfigKeys.DFS_NAMENODE_CHECKPOINT_TXNS_KEY,DFSConfigKeys.DFS_NAMENODE_CHECKPOINT_TXNS_DEFAULT);
  long checkpointAge=System.currentTimeMillis() - imageFile.lastModified();
  return (checkpointAge > checkpointPeriod * 1000) || (numEditsLoaded > checkpointTxnCount);
}
