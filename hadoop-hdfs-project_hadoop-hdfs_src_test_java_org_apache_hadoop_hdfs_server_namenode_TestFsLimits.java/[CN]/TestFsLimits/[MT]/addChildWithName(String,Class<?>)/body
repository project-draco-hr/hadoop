{
  if (fs == null)   fs=new MockFSDirectory();
  INode child=new INodeDirectory(getMockNamesystem().allocateNewInodeId(),name,perms);
  child.setLocalName(name);
  Class<?> generated=null;
  try {
    fs.verifyFsLimits(inodes,1,child);
    rootInode.addChild(child,false);
  }
 catch (  QuotaExceededException e) {
    generated=e.getClass();
  }
  assertEquals(expected,generated);
}
