{
  if (fs == null)   fs=new MockFSDirectory();
  INode child=new INodeDirectory(getMockNamesystem().allocateNewInodeId(),DFSUtil.string2Bytes(name),perms,0L);
  Class<?> generated=null;
  try {
    fs.verifyMaxComponentLength(child.getLocalNameBytes(),inodes,1);
    fs.verifyMaxDirItems(inodes,1);
    fs.verifyINodeName(child.getLocalNameBytes());
    rootInode.addChild(child);
  }
 catch (  QuotaExceededException e) {
    generated=e.getClass();
  }
  assertEquals(expected,generated);
}
