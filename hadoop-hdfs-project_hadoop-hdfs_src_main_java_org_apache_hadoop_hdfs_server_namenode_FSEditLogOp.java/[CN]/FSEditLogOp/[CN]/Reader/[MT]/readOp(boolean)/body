{
  FSEditLogOp op=null;
  while (true) {
    try {
      in.mark(in.available());
      try {
        op=decodeOp();
      }
  finally {
        if (op == null) {
          in.reset();
        }
      }
      return op;
    }
 catch (    IOException e) {
      if (!skipBrokenEdits) {
        throw e;
      }
      if (in.skip(1) < 1) {
        return null;
      }
    }
  }
}
