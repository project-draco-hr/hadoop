{
  long off=0;
  byte[] buf=new byte[4096];
  while (true) {
    int numRead=in.read(buf);
    if (numRead == -1) {
      return;
    }
    for (int i=0; i < numRead; i++, off++) {
      if ((buf[i] != (byte)0) && (buf[i] != (byte)-1)) {
        throw new GarbageAfterTerminatorException("Read garbage after " + "the terminator!",off);
      }
    }
  }
}
