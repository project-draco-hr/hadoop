{
  this.logVersion=logVersion;
  if (LayoutVersion.supports(Feature.EDITS_CHESKUM,logVersion)) {
    this.checksum=new PureJavaCrc32();
  }
 else {
    this.checksum=null;
  }
  if (this.checksum != null) {
    this.in=new DataInputStream(new CheckedInputStream(in,this.checksum));
  }
 else {
    this.in=in;
  }
  this.cache=new OpInstanceCache();
}
