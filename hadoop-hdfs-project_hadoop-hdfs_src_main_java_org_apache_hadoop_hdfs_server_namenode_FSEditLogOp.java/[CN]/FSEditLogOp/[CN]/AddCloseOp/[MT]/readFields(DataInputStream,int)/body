{
  this.length=in.readInt();
  if (-7 == logVersion && length != 3 || -17 < logVersion && logVersion < -7 && length != 4 || logVersion <= -17 && length != 5) {
    throw new IOException("Incorrect data format." + " logVersion is " + logVersion + " but writables.length is "+ length+ ". ");
  }
  this.path=FSImageSerialization.readString(in);
  this.replication=readShort(in);
  this.mtime=readLong(in);
  if (LayoutVersion.supports(Feature.FILE_ACCESS_TIME,logVersion)) {
    this.atime=readLong(in);
  }
 else {
    this.atime=0;
  }
  if (logVersion < -7) {
    this.blockSize=readLong(in);
  }
 else {
    this.blockSize=0;
  }
  this.blocks=readBlocks(in,logVersion);
  if (logVersion <= -11) {
    this.permissions=PermissionStatus.read(in);
  }
 else {
    this.permissions=null;
  }
  if (this.opCode == OP_ADD && logVersion <= -12) {
    this.clientName=FSImageSerialization.readString(in);
    this.clientMachine=FSImageSerialization.readString(in);
    if (-13 <= logVersion) {
      readDatanodeDescriptorArray(in);
    }
  }
 else {
    this.clientName="";
    this.clientMachine="";
  }
}
