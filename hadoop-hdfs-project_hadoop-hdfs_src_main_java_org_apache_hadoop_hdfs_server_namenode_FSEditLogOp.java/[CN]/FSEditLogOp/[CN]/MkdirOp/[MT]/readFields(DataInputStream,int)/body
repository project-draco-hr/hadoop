{
  if (!NameNodeLayoutVersion.supports(LayoutVersion.Feature.EDITLOG_OP_OPTIMIZATION,logVersion)) {
    this.length=in.readInt();
  }
  if (-17 < logVersion && length != 2 || logVersion <= -17 && length != 3 && !NameNodeLayoutVersion.supports(LayoutVersion.Feature.EDITLOG_OP_OPTIMIZATION,logVersion)) {
    throw new IOException("Incorrect data format. Mkdir operation.");
  }
  if (NameNodeLayoutVersion.supports(LayoutVersion.Feature.ADD_INODE_ID,logVersion)) {
    this.inodeId=FSImageSerialization.readLong(in);
  }
 else {
    this.inodeId=HdfsConstants.GRANDFATHER_INODE_ID;
  }
  this.path=FSImageSerialization.readString(in);
  if (NameNodeLayoutVersion.supports(LayoutVersion.Feature.EDITLOG_OP_OPTIMIZATION,logVersion)) {
    this.timestamp=FSImageSerialization.readLong(in);
  }
 else {
    this.timestamp=readLong(in);
  }
  if (NameNodeLayoutVersion.supports(LayoutVersion.Feature.FILE_ACCESS_TIME,logVersion)) {
    if (NameNodeLayoutVersion.supports(LayoutVersion.Feature.EDITLOG_OP_OPTIMIZATION,logVersion)) {
      FSImageSerialization.readLong(in);
    }
 else {
      readLong(in);
    }
  }
  this.permissions=PermissionStatus.read(in);
  aclEntries=AclEditLogUtil.read(in,logVersion);
  xAttrs=readXAttrsFromEditLog(in,logVersion);
}
