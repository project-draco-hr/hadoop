{
  PathBasedCacheDirective.Builder builder=new PathBasedCacheDirective.Builder();
  builder.setId(FSImageSerialization.readLong(in));
  byte flags=in.readByte();
  if ((flags & 0x1) != 0) {
    builder.setPath(new Path(FSImageSerialization.readString(in)));
  }
  if ((flags & 0x2) != 0) {
    builder.setReplication(FSImageSerialization.readShort(in));
  }
  if ((flags & 0x4) != 0) {
    builder.setPool(FSImageSerialization.readString(in));
  }
  if ((flags & ~0x7) != 0) {
    throw new IOException("unknown flags set in " + "ModifyPathBasedCacheDirectiveOp: " + flags);
  }
  this.directive=builder.build();
  readRpcIds(in,logVersion);
}
