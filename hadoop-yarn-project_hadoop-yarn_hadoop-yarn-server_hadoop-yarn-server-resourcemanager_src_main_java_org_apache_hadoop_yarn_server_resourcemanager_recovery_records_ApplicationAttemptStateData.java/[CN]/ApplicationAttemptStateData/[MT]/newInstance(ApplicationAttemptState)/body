{
  Credentials credentials=attemptState.getAppAttemptCredentials();
  ByteBuffer appAttemptTokens=null;
  if (credentials != null) {
    DataOutputBuffer dob=new DataOutputBuffer();
    credentials.writeTokenStorageToStream(dob);
    appAttemptTokens=ByteBuffer.wrap(dob.getData(),0,dob.getLength());
  }
  return newInstance(attemptState.getAttemptId(),attemptState.getMasterContainer(),appAttemptTokens,attemptState.getStartTime(),attemptState.getState(),attemptState.getFinalTrackingUrl(),attemptState.getDiagnostics(),attemptState.getFinalApplicationStatus(),attemptState.getAMContainerExitStatus(),attemptState.getFinishTime(),attemptState.getMemorySeconds(),attemptState.getVcoreSeconds());
}
