{
  String type=node.removeChildStr("type");
  if (type == null) {
    throw new IOException("INode XML found with no <type> tag.");
  }
  INodeSection.INode.Builder inodeBld=INodeSection.INode.newBuilder();
  Long id=node.removeChildLong("id");
  if (id == null) {
    throw new IOException("<inode> found without <id>");
  }
  inodeBld.setId(id);
  String name=node.removeChildStr("name");
  if (name != null) {
    inodeBld.setName(ByteString.copyFrom(name,"UTF8"));
  }
switch (type) {
case "FILE":
    processFileXml(node,inodeBld);
  break;
case "DIRECTORY":
processDirectoryXml(node,inodeBld);
break;
case "SYMLINK":
processSymlinkXml(node,inodeBld);
break;
default :
throw new IOException("INode XML found with unknown <type> " + "tag " + type);
}
node.verifyNoRemainingKeys("inode");
return inodeBld;
}
