{
  FsImageProto.StringTableSection sectionHeader=FsImageProto.StringTableSection.newBuilder().setNumEntry(stringTable.size()).build();
  if (LOG.isDebugEnabled()) {
    LOG.debug(SectionName.STRING_TABLE.name() + " writing header: {" + TextFormat.printToString(sectionHeader)+ "}");
  }
  sectionHeader.writeDelimitedTo(out);
  for (  Map.Entry<String,Integer> entry : stringTable.entrySet()) {
    FsImageProto.StringTableSection.Entry stEntry=FsImageProto.StringTableSection.Entry.newBuilder().setStr(entry.getKey()).setId(entry.getValue()).build();
    if (LOG.isTraceEnabled()) {
      LOG.trace("Writing string table entry: {" + TextFormat.printToString(stEntry) + "}");
    }
    stEntry.writeDelimitedTo(out);
  }
  recordSectionLength(SectionName.STRING_TABLE.name());
}
