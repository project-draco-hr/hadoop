{
  Node node=new Node();
  loadNodeChildren(node,"CacheManager fields","pool","directive");
  CacheManagerSection.Builder b=CacheManagerSection.newBuilder();
  Long nextDirectiveId=node.removeChildLong("nextDirectiveId");
  if (nextDirectiveId == null) {
    throw new IOException("CacheManager section had no <nextDirectiveId>");
  }
  b.setNextDirectiveId(nextDirectiveId);
  Integer expectedNumPools=node.removeChildInt("numPools");
  if (expectedNumPools == null) {
    throw new IOException("CacheManager section had no <numPools>");
  }
  b.setNumPools(expectedNumPools);
  Integer expectedNumDirectives=node.removeChildInt("numDirectives");
  if (expectedNumDirectives == null) {
    throw new IOException("CacheManager section had no <numDirectives>");
  }
  b.setNumDirectives(expectedNumDirectives);
  b.build().writeDelimitedTo(out);
  long actualNumPools=0;
  while (actualNumPools < expectedNumPools) {
    try {
      expectTag("pool",false);
    }
 catch (    IOException e) {
      throw new IOException("Only read " + actualNumPools + " cache pools out of "+ expectedNumPools,e);
    }
    actualNumPools++;
    Node pool=new Node();
    loadNodeChildren(pool,"pool fields","");
    processPoolXml(node);
  }
  long actualNumDirectives=0;
  while (actualNumDirectives < expectedNumDirectives) {
    try {
      expectTag("directive",false);
    }
 catch (    IOException e) {
      throw new IOException("Only read " + actualNumDirectives + " cache pools out of "+ expectedNumDirectives,e);
    }
    actualNumDirectives++;
    Node pool=new Node();
    loadNodeChildren(pool,"directive fields","");
    processDirectiveXml(node);
  }
  expectTagEnd("CacheManagerSection");
  recordSectionLength(SectionName.CACHE_MANAGER.name());
}
