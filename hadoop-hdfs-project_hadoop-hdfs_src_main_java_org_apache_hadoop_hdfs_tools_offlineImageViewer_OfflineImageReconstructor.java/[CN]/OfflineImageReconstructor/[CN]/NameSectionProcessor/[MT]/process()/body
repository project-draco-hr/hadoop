{
  Node node=new Node();
  loadNodeChildren(node,"NameSection fields");
  NameSystemSection.Builder b=NameSystemSection.newBuilder();
  Integer namespaceId=node.removeChildInt("namespaceId");
  if (namespaceId == null) {
    throw new IOException("<NameSection> is missing <namespaceId>");
  }
  b.setNamespaceId(namespaceId);
  Long lval=node.removeChildLong("genstampV1");
  if (lval != null) {
    b.setGenstampV1(lval);
  }
  lval=node.removeChildLong("genstampV2");
  if (lval != null) {
    b.setGenstampV2(lval);
  }
  lval=node.removeChildLong("genstampV1Limit");
  if (lval != null) {
    b.setGenstampV1Limit(lval);
  }
  lval=node.removeChildLong("lastAllocatedBlockId");
  if (lval != null) {
    b.setLastAllocatedBlockId(lval);
  }
  lval=node.removeChildLong("txid");
  if (lval != null) {
    b.setTransactionId(lval);
  }
  lval=node.removeChildLong("rollingUpgradeStartTime");
  if (lval != null) {
    b.setRollingUpgradeStartTime(lval);
  }
  lval=node.removeChildLong("lastAllocatedStripedBlockId");
  if (lval != null) {
    b.setLastAllocatedStripedBlockId(lval);
  }
  node.verifyNoRemainingKeys("NameSection");
  NameSystemSection s=b.build();
  if (LOG.isDebugEnabled()) {
    LOG.debug(SectionName.NS_INFO.name() + " writing header: {" + TextFormat.printToString(s)+ "}");
  }
  s.writeDelimitedTo(out);
  recordSectionLength(SectionName.NS_INFO.name());
}
