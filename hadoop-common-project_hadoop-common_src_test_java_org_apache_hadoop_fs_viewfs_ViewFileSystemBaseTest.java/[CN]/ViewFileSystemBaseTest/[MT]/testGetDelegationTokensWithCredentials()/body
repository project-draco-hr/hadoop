{
  Credentials credentials=new Credentials();
  List<Token<?>> delTokens=Arrays.asList(fsView.addDelegationTokens("sanjay",credentials));
  int expectedTokenCount=getExpectedDelegationTokenCountWithCredentials();
  Assert.assertEquals(expectedTokenCount,delTokens.size());
  Credentials newCredentials=new Credentials();
  for (int i=0; i < expectedTokenCount / 2; i++) {
    Token<?> token=delTokens.get(i);
    newCredentials.addToken(token.getService(),token);
  }
  List<Token<?>> delTokens2=Arrays.asList(fsView.addDelegationTokens("sanjay",newCredentials));
  Assert.assertEquals((expectedTokenCount + 1) / 2,delTokens2.size());
}
