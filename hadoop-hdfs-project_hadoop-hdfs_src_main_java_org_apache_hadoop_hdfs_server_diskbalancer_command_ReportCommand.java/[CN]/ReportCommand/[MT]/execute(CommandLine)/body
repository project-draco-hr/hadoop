{
  StrBuilder result=new StrBuilder();
  String outputLine="Processing report command";
  recordOutput(result,outputLine);
  Preconditions.checkState(cmd.hasOption(DiskBalancer.REPORT));
  verifyCommandOptions(DiskBalancer.REPORT,cmd);
  readClusterInfo(cmd);
  final String nodeFormat="%d/%d %s[%s:%d] - <%s>: %d volumes with node data density %.2f.";
  final String nodeFormatWithoutSequence="%s[%s:%d] - <%s>: %d volumes with node data density %.2f.";
  final String volumeFormat="[%s: volume-%s] - %.2f used: %d/%d, %.2f free: %d/%d, " + "isFailed: %s, isReadOnly: %s, isSkip: %s, isTransient: %s.";
  if (cmd.hasOption(DiskBalancer.NODE)) {
    handleNodeReport(cmd,result,nodeFormatWithoutSequence,volumeFormat);
  }
 else {
    handleTopReport(cmd,result,nodeFormat);
  }
  out.println(result.toString());
}
