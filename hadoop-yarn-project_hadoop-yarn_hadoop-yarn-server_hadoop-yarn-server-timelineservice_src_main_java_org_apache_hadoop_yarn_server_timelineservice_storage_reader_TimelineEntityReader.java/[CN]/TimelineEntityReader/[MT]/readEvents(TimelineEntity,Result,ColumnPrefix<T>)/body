{
  Map<String,TimelineEvent> eventsMap=new HashMap<>();
  Map<EventColumnName,Object> eventsResult=prefix.readResults(result,new EventColumnNameConverter());
  for (  Map.Entry<EventColumnName,Object> eventResult : eventsResult.entrySet()) {
    EventColumnName eventColumnName=eventResult.getKey();
    String key=eventColumnName.getId() + Long.toString(eventColumnName.getTimestamp());
    TimelineEvent event=eventsMap.get(key);
    if (event == null) {
      event=new TimelineEvent();
      event.setId(eventColumnName.getId());
      event.setTimestamp(eventColumnName.getTimestamp());
      eventsMap.put(key,event);
    }
    if (eventColumnName.getInfoKey() != null) {
      event.addInfo(eventColumnName.getInfoKey(),eventResult.getValue());
    }
  }
  Set<TimelineEvent> eventsSet=new HashSet<>(eventsMap.values());
  entity.addEvents(eventsSet);
}
