{
  RMContainer reservedContainer=getReservedContainer();
  if (reservedContainer != null) {
    if (!container.getContainer().getNodeId().equals(getNodeID())) {
      throw new IllegalStateException("Trying to reserve" + " container " + container + " on node "+ container.getReservedNode()+ " when currently"+ " reserved resource "+ reservedContainer+ " on node "+ reservedContainer.getReservedNode());
    }
    if (!reservedContainer.getContainer().getId().getApplicationAttemptId().equals(container.getContainer().getId().getApplicationAttemptId())) {
      throw new IllegalStateException("Trying to reserve" + " container " + container + " for application "+ application.getApplicationId()+ " when currently"+ " reserved container "+ reservedContainer+ " on node "+ this);
    }
    LOG.info("Updated reserved container " + container.getContainer().getId() + " on node "+ this+ " for application "+ application);
  }
 else {
    LOG.info("Reserved container " + container.getContainer().getId() + " on node "+ this+ " for application "+ application);
  }
  setReservedContainer(container);
  this.reservedAppSchedulable=((FSSchedulerApp)application).getAppSchedulable();
}
