{
  for (int i=0; i <= checkedAncestorIndex; i++) {
    if (inodes[i] == null) {
      break;
    }
    if (!inodes[i].isDirectory()) {
      throw new AccessControlException(e.getMessage() + " (Ancestor " + inodes[i].getFullPathName()+ " is not a directory).");
    }
  }
  throw e;
}
