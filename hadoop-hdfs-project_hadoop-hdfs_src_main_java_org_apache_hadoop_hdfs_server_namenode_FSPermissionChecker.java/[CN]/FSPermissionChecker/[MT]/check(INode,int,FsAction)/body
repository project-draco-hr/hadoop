{
  if (inode == null) {
    return;
  }
  FsPermission mode=inode.getFsPermission(snapshotId);
  AclFeature aclFeature=inode.getAclFeature(snapshotId);
  if (aclFeature != null) {
    int firstEntry=aclFeature.getEntryAt(0);
    if (AclEntryStatusFormat.getScope(firstEntry) == AclEntryScope.ACCESS) {
      checkAccessAcl(inode,snapshotId,access,mode,aclFeature);
      return;
    }
  }
  checkFsPermission(inode,snapshotId,access,mode);
}
