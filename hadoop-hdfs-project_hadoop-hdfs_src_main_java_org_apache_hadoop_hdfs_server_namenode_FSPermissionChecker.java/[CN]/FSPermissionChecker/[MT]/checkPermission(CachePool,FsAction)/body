{
  FsPermission mode=pool.getMode();
  if (isSuperUser()) {
    return;
  }
  if (getUser().equals(pool.getOwnerName()) && mode.getUserAction().implies(access)) {
    return;
  }
  if (isMemberOfGroup(pool.getGroupName()) && mode.getGroupAction().implies(access)) {
    return;
  }
  if (mode.getOtherAction().implies(access)) {
    return;
  }
  throw new AccessControlException("Permission denied while accessing pool " + pool.getPoolName() + ": user "+ getUser()+ " does not have "+ access.toString()+ " permissions.");
}
