{
  if (LOG.isDebugEnabled()) {
    LOG.debug("ACCESS CHECK: " + this + ", doCheckOwner="+ doCheckOwner+ ", ancestorAccess="+ ancestorAccess+ ", parentAccess="+ parentAccess+ ", access="+ access+ ", subAccess="+ subAccess);
  }
  INode[] inodes=root.getExistingPathINodes(path,true);
  int ancestorIndex=inodes.length - 2;
  for (; ancestorIndex >= 0 && inodes[ancestorIndex] == null; ancestorIndex--)   ;
  checkTraverse(inodes,ancestorIndex);
  if (parentAccess != null && parentAccess.implies(FsAction.WRITE) && inodes.length > 1 && inodes[inodes.length - 1] != null) {
    checkStickyBit(inodes[inodes.length - 2],inodes[inodes.length - 1]);
  }
  if (ancestorAccess != null && inodes.length > 1) {
    check(inodes,ancestorIndex,ancestorAccess);
  }
  if (parentAccess != null && inodes.length > 1) {
    check(inodes,inodes.length - 2,parentAccess);
  }
  if (access != null) {
    check(inodes[inodes.length - 1],access);
  }
  if (subAccess != null) {
    checkSubAccess(inodes[inodes.length - 1],subAccess);
  }
  if (doCheckOwner) {
    checkOwner(inodes[inodes.length - 1]);
  }
}
