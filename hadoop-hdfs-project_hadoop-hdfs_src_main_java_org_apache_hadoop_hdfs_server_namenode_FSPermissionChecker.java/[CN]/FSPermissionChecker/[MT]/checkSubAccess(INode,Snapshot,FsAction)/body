{
  if (inode == null || !inode.isDirectory()) {
    return;
  }
  Stack<INodeDirectory> directories=new Stack<INodeDirectory>();
  for (directories.push((INodeDirectory)inode); !directories.isEmpty(); ) {
    INodeDirectory d=directories.pop();
    check(d,access);
    for (    INode child : d.getChildrenList(snapshot)) {
      if (child.isDirectory()) {
        directories.push((INodeDirectory)child);
      }
    }
  }
}
