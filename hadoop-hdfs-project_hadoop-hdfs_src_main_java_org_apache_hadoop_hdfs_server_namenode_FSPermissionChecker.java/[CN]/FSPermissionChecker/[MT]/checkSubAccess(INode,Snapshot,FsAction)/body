{
  if (inode == null || !inode.isDirectory()) {
    return;
  }
  Stack<INodeDirectory> directories=new Stack<INodeDirectory>();
  for (directories.push(inode.asDirectory()); !directories.isEmpty(); ) {
    INodeDirectory d=directories.pop();
    check(d,snapshot,access);
    for (    INode child : d.getChildrenList(snapshot)) {
      if (child.isDirectory()) {
        directories.push(child.asDirectory());
      }
    }
  }
}
