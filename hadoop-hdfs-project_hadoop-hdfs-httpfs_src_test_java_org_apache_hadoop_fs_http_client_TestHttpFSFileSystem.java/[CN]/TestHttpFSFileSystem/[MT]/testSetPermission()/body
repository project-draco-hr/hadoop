{
  FileSystem fs=FileSystem.get(TestHdfsHelper.getHdfsConf());
  Path path=new Path(TestHdfsHelper.getHdfsTestDir(),"foo.txt");
  OutputStream os=fs.create(path);
  os.write(1);
  os.close();
  fs.close();
  fs=getHttpFileSystem();
  FsPermission permission1=new FsPermission(FsAction.READ_WRITE,FsAction.NONE,FsAction.NONE);
  fs.setPermission(path,permission1);
  fs.close();
  fs=FileSystem.get(TestHdfsHelper.getHdfsConf());
  FileStatus status1=fs.getFileStatus(path);
  fs.close();
  FsPermission permission2=status1.getPermission();
  Assert.assertEquals(permission2,permission1);
}
