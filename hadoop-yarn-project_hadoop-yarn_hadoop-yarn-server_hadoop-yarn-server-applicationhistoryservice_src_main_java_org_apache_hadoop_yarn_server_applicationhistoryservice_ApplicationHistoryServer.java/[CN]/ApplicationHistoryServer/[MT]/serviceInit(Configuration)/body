{
  timelineStore=createTimelineStore(conf);
  addIfService(timelineStore);
  secretManagerService=createTimelineDelegationTokenSecretManagerService(conf);
  addService(secretManagerService);
  timelineDataManager=createTimelineDataManager(conf);
  addService(timelineDataManager);
  aclsManager=createApplicationACLsManager(conf);
  historyManager=createApplicationHistoryManager(conf);
  ahsClientService=createApplicationHistoryClientService(historyManager);
  addService(ahsClientService);
  addService((Service)historyManager);
  DefaultMetricsSystem.initialize("ApplicationHistoryServer");
  JvmMetrics jm=JvmMetrics.initSingleton("ApplicationHistoryServer",null);
  pauseMonitor=new JvmPauseMonitor();
  addService(pauseMonitor);
  jm.setPauseMonitor(pauseMonitor);
  super.serviceInit(conf);
}
