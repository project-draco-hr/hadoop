{
  ArrayList<DatanodeInfo> decommissionedNodes=new ArrayList<>();
  DatanodeInfo[] info=client.datanodeReport(DatanodeReportType.LIVE);
  BlockLocation[] fileBlockLocations=dfs.getFileBlockLocations(ecFile,0,writeBytes);
  for (  String dnName : fileBlockLocations[0].getNames()) {
    for (    DatanodeInfo dn : info) {
      if (dnName.equals(dn.getXferAddr())) {
        decommissionedNodes.add(dn);
      }
      if (decommissionedNodes.size() >= decomNodeCount) {
        return decommissionedNodes;
      }
    }
  }
  return decommissionedNodes;
}
