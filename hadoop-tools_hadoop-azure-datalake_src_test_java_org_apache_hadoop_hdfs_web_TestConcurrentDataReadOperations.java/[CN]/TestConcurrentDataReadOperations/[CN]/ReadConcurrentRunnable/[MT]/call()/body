{
  try {
    FSDataInputStream in;
    if (useSameStream) {
synchronized (lock) {
        if (commonHandle == null) {
          commonHandle=getMockAdlFileSystem().open(path);
        }
        in=commonHandle;
      }
    }
 else {
      in=getMockAdlFileSystem().open(path);
    }
    byte[] actualData=new byte[expectedData.length];
    in.readFully(offset,actualData);
    Assert.assertArrayEquals("Path :" + path.toString() + " did not match.",expectedData,actualData);
    if (!useSameStream) {
      in.close();
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
    return false;
  }
  return true;
}
