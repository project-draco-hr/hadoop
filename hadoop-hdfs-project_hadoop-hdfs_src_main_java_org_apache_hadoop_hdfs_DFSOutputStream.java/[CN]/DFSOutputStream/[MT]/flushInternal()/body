{
  long toWaitFor;
synchronized (this) {
    dfsClient.checkOpen();
    checkClosed();
    streamer.queuePacket(currentPacket);
    currentPacket=null;
    toWaitFor=streamer.getLastQueuedSeqno();
  }
  streamer.waitForAckedSeqno(toWaitFor);
}
