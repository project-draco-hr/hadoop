{
  if (isWindows)   return;
  try {
    conf.set(CONTEXT,BUFFER_DIR[5] + "," + BUFFER_DIR[6]);
    assertTrue(localFs.mkdirs(BUFFER_PATH[5]));
    assertTrue(localFs.mkdirs(BUFFER_PATH[6]));
    int inDir5=0, inDir6=0;
    for (int i=0; i < TRIALS; ++i) {
      File result=createTempFile();
      if (result.getPath().startsWith(new File(BUFFER_DIR[5],FILENAME).getPath())) {
        inDir5++;
      }
 else       if (result.getPath().startsWith(new File(BUFFER_DIR[6],FILENAME).getPath())) {
        inDir6++;
      }
      result.delete();
    }
    assertTrue(inDir5 + inDir6 == TRIALS);
  }
  finally {
    rmBufferDirs();
  }
}
