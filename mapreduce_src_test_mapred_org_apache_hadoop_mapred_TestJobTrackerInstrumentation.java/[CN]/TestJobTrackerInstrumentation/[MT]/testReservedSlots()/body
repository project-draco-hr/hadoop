{
  JobConf conf=new JobConf();
  conf.setNumMapTasks(1);
  conf.setNumReduceTasks(1);
  conf.setSpeculativeExecution(false);
  TaskTracker tt2=jobTracker.getTaskTracker(trackers[1]);
  TaskTrackerStatus status2=new TaskTrackerStatus(trackers[1],JobInProgress.convertTrackerNameToHostName(trackers[1]),0,new ArrayList<TaskStatus>(),0,2,2);
  tt2.setStatus(status2);
  fakeJob=new FakeJobInProgress(conf,jobTracker);
  fakeJob.setClusterSize(3);
  fakeJob.initTasks();
  FakeObjectUtilities.sendHeartBeat(jobTracker,status2,false,true,trackers[1],responseId);
  responseId++;
  assertEquals("Mismtach in reserved map slots",numMapSlotsToReserve,mi.numReservedMapSlots);
  assertEquals("Mismtach in reserved red slots",numReduceSlotsToReserve,mi.numReservedReduceSlots);
}
