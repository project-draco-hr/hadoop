{
  Block block=new Block(blkId);
  BlockInfo blockInfo=new BlockInfoContiguous(block,(short)3);
  blockInfo.convertToBlockUnderConstruction(UNDER_CONSTRUCTION,null);
  BlockCollection bc=Mockito.mock(BlockCollection.class);
  Mockito.doReturn((short)3).when(bc).getPreferredBlockReplication();
  bm.blocksMap.addBlockCollection(blockInfo,bc);
  return blockInfo;
}
