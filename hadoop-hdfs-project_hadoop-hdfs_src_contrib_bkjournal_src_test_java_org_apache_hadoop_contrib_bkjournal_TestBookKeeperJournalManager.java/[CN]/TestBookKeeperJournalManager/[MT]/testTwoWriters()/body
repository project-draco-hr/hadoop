{
  long start=1;
  BookKeeperJournalManager bkjm1=new BookKeeperJournalManager(conf,URI.create("bookkeeper://" + zkEnsemble + "/hdfsjournal-dualWriter"));
  BookKeeperJournalManager bkjm2=new BookKeeperJournalManager(conf,URI.create("bookkeeper://" + zkEnsemble + "/hdfsjournal-dualWriter"));
  EditLogOutputStream out1=bkjm1.startLogSegment(start);
  try {
    EditLogOutputStream out2=bkjm2.startLogSegment(start);
    fail("Shouldn't have been able to open the second writer");
  }
 catch (  IOException ioe) {
    LOG.info("Caught exception as expected",ioe);
  }
}
