{
  org.apache.hadoop.yarn.api.records.timelineservice.TimelineEvent tEvent=event.toTimelineEvent();
  tEvent.setTimestamp(timestamp);
  org.apache.hadoop.yarn.api.records.timelineservice.TimelineEntity entity=new org.apache.hadoop.yarn.api.records.timelineservice.TimelineEntity();
  entity.addEvent(tEvent);
  entity.setType(entityType);
  if (setCreatedTime) {
    entity.setCreatedTime(timestamp);
  }
  Set<TimelineMetric> timelineMetrics=event.getTimelineMetrics();
  if (timelineMetrics != null) {
    entity.setMetrics(timelineMetrics);
  }
  return entity;
}
