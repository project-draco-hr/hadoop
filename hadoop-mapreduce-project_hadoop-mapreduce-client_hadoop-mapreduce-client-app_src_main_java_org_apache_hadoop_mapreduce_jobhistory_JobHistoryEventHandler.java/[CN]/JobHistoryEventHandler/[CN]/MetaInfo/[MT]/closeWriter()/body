{
synchronized (lock) {
    if (writer != null) {
      writer.close();
    }
    writer=null;
  }
}
