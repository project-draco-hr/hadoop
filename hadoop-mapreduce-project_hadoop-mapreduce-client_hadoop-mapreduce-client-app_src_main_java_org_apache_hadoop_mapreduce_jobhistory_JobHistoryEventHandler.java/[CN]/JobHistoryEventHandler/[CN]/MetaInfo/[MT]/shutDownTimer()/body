{
synchronized (lock) {
    isTimerShutDown=true;
    flushTimer.cancel();
    if (flushTimerTask != null && flushTimerTask.getException() != null) {
      throw flushTimerTask.getException();
    }
  }
}
