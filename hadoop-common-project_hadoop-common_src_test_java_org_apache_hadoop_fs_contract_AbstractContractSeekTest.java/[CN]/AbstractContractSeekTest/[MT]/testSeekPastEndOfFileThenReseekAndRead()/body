{
  describe("do a seek past the EOF, then verify the stream recovers");
  instream=getFileSystem().open(smallSeekFile);
  boolean canSeekPastEOF=!getContract().isSupported(ContractOptions.REJECTS_SEEK_PAST_EOF,true);
  try {
    instream.seek(TEST_FILE_LEN + 1);
    assertMinusOne("read after seeking past EOF",instream.read());
  }
 catch (  EOFException e) {
    if (canSeekPastEOF) {
      throw e;
    }
    handleExpectedException(e);
  }
catch (  IOException e) {
    if (canSeekPastEOF) {
      throw e;
    }
    handleRelaxedException("a seek past the end of the file","EOFException",e);
  }
  instream.seek(1);
  assertTrue("Premature EOF",instream.read() != -1);
}
