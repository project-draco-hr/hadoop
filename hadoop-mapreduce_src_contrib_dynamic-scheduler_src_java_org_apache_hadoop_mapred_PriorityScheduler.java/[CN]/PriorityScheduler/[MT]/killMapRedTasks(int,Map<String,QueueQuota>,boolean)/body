{
  int killed=0;
  Collection<KillQueue> killQueues=getKillQueues(queueQuota);
  for (  KillQueue killQueue : killQueues) {
    if (killed == killTasks) {
      return;
    }
    QueueQuota quota=killQueue.quota;
    int toKill=Math.min(killTasks - killed,-quota.quota);
    killQueueTasks(quota.name,toKill,map);
    killed+=toKill;
  }
}
