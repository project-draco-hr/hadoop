{
  fsPath=new File("target",this.getClass().getSimpleName() + "-tmpDir").getAbsoluteFile();
  fsContext=FileContext.getLocalFSFileContext();
  fsContext.delete(new Path(fsPath.getAbsolutePath()),true);
  Configuration conf=new YarnConfiguration();
  conf.set(YarnConfiguration.TIMELINE_SERVICE_LEVELDB_PATH,fsPath.getAbsolutePath());
  conf.setBoolean(YarnConfiguration.TIMELINE_SERVICE_TTL_ENABLE,false);
  store=new LeveldbTimelineStore();
  store.init(conf);
  store.start();
  loadTestEntityData();
  loadVerificationEntityData();
  loadTestDomainData();
  conf.setBoolean(YarnConfiguration.YARN_ACL_ENABLE,false);
  aclsManager=new TimelineACLsManager(conf);
  dataManaer=new TimelineDataManager(store,aclsManager);
  conf.setBoolean(YarnConfiguration.YARN_ACL_ENABLE,true);
  conf.set(YarnConfiguration.YARN_ADMIN_ACL,"admin");
  adminACLsManager=new AdminACLsManager(conf);
}
