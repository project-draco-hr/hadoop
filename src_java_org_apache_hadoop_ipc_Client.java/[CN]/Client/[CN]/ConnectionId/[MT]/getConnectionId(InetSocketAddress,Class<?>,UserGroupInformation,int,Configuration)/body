{
  String remotePrincipal=getRemotePrincipal(conf,addr,protocol);
  boolean doPing=conf.getBoolean("ipc.client.ping",true);
  return new ConnectionId(addr,protocol,ticket,rpcTimeout,remotePrincipal,conf.getInt("ipc.client.connection.maxidletime",10000),conf.getInt("ipc.client.connect.max.retries",10),conf.getBoolean("ipc.client.tcpnodelay",false),doPing,(doPing ? Client.getPingInterval(conf) : 0));
}
