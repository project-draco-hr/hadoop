{
  short ioFailures=0;
  short timeoutFailures=0;
  while (true) {
    try {
      this.socket=socketFactory.createSocket();
      this.socket.setTcpNoDelay(tcpNoDelay);
      NetUtils.connect(this.socket,remoteId.getAddress(),20000);
      if (rpcTimeout > 0) {
        pingInterval=rpcTimeout;
      }
      this.socket.setSoTimeout(pingInterval);
      return;
    }
 catch (    SocketTimeoutException toe) {
      handleConnectionFailure(timeoutFailures++,45,toe);
    }
catch (    IOException ie) {
      handleConnectionFailure(ioFailures++,maxRetries,ie);
    }
  }
}
