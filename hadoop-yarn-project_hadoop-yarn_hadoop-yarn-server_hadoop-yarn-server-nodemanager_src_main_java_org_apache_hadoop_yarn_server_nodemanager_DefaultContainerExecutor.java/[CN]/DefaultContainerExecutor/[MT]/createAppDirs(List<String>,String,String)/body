{
  boolean initAppDirStatus=false;
  FsPermission appperms=new FsPermission(APPDIR_PERM);
  for (  String localDir : localDirs) {
    Path fullAppDir=getApplicationDir(new Path(localDir),user,appId);
    try {
      createDir(fullAppDir,appperms,true,user);
      initAppDirStatus=true;
    }
 catch (    IOException e) {
      LOG.warn("Unable to create app directory " + fullAppDir.toString(),e);
    }
  }
  if (!initAppDirStatus) {
    throw new IOException("Not able to initialize app directories " + "in any of the configured local directories for app " + appId.toString());
  }
}
