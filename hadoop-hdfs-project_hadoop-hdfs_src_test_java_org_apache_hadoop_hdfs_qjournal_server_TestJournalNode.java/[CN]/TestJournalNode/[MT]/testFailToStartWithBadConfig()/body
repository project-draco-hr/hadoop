{
  Configuration conf=new Configuration();
  conf.set(DFSConfigKeys.DFS_JOURNALNODE_EDITS_DIR_KEY,"non-absolute-path");
  conf.set(DFSConfigKeys.DFS_JOURNALNODE_HTTP_ADDRESS_KEY,"0.0.0.0:0");
  assertJNFailsToStart(conf,"should be an absolute path");
  File existingFile=new File(TEST_BUILD_DATA,"testjournalnodefile");
  assertTrue(existingFile.createNewFile());
  try {
    conf.set(DFSConfigKeys.DFS_JOURNALNODE_EDITS_DIR_KEY,existingFile.getAbsolutePath());
    assertJNFailsToStart(conf,"Not a directory");
  }
  finally {
    existingFile.delete();
  }
  conf.set(DFSConfigKeys.DFS_JOURNALNODE_EDITS_DIR_KEY,Shell.WINDOWS ? "\\\\cannotBeCreated" : "/proc/does-not-exist");
  assertJNFailsToStart(conf,"Cannot create directory");
}
