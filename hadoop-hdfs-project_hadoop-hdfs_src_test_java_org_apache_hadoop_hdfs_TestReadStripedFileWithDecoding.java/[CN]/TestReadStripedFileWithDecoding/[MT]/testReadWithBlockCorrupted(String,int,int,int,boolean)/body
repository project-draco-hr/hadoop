{
  LOG.info("testReadWithBlockCorrupted: file = " + src + ", dataBlkDelNum = "+ dataBlkDelNum+ ", parityBlkDelNum = "+ parityBlkDelNum+ ", deleteBlockFile? "+ deleteBlockFile);
  int recoverBlkNum=dataBlkDelNum + parityBlkDelNum;
  Assert.assertTrue("dataBlkDelNum and parityBlkDelNum should be positive",dataBlkDelNum >= 0 && parityBlkDelNum >= 0);
  Assert.assertTrue("The sum of dataBlkDelNum and parityBlkDelNum " + "should be between 1 ~ " + parityBlocks,recoverBlkNum <= parityBlocks);
  Path srcPath=new Path(src);
  final byte[] bytes=StripedFileTestUtil.generateBytes(fileLength);
  DFSTestUtil.writeFile(fs,srcPath,bytes);
  corruptBlocks(srcPath,dataBlkDelNum,parityBlkDelNum,deleteBlockFile);
  verifyRead(srcPath,fileLength,bytes);
}
