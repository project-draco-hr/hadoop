{
  String GET_ALL_USERS_CMD="echo \"root:x:0:0:root:/root:/bin/bash\n" + "hdfs:x:11501:10787:Grid Distributed File System:/home/hdfs:/bin/bash\n" + "hdfs:x:11502:10788:Grid Distributed File System:/home/hdfs:/bin/bash\""+ " | cut -d: -f1,3";
  String GET_ALL_GROUPS_CMD="echo \"hdfs:*:11501:hrt_hdfs\n" + "mapred:x:497\n" + "mapred2:x:497\""+ " | cut -d: -f1,3";
  BiMap<Integer,String> uMap=HashBiMap.create();
  BiMap<Integer,String> gMap=HashBiMap.create();
  try {
    IdUserGroup.updateMapInternal(uMap,"user",GET_ALL_USERS_CMD,":");
    fail("didn't detect the duplicate name");
  }
 catch (  DuplicateNameOrIdException e) {
  }
  try {
    IdUserGroup.updateMapInternal(gMap,"group",GET_ALL_GROUPS_CMD,":");
    fail("didn't detect the duplicate id");
  }
 catch (  DuplicateNameOrIdException e) {
  }
}
