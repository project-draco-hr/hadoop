{
  final String path=sub1.toString();
  final INode before=fsdir.getINode(path);
  Assert.assertTrue(before instanceof INodeDirectory);
  Assert.assertFalse(before instanceof INodeDirectorySnapshottable);
  hdfs.allowSnapshot(path);
{
    final INode after=fsdir.getINode(path);
    Assert.assertTrue(after instanceof INodeDirectorySnapshottable);
  }
  hdfs.disallowSnapshot(path);
{
    final INode after=fsdir.getINode(path);
    Assert.assertTrue(after instanceof INodeDirectory);
    Assert.assertFalse(after instanceof INodeDirectorySnapshottable);
  }
}
