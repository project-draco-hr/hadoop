{
  final String pathStr=sub1.toString();
  final INode before=fsdir.getINode(pathStr);
  Assert.assertTrue(before instanceof INodeDirectory);
  Assert.assertFalse(before instanceof INodeDirectorySnapshottable);
  final Path path=new Path(pathStr);
  hdfs.allowSnapshot(path);
{
    final INode after=fsdir.getINode(pathStr);
    Assert.assertTrue(after instanceof INodeDirectorySnapshottable);
  }
  hdfs.disallowSnapshot(path);
{
    final INode after=fsdir.getINode(pathStr);
    Assert.assertTrue(after instanceof INodeDirectory);
    Assert.assertFalse(after instanceof INodeDirectorySnapshottable);
  }
}
