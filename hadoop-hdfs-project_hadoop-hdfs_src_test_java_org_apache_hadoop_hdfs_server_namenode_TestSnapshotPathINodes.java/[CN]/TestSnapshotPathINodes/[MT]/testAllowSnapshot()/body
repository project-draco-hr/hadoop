{
  final String pathStr=sub1.toString();
  final INode before=fsdir.getINode(pathStr);
  Assert.assertFalse(before.asDirectory().isSnapshottable());
  final Path path=new Path(pathStr);
  hdfs.allowSnapshot(path);
{
    final INode after=fsdir.getINode(pathStr);
    Assert.assertTrue(after.asDirectory().isSnapshottable());
  }
  hdfs.disallowSnapshot(path);
{
    final INode after=fsdir.getINode(pathStr);
    Assert.assertFalse(after.asDirectory().isSnapshottable());
  }
}
