{
  final int size=1000;
  final byte[] bytes=randomBytes(seed,size);
{
    final FSDataOutputStream out=fs.create(p,(short)1);
    out.write(bytes);
    out.close();
    assertEquals(bytes.length,fs.getFileStatus(p).getLen());
  }
  final int appends=50;
  for (int i=2; i < appends; i++) {
    final FSDataOutputStream out=fs.append(p);
    out.write(bytes);
    out.close();
    assertEquals(i * bytes.length,fs.getFileStatus(p).getLen());
  }
  final FSDataInputStream in=fs.open(p);
  for (int i=0; i < appends - 1; i++) {
    byte[] read=new byte[size];
    in.read(i * bytes.length,read,0,size);
    assertArrayEquals(bytes,read);
  }
  in.close();
}
