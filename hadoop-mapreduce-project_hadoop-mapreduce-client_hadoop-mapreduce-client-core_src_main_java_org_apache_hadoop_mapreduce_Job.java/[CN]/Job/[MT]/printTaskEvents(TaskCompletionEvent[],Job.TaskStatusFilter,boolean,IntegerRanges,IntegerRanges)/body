{
  for (  TaskCompletionEvent event : events) {
switch (filter) {
case NONE:
      break;
case SUCCEEDED:
    if (event.getStatus() == TaskCompletionEvent.Status.SUCCEEDED) {
      LOG.info(event.toString());
    }
  break;
case FAILED:
if (event.getStatus() == TaskCompletionEvent.Status.FAILED) {
  LOG.info(event.toString());
  TaskAttemptID taskId=event.getTaskAttemptId();
  String[] taskDiagnostics=getTaskDiagnostics(taskId);
  if (taskDiagnostics != null) {
    for (    String diagnostics : taskDiagnostics) {
      System.err.println(diagnostics);
    }
  }
}
break;
case KILLED:
if (event.getStatus() == TaskCompletionEvent.Status.KILLED) {
LOG.info(event.toString());
}
break;
case ALL:
LOG.info(event.toString());
break;
}
}
}
