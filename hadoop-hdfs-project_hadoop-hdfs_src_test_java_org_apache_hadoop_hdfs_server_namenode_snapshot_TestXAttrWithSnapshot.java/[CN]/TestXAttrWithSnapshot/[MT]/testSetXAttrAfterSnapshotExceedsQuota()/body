{
  Path filePath=new Path(path,"file1");
  FileSystem.mkdirs(hdfs,path,FsPermission.createImmutable((short)0755));
  hdfs.allowSnapshot(path);
  hdfs.setQuota(path,3,HdfsConstants.QUOTA_DONT_SET);
  FileSystem.create(hdfs,filePath,FsPermission.createImmutable((short)0600)).close();
  hdfs.createSnapshot(path,snapshotName);
  exception.expect(NSQuotaExceededException.class);
  hdfs.setXAttr(filePath,name1,value1);
}
