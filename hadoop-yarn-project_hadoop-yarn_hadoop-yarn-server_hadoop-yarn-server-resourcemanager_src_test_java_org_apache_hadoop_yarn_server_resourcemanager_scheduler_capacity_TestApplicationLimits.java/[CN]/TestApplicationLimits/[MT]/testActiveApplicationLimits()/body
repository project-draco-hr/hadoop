{
  final String user_0="user_0";
  final String user_1="user_1";
  final String user_2="user_2";
  assertEquals(Resource.newInstance(16 * GB,1),queue.calculateAndGetAMResourceLimit());
  assertEquals(Resource.newInstance(8 * GB,1),queue.getUserAMResourceLimit());
  int APPLICATION_ID=0;
  FiCaSchedulerApp app_0=getMockApplication(APPLICATION_ID++,user_0,Resources.createResource(4 * GB,0));
  queue.submitApplicationAttempt(app_0,user_0);
  assertEquals(1,queue.getNumActiveApplications());
  assertEquals(0,queue.getNumPendingApplications());
  assertEquals(1,queue.getNumActiveApplications(user_0));
  assertEquals(0,queue.getNumPendingApplications(user_0));
  FiCaSchedulerApp app_1=getMockApplication(APPLICATION_ID++,user_0,Resources.createResource(4 * GB,0));
  queue.submitApplicationAttempt(app_1,user_0);
  assertEquals(2,queue.getNumActiveApplications());
  assertEquals(0,queue.getNumPendingApplications());
  assertEquals(2,queue.getNumActiveApplications(user_0));
  assertEquals(0,queue.getNumPendingApplications(user_0));
  FiCaSchedulerApp app_2=getMockApplication(APPLICATION_ID++,user_0,Resources.createResource(4 * GB,0));
  queue.submitApplicationAttempt(app_2,user_0);
  assertEquals(2,queue.getNumActiveApplications());
  assertEquals(1,queue.getNumPendingApplications());
  assertEquals(2,queue.getNumActiveApplications(user_0));
  assertEquals(1,queue.getNumPendingApplications(user_0));
  queue.finishApplicationAttempt(app_0,A);
  assertEquals(2,queue.getNumActiveApplications());
  assertEquals(0,queue.getNumPendingApplications());
  assertEquals(2,queue.getNumActiveApplications(user_0));
  assertEquals(0,queue.getNumPendingApplications(user_0));
  FiCaSchedulerApp app_3=getMockApplication(APPLICATION_ID++,user_0,Resources.createResource(4 * GB,0));
  queue.submitApplicationAttempt(app_3,user_0);
  assertEquals(2,queue.getNumActiveApplications());
  assertEquals(1,queue.getNumPendingApplications());
  assertEquals(2,queue.getNumActiveApplications(user_0));
  assertEquals(1,queue.getNumPendingApplications(user_0));
  FiCaSchedulerApp app_4=getMockApplication(APPLICATION_ID++,user_1,Resources.createResource(8 * GB,0));
  queue.submitApplicationAttempt(app_4,user_1);
  assertEquals(3,queue.getNumActiveApplications());
  assertEquals(1,queue.getNumPendingApplications());
  assertEquals(2,queue.getNumActiveApplications(user_0));
  assertEquals(1,queue.getNumPendingApplications(user_0));
  assertEquals(1,queue.getNumActiveApplications(user_1));
  assertEquals(0,queue.getNumPendingApplications(user_1));
  FiCaSchedulerApp app_5=getMockApplication(APPLICATION_ID++,user_2,Resources.createResource(8 * GB,0));
  queue.submitApplicationAttempt(app_5,user_2);
  assertEquals(3,queue.getNumActiveApplications());
  assertEquals(2,queue.getNumPendingApplications());
  assertEquals(2,queue.getNumActiveApplications(user_0));
  assertEquals(1,queue.getNumPendingApplications(user_0));
  assertEquals(1,queue.getNumActiveApplications(user_1));
  assertEquals(0,queue.getNumPendingApplications(user_1));
  assertEquals(1,queue.getNumPendingApplications(user_2));
  queue.finishApplicationAttempt(app_4,A);
  assertEquals(3,queue.getNumActiveApplications());
  assertEquals(1,queue.getNumPendingApplications());
  assertEquals(2,queue.getNumActiveApplications(user_0));
  assertEquals(1,queue.getNumPendingApplications(user_0));
  assertEquals(0,queue.getNumActiveApplications(user_1));
  assertEquals(0,queue.getNumPendingApplications(user_1));
  assertEquals(1,queue.getNumActiveApplications(user_2));
  assertEquals(0,queue.getNumPendingApplications(user_2));
}
