{
  Injector injector=WebAppTests.createMockInjector(this);
  HttpServletRequest req=injector.getInstance(HttpServletRequest.class);
  HttpServletResponse res=injector.getInstance(HttpServletResponse.class);
  String val=req.getParameter("foo");
  PrintWriter out=res.getWriter();
  out.println("Hello world!");
  logInstances(req,res,out);
  assertSame(req,injector.getInstance(HttpServletRequest.class));
  assertSame(res,injector.getInstance(HttpServletResponse.class));
  assertSame(this,injector.getInstance(TestWebAppTests.class));
  verify(req).getParameter("foo");
  verify(res).getWriter();
  verify(out).println("Hello world!");
}
