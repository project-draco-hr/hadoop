{
  if (!isInitialized()) {
    return;
  }
  BlockScanInfo info=blockMap.get(block);
  if (info != null) {
    delBlockInfo(info);
  }
 else {
    info=new BlockScanInfo(block);
  }
  long now=System.currentTimeMillis();
  info.lastScanType=type;
  info.lastScanTime=now;
  info.lastScanOk=scanOk;
  addBlockInfo(info);
  if (!scanOk) {
    return;
  }
  LogFileHandler log=verificationLog;
  if (log != null) {
    log.appendLine(now,block.getGenerationStamp(),block.getBlockId());
  }
}
