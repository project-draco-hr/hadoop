{
  final Path dir=new Path("/foo");
  assertTrue(fs.mkdir(dir,FsPermission.getDirDefault()));
  assertNull(client.getFileInfo(dir.toString()).getECSchema());
  final Path file=new Path(dir,"foo");
  fs.create(file).close();
  assertNull(client.getFileInfo(file.toString()).getECSchema());
  fs.delete(file,true);
  final ECSchema schema1=ErasureCodingSchemaManager.getSystemDefaultSchema();
  fs.createErasureCodingZone(dir,schema1);
  final ECSchema schame2=client.getFileInfo(dir.toUri().getPath()).getECSchema();
  assertNotNull(schame2);
  assertTrue(schema1.equals(schame2));
  fs.create(file).close();
  final ECSchema schame3=fs.getClient().getFileInfo(file.toUri().getPath()).getECSchema();
  assertNotNull(schame3);
  assertTrue(schema1.equals(schame3));
}
