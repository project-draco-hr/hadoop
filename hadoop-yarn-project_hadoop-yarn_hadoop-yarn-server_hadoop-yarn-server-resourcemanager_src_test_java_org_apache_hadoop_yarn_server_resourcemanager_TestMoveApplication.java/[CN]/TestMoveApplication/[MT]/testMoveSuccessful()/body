{
  Application application=new Application("user1",resourceManager);
  ApplicationId appId=application.getApplicationId();
  application.submit();
  RMApp app=resourceManager.rmContext.getRMApps().get(appId);
  while (app.getState() != RMAppState.ACCEPTED) {
    Thread.sleep(100);
  }
  ClientRMService clientRMService=resourceManager.getClientRMService();
  clientRMService.moveApplicationAcrossQueues(MoveApplicationAcrossQueuesRequest.newInstance(appId,"newqueue"));
  RMApp rmApp=resourceManager.getRMContext().getRMApps().get(appId);
  assertEquals("newqueue",rmApp.getQueue());
}
