{
  ZKFailoverController zkfc=thrs[idx].zkfc;
  while (zkfc.getLastHealthState() != state) {
    ctx.checkException();
    Thread.sleep(50);
  }
}
