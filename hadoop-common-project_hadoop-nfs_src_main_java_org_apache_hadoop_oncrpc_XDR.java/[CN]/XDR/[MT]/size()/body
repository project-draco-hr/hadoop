{
  return state == State.READING ? buf.limit() : buf.position();
}
