{
  FakeJobInProgress job=TestTaskTrackerBlacklisting.runBlackListingJob(jobTracker,trackers);
  assertEquals("Job has no blacklisted trackers",1,job.getBlackListedTrackers().size());
  assertTrue("Tracker 1 not blacklisted for the job",job.getBlackListedTrackers().contains(JobInProgress.convertTrackerNameToHostName(trackers[0])));
  assertEquals("Job didnt complete successfully complete",job.getStatus().getRunState(),JobStatus.SUCCEEDED);
  assertEquals("Reservation for the job not released: Maps",0,job.getNumReservedTaskTrackersForMaps());
  assertEquals("Reservation for the job not released : Reduces",0,job.getNumReservedTaskTrackersForReduces());
  ClusterMetrics metrics=jobTracker.getClusterMetrics();
  assertEquals("reserved map slots do not match",0,metrics.getReservedMapSlots());
  assertEquals("reserved reduce slots do not match",0,metrics.getReservedReduceSlots());
}
