{
  if (Path.WINDOWS) {
    System.out.println("Cannot run test for Windows");
    return;
  }
  Configuration conf=new Configuration();
  LocalFileSystem localfs=FileSystem.getLocal(conf);
  String filename="foo";
  Path f=writeFile(localfs,filename);
  try {
    System.out.println(filename + ": " + getPermission(localfs,f));
  }
 catch (  Exception e) {
    System.out.println(StringUtils.stringifyException(e));
    System.out.println("Cannot run test");
    return;
  }
  try {
    FsPermission all=new FsPermission((short)0777);
    FsPermission none=new FsPermission((short)0);
    localfs.setPermission(f,none);
    assertEquals(none,getPermission(localfs,f));
    localfs.setPermission(f,all);
    assertEquals(all,getPermission(localfs,f));
  }
  finally {
    cleanupFile(localfs,f);
  }
}
