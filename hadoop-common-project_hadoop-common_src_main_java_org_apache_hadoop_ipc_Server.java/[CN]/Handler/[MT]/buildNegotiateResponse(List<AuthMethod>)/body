{
  RpcSaslProto.Builder negotiateBuilder=RpcSaslProto.newBuilder();
  negotiateBuilder.setState(SaslState.NEGOTIATE);
  for (  AuthMethod authMethod : authMethods) {
    if (authMethod == AuthMethod.SIMPLE) {
      continue;
    }
    SaslRpcServer saslRpcServer=new SaslRpcServer(authMethod);
    negotiateBuilder.addAuthsBuilder().setMethod(authMethod.toString()).setMechanism(saslRpcServer.mechanism).setProtocol(saslRpcServer.protocol).setServerId(saslRpcServer.serverId);
  }
  return negotiateBuilder.build();
}
