{
  Throwable cause=e;
  while (cause != null) {
    if (cause instanceof RetriableException) {
      return (RetriableException)cause;
    }
 else     if (cause instanceof StandbyException) {
      return (StandbyException)cause;
    }
 else     if (cause instanceof InvalidToken) {
      if (cause.getCause() != null) {
        cause=cause.getCause();
      }
      return cause;
    }
    cause=cause.getCause();
  }
  return e;
}
