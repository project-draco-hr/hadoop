{
  List<String> emptyResults=new ArrayList<String>();
  try {
    return doGetGroups(user);
  }
 catch (  CommunicationException e) {
    LOG.warn("Connection is closed, will try to reconnect");
  }
catch (  NamingException e) {
    LOG.warn("Exception trying to get groups for user " + user + ": "+ e.getMessage());
    return emptyResults;
  }
  int retryCount=0;
  while (retryCount++ < RECONNECT_RETRY_COUNT) {
    this.ctx=null;
    try {
      return doGetGroups(user);
    }
 catch (    CommunicationException e) {
      LOG.warn("Connection being closed, reconnecting failed, retryCount = " + retryCount);
    }
catch (    NamingException e) {
      LOG.warn("Exception trying to get groups for user " + user + ":"+ e.getMessage());
      return emptyResults;
    }
  }
  return emptyResults;
}
