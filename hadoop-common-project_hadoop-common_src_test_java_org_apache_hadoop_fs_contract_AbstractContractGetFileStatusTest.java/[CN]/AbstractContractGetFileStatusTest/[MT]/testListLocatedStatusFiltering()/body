{
  describe("Call listLocatedStatus() with filtering");
  describe("Call listStatus() against paths and directories with filtering");
  Path file1=touchf("file-1.txt");
  Path file2=touchf("file-2.txt");
  Path parent=file1.getParent();
  FileSystem fs=getFileSystem();
  touch(fs,file1);
  touch(fs,file2);
  ExtendedFilterFS xfs=new ExtendedFilterFS(fs);
  List<LocatedFileStatus> result;
  verifyListStatus(0,parent,NO_PATHS);
  verifyListStatus(2,parent,ALL_PATHS);
  MatchesNameFilter file1Filter=new MatchesNameFilter("file-1.txt");
  result=verifyListLocatedStatus(xfs,1,parent,file1Filter);
  assertEquals(file1,result.get(0).getPath());
  verifyListLocatedStatus(xfs,0,file1,NO_PATHS);
  verifyListLocatedStatus(xfs,1,file1,ALL_PATHS);
  assertEquals(file1,result.get(0).getPath());
  verifyListLocatedStatus(xfs,1,file1,file1Filter);
  assertEquals(file1,result.get(0).getPath());
  verifyListLocatedStatusNextCalls(xfs,1,file1,file1Filter);
  Path subdir=path("subdir");
  mkdirs(subdir);
  verifyListLocatedStatus(xfs,0,subdir,NO_PATHS);
  verifyListLocatedStatus(xfs,0,subdir,ALL_PATHS);
  verifyListLocatedStatusNextCalls(xfs,0,subdir,ALL_PATHS);
  verifyListLocatedStatus(xfs,0,subdir,new MatchesNameFilter("subdir"));
}
