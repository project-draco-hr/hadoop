{
  if (!"true".equalsIgnoreCase(System.getProperty("runningWithNative"))) {
    LOG.warn("Skipping since test was not run with -Pnative flag");
    Assume.assumeTrue(false);
  }
  if (!NativeCodeLoader.buildSupportsOpenssl()) {
    LOG.warn("Skipping test since openSSL library not loaded");
    Assume.assumeTrue(false);
  }
  Assert.assertEquals(null,OpensslCipher.getLoadingFailureReason());
  cryptoCodecTest(conf,seed,0,opensslCodecClass,opensslCodecClass);
  cryptoCodecTest(conf,seed,count,opensslCodecClass,opensslCodecClass);
  cryptoCodecTest(conf,seed,count,opensslCodecClass,jceCodecClass);
}
