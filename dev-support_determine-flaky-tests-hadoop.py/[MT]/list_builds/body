def list_builds(jenkins_url, job_name):
    global summary_mode
    url = ('%(jenkins)s/job/%(job_name)s/api/json?tree=builds[url,result,timestamp]' % dict(jenkins=jenkins_url, job_name=job_name))
    try:
        data = load_url_data(url)
    except:
        if (not summary_mode):
            logging.error(('Could not fetch: %s' % url))
        error_count += 1
        raise
    return data['builds']
