{
  ArrayList<String> fnames=new ArrayList<String>();
  Pattern pattern=Pattern.compile(patternStr);
  Matcher matcher;
  File f;
  for (  String fname : input) {
    f=new File(fname);
    if (f.exists()) {
      if (f.isDirectory()) {
        File[] fcs=f.listFiles();
        for (        File fc : fcs) {
          matcher=pattern.matcher(fc.getName());
          if (matcher.find() && fc.isFile())           fnames.add(fc.getAbsolutePath());
        }
      }
 else {
        fnames.add(f.getAbsolutePath());
      }
    }
  }
  return fnames.toArray(input);
}
