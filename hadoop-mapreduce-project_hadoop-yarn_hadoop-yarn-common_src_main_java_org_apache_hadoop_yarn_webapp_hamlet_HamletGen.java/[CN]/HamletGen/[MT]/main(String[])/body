{
  CommandLine cmd=new GnuParser().parse(opts,args);
  if (cmd.hasOption("help")) {
    new HelpFormatter().printHelp("Usage: hbgen [OPTIONS]",opts);
    return;
  }
  Class<?> specClass=HamletSpec.class;
  Class<?> implClass=HamletImpl.class;
  String outputClass="HamletTmp";
  String outputPackage=implClass.getPackage().getName();
  if (cmd.hasOption("spec-class")) {
    specClass=Class.forName(cmd.getOptionValue("spec-class"));
  }
  if (cmd.hasOption("impl-class")) {
    implClass=Class.forName(cmd.getOptionValue("impl-class"));
  }
  if (cmd.hasOption("output-class")) {
    outputClass=cmd.getOptionValue("output-class");
  }
  if (cmd.hasOption("output-package")) {
    outputPackage=cmd.getOptionValue("output-package");
  }
  new HamletGen().generate(specClass,implClass,outputClass,outputPackage);
}
