{
  MyFS dfs=(MyFS)FileSystem.get(conf);
  LOG.info("dfs=" + (Object)dfs.hashCode() + ";conf="+ conf.hashCode());
  MyToken token=dfs.getDelegationToken(new Text("user1"));
  token.cancelToken();
  Credentials ts=new Credentials();
  ts.addToken(token.getKind(),token);
  ApplicationId appId=BuilderUtils.newApplicationId(0,0);
  try {
    delegationTokenRenewer.addApplication(appId,ts,true);
    fail("App submission with a cancelled token should have failed");
  }
 catch (  InvalidToken e) {
  }
}
