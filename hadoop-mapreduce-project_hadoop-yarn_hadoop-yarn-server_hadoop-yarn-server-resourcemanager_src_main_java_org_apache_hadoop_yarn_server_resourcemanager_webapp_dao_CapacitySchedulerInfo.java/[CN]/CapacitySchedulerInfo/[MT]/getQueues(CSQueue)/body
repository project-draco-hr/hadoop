{
  CSQueue parentQueue=parent;
  ArrayList<CapacitySchedulerQueueInfo> queuesInfo=new ArrayList<CapacitySchedulerQueueInfo>();
  for (  CSQueue queue : parentQueue.getChildQueues()) {
    float usedCapacity=queue.getUsedCapacity() * 100;
    float capacity=queue.getCapacity() * 100;
    String queueName=queue.getQueueName();
    String queuePath=queue.getQueuePath();
    float max=queue.getMaximumCapacity();
    if (max < EPSILON || max > 1f)     max=1f;
    float maxCapacity=max * 100;
    String state=queue.getState().toString();
    CapacitySchedulerQueueInfo info=new CapacitySchedulerQueueInfo(capacity,usedCapacity,maxCapacity,queueName,state,queuePath);
    if (queue instanceof ParentQueue) {
      info.isParent=true;
      info.queue=queue;
      info.subQueues=getQueues(queue);
    }
    queuesInfo.add(info);
  }
  return queuesInfo;
}
