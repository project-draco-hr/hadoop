{
  int i=0;
  int exitCode=0;
  String cmd=argv[i++];
  String dest=argv[argv.length - 1];
  if (argv.length > 3) {
    Path dst=new Path(dest);
    FileSystem pFS=dst.getFileSystem(conf);
    if (!pFS.isDirectory(dst)) {
      throw new IOException("When copying multiple files, " + "destination " + dest + " should be a directory.");
    }
  }
  for (; i < argv.length - 1; i++) {
    try {
      copy(argv[i],dest,conf);
    }
 catch (    IOException e) {
      LOG.debug("Error copying " + argv[i],e);
      exitCode=-1;
      displayError(cmd,e);
    }
  }
  return exitCode;
}
