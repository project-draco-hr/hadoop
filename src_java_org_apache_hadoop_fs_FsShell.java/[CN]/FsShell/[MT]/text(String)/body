{
  Path srcPattern=new Path(srcf);
  new DelayedExceptionThrowing(){
    @Override void process(    Path p,    FileSystem srcFs) throws IOException {
      if (srcFs.isDirectory(p)) {
        throw new IOException("Source must be a file.");
      }
      printToStdout(forMagic(p,srcFs));
    }
  }
.globAndProcess(srcPattern,srcPattern.getFileSystem(getConf()));
}
