def __init__(self, versions):
    self.versions = versions
    resp = urllib.urlopen('https://issues.apache.org/jira/rest/api/2/field')
    data = json.loads(resp.read())
    self.fieldIdMap = {}
    for part in data:
        self.fieldIdMap[part['name']] = part['id']
    self.jiras = []
    at = 0
    end = 1
    count = 100
    while (at < end):
        params = urllib.urlencode({'jql': (("project in (HADOOP,HDFS,MAPREDUCE,YARN) and fixVersion in ('" + "' , '".join(versions)) + "') and resolution = Fixed"), 'startAt': at, 'maxResults': count, })
        resp = urllib.urlopen(('https://issues.apache.org/jira/rest/api/2/search?%s' % params))
        data = json.loads(resp.read())
        if data.has_key('errorMessages'):
            raise Exception(data['errorMessages'])
        at = (data['startAt'] + data['maxResults'])
        end = data['total']
        self.jiras.extend(data['issues'])
    self.iter = self.jiras.__iter__()
