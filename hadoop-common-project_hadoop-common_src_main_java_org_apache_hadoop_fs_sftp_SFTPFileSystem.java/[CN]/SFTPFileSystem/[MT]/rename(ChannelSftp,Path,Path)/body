{
  Path workDir;
  try {
    workDir=new Path(channel.pwd());
  }
 catch (  SftpException e) {
    throw new IOException(e);
  }
  Path absoluteSrc=makeAbsolute(workDir,src);
  Path absoluteDst=makeAbsolute(workDir,dst);
  if (!exists(channel,absoluteSrc)) {
    throw new IOException(String.format(E_SPATH_NOTEXIST,src));
  }
  if (exists(channel,absoluteDst)) {
    throw new IOException(String.format(E_DPATH_EXIST,dst));
  }
  boolean renamed=true;
  try {
    channel.cd("/");
    channel.rename(src.toUri().getPath(),dst.toUri().getPath());
  }
 catch (  SftpException e) {
    renamed=false;
  }
  return renamed;
}
