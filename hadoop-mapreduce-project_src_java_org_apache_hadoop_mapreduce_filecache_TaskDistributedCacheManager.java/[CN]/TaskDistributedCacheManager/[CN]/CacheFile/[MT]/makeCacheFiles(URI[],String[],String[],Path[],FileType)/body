{
  List<CacheFile> ret=new ArrayList<CacheFile>();
  if (uris != null) {
    if (uris.length != timestamps.length) {
      throw new IllegalArgumentException("Mismatched uris and timestamps.");
    }
    Map<String,Path> classPaths=new HashMap<String,Path>();
    if (paths != null) {
      for (      Path p : paths) {
        classPaths.put(p.toUri().getPath().toString(),p);
      }
    }
    for (int i=0; i < uris.length; ++i) {
      URI u=uris[i];
      boolean isClassPath=(null != classPaths.get(u.getPath()));
      long t=Long.parseLong(timestamps[i]);
      ret.add(new CacheFile(u,type,Boolean.valueOf(cacheVisibilities[i]),t,isClassPath));
    }
  }
  return ret;
}
