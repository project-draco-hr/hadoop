{
  LOG.info("Testing queued-job-kill");
  Path inDir=new Path(TEST_ROOT_DIR + "/jiplistenerqueuedjob/input");
  Path outDir=new Path(TEST_ROOT_DIR + "/jiplistener1ueuedjob/output");
  conf.setMapperClass(IdentityMapper.class);
  conf.setReducerClass(IdentityReducer.class);
  conf.setNumMapTasks(1);
  conf.setNumReduceTasks(0);
  RunningJob rJob=UtilsForTests.runJob(conf,inDir,outDir);
  JobID id=rJob.getID();
  LOG.info("Job : " + id.toString() + " submitted");
  assertTrue("Missing event notification on submiting a job",myListener.contains(id,true));
  LOG.info("Killing job : " + id.toString());
  rJob.killJob();
  assertEquals("Job status doesnt reflect the kill-job action",JobStatus.KILLED,rJob.getJobState());
  assertFalse("Missing event notification on killing a waiting job",myListener.contains(id,true));
}
