{
  try (FsVolumeReferences volumes=dataset.getFsVolumeReferences()){
    FsVolumeImpl volume=(FsVolumeImpl)volumes.get(0);
    ReplicaUnderRecovery rur=new ReplicaUnderRecovery(new FinalizedReplica(block.getLocalBlock(),volume,volume.getCurrentDir().getParentFile()),recoveryId);
    dataset.volumeMap.add(block.getBlockPoolId(),rur);
    return rur;
  }
 }
