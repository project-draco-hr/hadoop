{
  checkDirectory(dir);
  for (; ; ) {
    final File f=new File(dir,prefix + DATE_FORMAT.format(new Date(System.currentTimeMillis())) + ".txt");
    if (!f.exists())     return new PrintWriter(new FileWriter(f));
    try {
      Thread.sleep(10);
    }
 catch (    InterruptedException e) {
    }
  }
}
