{
  final UnreliableInterface unreliable=(UnreliableInterface)RetryProxy.create(UnreliableInterface.class,unreliableImpl,RETRY_FOREVER);
  assertTrue(RetryInvocationHandler.isRpcInvocation(unreliable));
  ProtocolTranslator xlator=new ProtocolTranslator(){
    int count=0;
    @Override public Object getUnderlyingProxyObject(){
      count++;
      return unreliable;
    }
    @Override public String toString(){
      return "" + count;
    }
  }
;
  assertTrue(RetryInvocationHandler.isRpcInvocation(xlator));
  assertEquals(xlator.toString(),"1");
  assertFalse(RetryInvocationHandler.isRpcInvocation(new Object()));
}
