{
  IOException e=null;
  try {
    StringTokenizer t=new StringTokenizer(execCommand(new File(getPath().toUri()),Shell.getGET_PERMISSION_COMMAND()));
    String permission=t.nextToken();
    if (permission.length() > 10) {
      permission=permission.substring(0,10);
    }
    setPermission(FsPermission.valueOf(permission));
    t.nextToken();
    setOwner(t.nextToken());
    setGroup(t.nextToken());
  }
 catch (  Shell.ExitCodeException ioe) {
    if (ioe.getExitCode() != 1) {
      e=ioe;
    }
 else {
      setPermission(null);
      setOwner(null);
      setGroup(null);
    }
  }
catch (  IOException ioe) {
    e=ioe;
  }
 finally {
    if (e != null) {
      throw new RuntimeException("Error while running command to get " + "file permissions : " + StringUtils.stringifyException(e));
    }
  }
}
