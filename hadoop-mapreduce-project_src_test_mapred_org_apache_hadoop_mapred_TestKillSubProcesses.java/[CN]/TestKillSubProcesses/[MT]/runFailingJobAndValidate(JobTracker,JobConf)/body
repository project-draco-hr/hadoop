{
  conf.setJobName("testfailjobsubprocesses");
  conf.setMapperClass(FailingMapperWithChildren.class);
  conf.setMaxMapAttempts(1);
  RunningJob job=runJobAndSetProcessHandle(jt,conf);
  signalTask(signalFile.toString(),conf);
  validateKillingSubprocesses(job,conf);
  assertEquals(job.getJobState(),JobStatus.FAILED);
}
