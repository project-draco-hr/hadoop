{
  long updateInterval=getServiceConfig().getLong(UPDATE_INTERVAL,DAY);
  long maxLifetime=getServiceConfig().getLong(MAX_LIFETIME,7 * DAY);
  long renewInterval=getServiceConfig().getLong(RENEW_INTERVAL,DAY);
  tokenKind=(HttpFSServerWebApp.get().isSslEnabled()) ? SWebHdfsFileSystem.TOKEN_KIND : WebHdfsFileSystem.TOKEN_KIND;
  secretManager=new DelegationTokenSecretManager(tokenKind,updateInterval,maxLifetime,renewInterval,HOUR);
  try {
    secretManager.startThreads();
  }
 catch (  IOException ex) {
    throw new ServiceException(ServiceException.ERROR.S12,DelegationTokenManager.class.getSimpleName(),ex.toString(),ex);
  }
}
