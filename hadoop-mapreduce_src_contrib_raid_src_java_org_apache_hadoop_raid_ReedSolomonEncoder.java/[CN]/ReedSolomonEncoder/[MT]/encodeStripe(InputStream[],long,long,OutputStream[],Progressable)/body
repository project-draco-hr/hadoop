{
  int[] data=new int[stripeSize];
  int[] code=new int[paritySize];
  for (long encoded=0; encoded < blockSize; encoded+=bufSize) {
    for (int i=0; i < blocks.length; i++) {
      RaidUtils.readTillEnd(blocks[i],readBufs[i],true);
    }
    for (int j=0; j < bufSize; j++) {
      performEncode(readBufs,writeBufs,j,data,code);
    }
    for (int i=0; i < paritySize; i++) {
      outs[i].write(writeBufs[i],0,bufSize);
    }
    if (reporter != null) {
      reporter.progress();
    }
  }
}
