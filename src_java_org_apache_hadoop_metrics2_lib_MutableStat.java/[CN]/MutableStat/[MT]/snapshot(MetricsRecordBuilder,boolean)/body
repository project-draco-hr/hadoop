{
  if (all || changed()) {
    numSamples+=intervalStat.numSamples();
    builder.addCounter(numInfo,numSamples).addGauge(avgInfo,lastStat().mean());
    if (extended) {
      builder.addGauge(stdevInfo,lastStat().stddev()).addGauge(iMinInfo,lastStat().min()).addGauge(iMaxInfo,lastStat().max()).addGauge(minInfo,minMax.min()).addGauge(maxInfo,minMax.max());
    }
    if (changed()) {
      if (numSamples > 0) {
        intervalStat.copyTo(prevStat);
        intervalStat.reset();
      }
      clearChanged();
    }
  }
}
