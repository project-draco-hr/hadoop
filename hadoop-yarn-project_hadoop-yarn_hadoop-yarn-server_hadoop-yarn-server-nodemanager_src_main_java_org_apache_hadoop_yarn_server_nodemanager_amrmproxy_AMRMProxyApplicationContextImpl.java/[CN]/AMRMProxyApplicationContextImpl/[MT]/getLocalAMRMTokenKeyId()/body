{
  Integer keyId=this.localTokenKeyId;
  if (keyId == null) {
    try {
      if (this.localToken == null) {
        throw new YarnRuntimeException("Missing AMRM token for " + this.applicationAttemptId);
      }
      keyId=this.amrmToken.decodeIdentifier().getKeyId();
      this.localTokenKeyId=keyId;
    }
 catch (    IOException e) {
      throw new YarnRuntimeException("AMRM token decode error for " + this.applicationAttemptId,e);
    }
  }
  return keyId;
}
