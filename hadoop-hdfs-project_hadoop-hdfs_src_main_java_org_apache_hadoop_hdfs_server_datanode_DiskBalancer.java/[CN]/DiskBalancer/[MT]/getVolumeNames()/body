{
  lock.lock();
  try {
    checkDiskBalancerEnabled();
    Map<String,String> pathMap=new HashMap<>();
    Map<String,FsVolumeSpi> volMap=getStorageIDToVolumeMap();
    for (    Map.Entry<String,FsVolumeSpi> entry : volMap.entrySet()) {
      pathMap.put(entry.getKey(),entry.getValue().getBasePath());
    }
    return JsonUtil.toJsonString(pathMap);
  }
 catch (  DiskBalancerException ex) {
    throw ex;
  }
catch (  IOException e) {
    throw new DiskBalancerException("Internal error, Unable to " + "create JSON string.",e,DiskBalancerException.Result.INTERNAL_ERROR);
  }
 finally {
    lock.unlock();
  }
}
