{
  lock.lock();
  try {
    checkDiskBalancerEnabled();
    Map<String,String> pathMap=new HashMap<>();
    Map<String,FsVolumeSpi> volMap=getStorageIDToVolumeMap();
    for (    Map.Entry<String,FsVolumeSpi> entry : volMap.entrySet()) {
      pathMap.put(entry.getKey(),entry.getValue().getBasePath());
    }
    ObjectMapper mapper=new ObjectMapper();
    return mapper.writeValueAsString(pathMap);
  }
 catch (  IOException e) {
    throw new DiskBalancerException("Internal error, Unable to " + "create JSON string.",e,DiskBalancerException.Result.INTERNAL_ERROR);
  }
 finally {
    lock.unlock();
  }
}
