{
  this.nnAddress=nnAddr;
  this.listener=listener;
  this.internalRpcServer=true;
  this.namenode=NameNodeProxies.createNonHAProxy(conf,nnAddr,NamenodeProtocol.class,UserGroupInformation.getCurrentUser(),true).getProxy();
  initRpcServer(conf,serverAddress);
  String addr=NetUtils.getHostPortString(rpcServer.getListenerAddress());
  StorageInfo storage=new StorageInfo(LayoutVersion.getCurrentLayoutVersion(),0,"",0);
  registration=new NamenodeRegistration(addr,"",storage,NamenodeRole.BACKUP);
}
