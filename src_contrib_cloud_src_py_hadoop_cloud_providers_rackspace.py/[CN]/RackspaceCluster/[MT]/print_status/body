def print_status(self, roles=None, state_filter='running', out=sys.stdout):
    if (not roles):
        for node in self._get_nodes(state_filter):
            self._print_node(node, out)
    else:
        for role in roles:
            for node in self._get_nodes_in_role(role, state_filter):
                self._print_node(node, out)
