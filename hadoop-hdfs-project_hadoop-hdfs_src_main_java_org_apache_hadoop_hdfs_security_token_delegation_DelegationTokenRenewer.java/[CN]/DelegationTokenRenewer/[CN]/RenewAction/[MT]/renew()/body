{
  final T fs=weakFs.get();
  final boolean b=fs != null;
  if (b) {
synchronized (fs) {
      try {
        fs.getRenewToken().renew(fs.getConf());
      }
 catch (      IOException ie) {
        try {
          fs.setDelegationToken(fs.getDelegationTokens(null).get(0));
        }
 catch (        IOException ie2) {
          throw new IOException("Can't renew or get new delegation token ",ie);
        }
      }
    }
  }
  return b;
}
