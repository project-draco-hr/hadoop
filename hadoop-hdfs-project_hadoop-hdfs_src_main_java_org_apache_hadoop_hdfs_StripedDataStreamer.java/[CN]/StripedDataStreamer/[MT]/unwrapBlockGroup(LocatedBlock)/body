{
  ExtendedBlock eb=firstBlockInGroup.getBlock();
  DatanodeInfo[] locs=firstBlockInGroup.getLocations();
  String[] storageIDs=firstBlockInGroup.getStorageIDs();
  StorageType[] storageTypes=firstBlockInGroup.getStorageTypes();
  Token<BlockTokenIdentifier> blockToken=firstBlockInGroup.getBlockToken();
  LocatedBlock[] blocksInGroup=new LocatedBlock[locs.length];
  for (int i=0; i < blocksInGroup.length; i++) {
    ExtendedBlock extendedBlock=new ExtendedBlock(eb.getBlockPoolId(),eb.getBlockId() + i,eb.getNumBytes(),eb.getGenerationStamp());
    blocksInGroup[i]=new LocatedBlock(extendedBlock,new DatanodeInfo[]{locs[i]},new String[]{storageIDs[i]},new StorageType[]{storageTypes[i]});
    blocksInGroup[i].setBlockToken(blockToken);
  }
  return blocksInGroup;
}
