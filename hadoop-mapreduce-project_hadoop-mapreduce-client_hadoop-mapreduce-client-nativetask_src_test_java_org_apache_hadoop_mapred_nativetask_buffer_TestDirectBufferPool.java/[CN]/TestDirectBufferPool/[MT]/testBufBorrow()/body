{
  final DirectBufferPool bufferPool=DirectBufferPool.getInstance();
  ByteBuffer b1=bufferPool.borrowBuffer(100);
  assertTrue(b1.isDirect());
  assertEquals(0,b1.position());
  assertEquals(100,b1.capacity());
  bufferPool.returnBuffer(b1);
  ByteBuffer b2=bufferPool.borrowBuffer(100);
  assertTrue(b2.isDirect());
  assertEquals(0,b2.position());
  assertEquals(100,b2.capacity());
  assertSame(b1,b2);
  ByteBuffer b3=bufferPool.borrowBuffer(100);
  assertTrue(b3.isDirect());
  assertEquals(0,b3.position());
  assertEquals(100,b3.capacity());
  assertNotSame(b2,b3);
  bufferPool.returnBuffer(b2);
  bufferPool.returnBuffer(b3);
}
