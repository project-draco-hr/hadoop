{
  final DirectBufferPool bufferPool=DirectBufferPool.getInstance();
  ByteBuffer b1=bufferPool.borrowBuffer(100);
  assertTrue(b1.isDirect());
  assertEquals(0,b1.position());
  assertEquals(100,b1.capacity());
  b1.putInt(1);
  assertEquals(4,b1.position());
  bufferPool.returnBuffer(b1);
  ByteBuffer b2=bufferPool.borrowBuffer(100);
  assertSame(b1,b2);
  assertTrue(b2.isDirect());
  assertEquals(0,b2.position());
  assertEquals(100,b2.capacity());
}
