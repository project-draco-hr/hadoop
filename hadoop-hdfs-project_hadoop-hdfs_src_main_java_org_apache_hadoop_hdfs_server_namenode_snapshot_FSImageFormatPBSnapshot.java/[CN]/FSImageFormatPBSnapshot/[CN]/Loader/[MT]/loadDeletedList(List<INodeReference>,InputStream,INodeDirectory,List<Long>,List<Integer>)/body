{
  List<INode> dlist=new ArrayList<INode>(deletedRefNodes.size() + deletedNodes.size());
  for (  long deletedId : deletedNodes) {
    INode deleted=fsDir.getInode(deletedId);
    dlist.add(deleted);
    addToDeletedList(deleted,dir);
  }
  for (  int refId : deletedRefNodes) {
    INodeReference deletedRef=refList.get(refId);
    dlist.add(deletedRef);
    addToDeletedList(deletedRef,dir);
  }
  Collections.sort(dlist,new Comparator<INode>(){
    @Override public int compare(    INode n1,    INode n2){
      return n1.compareTo(n2.getLocalNameBytes());
    }
  }
);
  return dlist;
}
