{
  Preconditions.checkArgument(appHostName != null,"The host name should not be null");
  Preconditions.checkArgument(appHostPort >= -1,"Port number of the host" + " should be any integers larger than or equal to -1");
  RegisterApplicationMasterRequest request=RegisterApplicationMasterRequest.newInstance(appHostName,appHostPort,appTrackingUrl);
  RegisterApplicationMasterResponse response=rmClient.registerApplicationMaster(request);
synchronized (this) {
    if (!response.getNMTokensFromPreviousAttempts().isEmpty()) {
      populateNMTokens(response.getNMTokensFromPreviousAttempts());
    }
  }
  return response;
}
