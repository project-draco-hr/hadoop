{
  RemoteRequestsTable<T> remoteRequestsTable=getTable(allocationReqId);
  if (remoteRequestsTable != null) {
    @SuppressWarnings("unchecked") List<ResourceRequestInfo> allCapabilityMaps=remoteRequestsTable.getAllResourceRequestInfos(priority,locations);
    for (    ResourceRequestInfo reqs : allCapabilityMaps) {
      ResourceRequest remoteRequest=reqs.remoteRequest;
      boolean existingRelaxLocality=remoteRequest.getRelaxLocality();
      if (relaxLocality != existingRelaxLocality) {
        throw new InvalidContainerRequestException("Cannot submit a " + "ContainerRequest asking for location " + remoteRequest.getResourceName() + " with locality relaxation "+ relaxLocality+ " when it has already been requested"+ "with locality relaxation "+ existingRelaxLocality);
      }
    }
  }
}
