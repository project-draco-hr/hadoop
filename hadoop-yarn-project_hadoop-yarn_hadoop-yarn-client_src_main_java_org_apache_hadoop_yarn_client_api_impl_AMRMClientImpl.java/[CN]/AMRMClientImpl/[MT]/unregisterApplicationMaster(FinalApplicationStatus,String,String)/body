{
  Preconditions.checkArgument(appStatus != null,"AppStatus should not be null.");
  FinishApplicationMasterRequest request=recordFactory.newRecordInstance(FinishApplicationMasterRequest.class);
  request.setAppAttemptId(appAttemptId);
  request.setFinalApplicationStatus(appStatus);
  if (appMessage != null) {
    request.setDiagnostics(appMessage);
  }
  if (appTrackingUrl != null) {
    request.setTrackingUrl(appTrackingUrl);
  }
  rmClient.finishApplicationMaster(request);
}
