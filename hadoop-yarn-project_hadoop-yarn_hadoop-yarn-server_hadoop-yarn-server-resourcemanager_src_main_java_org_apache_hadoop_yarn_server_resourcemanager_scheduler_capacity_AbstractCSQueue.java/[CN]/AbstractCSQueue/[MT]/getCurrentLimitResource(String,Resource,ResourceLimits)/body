{
  Resource queueMaxResource=Resources.multiplyAndNormalizeDown(resourceCalculator,labelManager.getResourceByLabel(nodeLabel,clusterResource),queueCapacities.getAbsoluteMaximumCapacity(nodeLabel),minimumAllocation);
  if (nodeLabel.equals(RMNodeLabelsManager.NO_LABEL)) {
    return Resources.min(resourceCalculator,clusterResource,queueMaxResource,currentResourceLimits.getLimit());
  }
  return queueMaxResource;
}
