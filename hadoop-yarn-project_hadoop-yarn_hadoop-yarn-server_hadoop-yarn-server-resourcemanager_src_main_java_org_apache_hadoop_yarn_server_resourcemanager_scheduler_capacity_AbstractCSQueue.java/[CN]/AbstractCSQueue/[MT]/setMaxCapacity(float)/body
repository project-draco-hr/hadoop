{
  try {
    writeLock.lock();
    CSQueueUtils.checkMaxCapacity(getQueueName(),queueCapacities.getCapacity(),maximumCapacity);
    float absMaxCapacity=CSQueueUtils.computeAbsoluteMaximumCapacity(maximumCapacity,parent);
    CSQueueUtils.checkAbsoluteCapacity(getQueueName(),queueCapacities.getAbsoluteCapacity(),absMaxCapacity);
    queueCapacities.setMaximumCapacity(maximumCapacity);
    queueCapacities.setAbsoluteMaximumCapacity(absMaxCapacity);
  }
  finally {
    writeLock.unlock();
  }
}
