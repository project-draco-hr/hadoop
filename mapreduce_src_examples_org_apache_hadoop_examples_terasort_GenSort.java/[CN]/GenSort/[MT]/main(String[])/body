{
  Unsigned16 startingRecord=new Unsigned16();
  Unsigned16 numberOfRecords;
  OutputStream out;
  boolean useAscii=false;
  Unsigned16 checksum=null;
  int i;
  for (i=0; i < args.length; ++i) {
    String arg=args[i];
    int argLength=arg.length();
    if (argLength >= 1 && arg.charAt(0) == '-') {
      if (argLength < 2) {
        usage();
      }
switch (arg.charAt(1)) {
case 'a':
        useAscii=true;
      break;
case 'b':
    startingRecord=Unsigned16.fromDecimal(arg.substring(2));
  break;
case 'c':
checksum=new Unsigned16();
break;
default :
usage();
}
}
 else {
break;
}
}
if (args.length - i != 2) {
usage();
}
numberOfRecords=Unsigned16.fromDecimal(args[i]);
out=new FileOutputStream(args[i + 1]);
outputRecords(out,useAscii,startingRecord,numberOfRecords,checksum);
out.close();
if (checksum != null) {
System.out.println(checksum);
}
}
