{
  GetTimelineCollectorContextRequest request=GetTimelineCollectorContextRequest.newInstance(appId);
  LOG.info("Get timeline collector context for " + appId);
  GetTimelineCollectorContextResponse response=nmCollectorService.getTimelineCollectorContext(request);
  String userId=response.getUserId();
  if (userId != null && !userId.isEmpty()) {
    collector.getTimelineEntityContext().setUserId(userId);
  }
  String flowId=response.getFlowId();
  if (flowId != null && !flowId.isEmpty()) {
    collector.getTimelineEntityContext().setFlowId(flowId);
  }
  String flowRunId=response.getFlowRunId();
  if (flowRunId != null && !flowRunId.isEmpty()) {
    collector.getTimelineEntityContext().setFlowRunId(flowRunId);
  }
}
