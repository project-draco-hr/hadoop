{
  BlockIdManager bid=mock(BlockIdManager.class);
  final long nextGenerationStampV1=5000;
  final long nextGenerationStampV2=20000;
  when(bid.getNextGenerationStampV1()).thenReturn(nextGenerationStampV1);
  when(bid.getNextGenerationStampV2()).thenReturn(nextGenerationStampV2);
  when(bid.nextGenerationStamp(anyBoolean())).thenCallRealMethod();
  assertThat(bid.nextGenerationStamp(true),is(nextGenerationStampV1));
  assertThat(bid.nextGenerationStamp(false),is(nextGenerationStampV2));
}
