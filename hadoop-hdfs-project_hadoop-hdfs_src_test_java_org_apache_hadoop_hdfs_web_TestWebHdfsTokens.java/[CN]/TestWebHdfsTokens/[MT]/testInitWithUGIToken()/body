{
  WebHdfsFileSystem fs=spy(new WebHdfsFileSystem());
  Token<DelegationTokenIdentifier> token=mock(Token.class);
  doReturn(token).when(fs).selectDelegationToken(ugi);
  doReturn(null).when(fs).getDelegationToken(anyString());
  doNothing().when(fs).addRenewAction(any(WebHdfsFileSystem.class));
  fs.initialize(URI.create("webhdfs://127.0.0.1:0"),conf);
  verify(fs).initDelegationToken();
  verify(fs).selectDelegationToken(ugi);
  verify(fs).setDelegationToken(token);
  verify(fs,never()).getDelegationToken();
  verify(fs,never()).getDelegationToken(anyString());
  verify(fs,never()).addRenewAction(fs);
}
