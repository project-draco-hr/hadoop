{
  StorageDirectory sd=getStorageDir(nextIndex);
  prevIndex=nextIndex;
  nextIndex++;
  if (dirType != null || !includeShared) {
    while (nextIndex < storageDirs.size()) {
      if (shouldReturnNextDir())       break;
      nextIndex++;
    }
  }
  return sd;
}
