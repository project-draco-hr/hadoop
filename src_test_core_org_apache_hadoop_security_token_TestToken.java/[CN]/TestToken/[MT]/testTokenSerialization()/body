{
  Token<TokenIdentifier> sourceToken=new Token<TokenIdentifier>();
  sourceToken.setService(new Text("service"));
  DataOutputBuffer out=new DataOutputBuffer();
  sourceToken.write(out);
  DataInputBuffer in=new DataInputBuffer();
  in.reset(out.getData(),out.getLength());
  Token<TokenIdentifier> destToken=new Token<TokenIdentifier>();
  destToken.readFields(in);
  assertTrue(checkEqual(sourceToken,destToken));
}
