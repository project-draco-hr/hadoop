{
  PrintWriter pw=null;
  String commandFile=directory + File.separator + COMMAND_FILE;
  LOG.info("Writing commands to " + commandFile);
  LOG.info("--------Commands Begin--------");
  LOG.info(cmdLine);
  LOG.info("--------Commands End--------");
  try {
    FileWriter fw=new FileWriter(commandFile);
    BufferedWriter bw=new BufferedWriter(fw);
    pw=new PrintWriter(bw);
    pw.write(cmdLine);
  }
 catch (  IOException ioe) {
    LOG.error("Caught IOException while writing JVM command line to file. " + ioe.getMessage());
  }
 finally {
    if (pw != null) {
      pw.close();
    }
    File f=new File(commandFile);
    if (f.exists()) {
      f.setReadable(true,false);
      f.setExecutable(true,false);
    }
  }
}
