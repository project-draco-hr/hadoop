{
  int start=0;
  while (CharMatcher.WHITESPACE.matches(pathSpec.charAt(start))) {
    ++start;
  }
  if (pathSpec.charAt(start) != '/') {
    throw new WebAppException("Path spec syntax error: " + pathSpec);
  }
  int ci=pathSpec.indexOf(':');
  if (ci == -1) {
    ci=pathSpec.length();
  }
  if (ci == 1) {
    return "/";
  }
  char c;
  do {
    c=pathSpec.charAt(--ci);
  }
 while (c == '/' || CharMatcher.WHITESPACE.matches(c));
  return pathSpec.substring(start,ci + 1);
}
