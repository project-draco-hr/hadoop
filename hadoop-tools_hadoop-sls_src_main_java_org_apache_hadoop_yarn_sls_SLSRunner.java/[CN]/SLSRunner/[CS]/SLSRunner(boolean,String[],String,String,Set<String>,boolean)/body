{
  this.isSLS=isSLS;
  this.inputTraces=inputTraces.clone();
  this.nodeFile=nodeFile;
  this.trackedApps=trackedApps;
  this.printSimulation=printsimulation;
  metricsOutputDir=outputDir;
  nmMap=new HashMap<NodeId,NMSimulator>();
  queueAppNumMap=new HashMap<String,Integer>();
  amMap=new HashMap<String,AMSimulator>();
  amClassMap=new HashMap<String,Class>();
  conf=new Configuration(false);
  conf.addResource("sls-runner.xml");
  int poolSize=conf.getInt(SLSConfiguration.RUNNER_POOL_SIZE,SLSConfiguration.RUNNER_POOL_SIZE_DEFAULT);
  SLSRunner.runner.setQueueSize(poolSize);
  for (  Map.Entry e : conf) {
    String key=e.getKey().toString();
    if (key.startsWith(SLSConfiguration.AM_TYPE)) {
      String amType=key.substring(SLSConfiguration.AM_TYPE.length());
      amClassMap.put(amType,Class.forName(conf.get(key)));
    }
  }
}
