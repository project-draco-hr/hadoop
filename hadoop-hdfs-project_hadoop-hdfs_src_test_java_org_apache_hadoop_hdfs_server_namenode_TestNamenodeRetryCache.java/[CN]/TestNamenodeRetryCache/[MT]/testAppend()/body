{
  String src="/testNamenodeRetryCache/testAppend/src";
  resetCall();
  DFSTestUtil.createFile(filesystem,new Path(src),128,(short)1,0L);
  newCall();
  LastBlockWithStatus b=nnRpc.append(src,"holder");
  Assert.assertEquals(b,nnRpc.append(src,"holder"));
  Assert.assertEquals(b,nnRpc.append(src,"holder"));
  newCall();
  try {
    nnRpc.append(src,"holder");
    Assert.fail("testAppend - expected exception is not thrown");
  }
 catch (  Exception e) {
  }
}
