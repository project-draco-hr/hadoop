{
  if (Resources.lessThanOrEqual(resourceCalculator,lastClusterResource,lastClusterResource,Resources.none())) {
    return absoluteCapacity;
  }
  Resource resourceRespectLabels=labelManager == null ? lastClusterResource : labelManager.getQueueResource(queueName,accessibleLabels,lastClusterResource);
  float absActualCapacity=Resources.divide(resourceCalculator,lastClusterResource,resourceRespectLabels,lastClusterResource);
  return absActualCapacity > absoluteCapacity ? absoluteCapacity : absActualCapacity;
}
