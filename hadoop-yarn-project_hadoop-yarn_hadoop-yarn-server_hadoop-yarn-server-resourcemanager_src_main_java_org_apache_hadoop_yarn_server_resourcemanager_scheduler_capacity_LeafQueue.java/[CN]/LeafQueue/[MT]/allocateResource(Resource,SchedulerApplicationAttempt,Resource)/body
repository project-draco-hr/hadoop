{
  Resources.addTo(usedResources,resource);
  CSQueueUtils.updateQueueStatistics(resourceCalculator,this,getParent(),clusterResource,minimumAllocation);
  ++numContainers;
  String userName=application.getUser();
  User user=getUser(userName);
  user.assignContainer(resource);
  Resources.subtractFrom(application.getHeadroom(),resource);
  metrics.setAvailableResourcesToUser(userName,application.getHeadroom());
  if (LOG.isDebugEnabled()) {
    LOG.info(getQueueName() + " user=" + userName+ " used="+ usedResources+ " numContainers="+ numContainers+ " headroom = "+ application.getHeadroom()+ " user-resources="+ user.getConsumedResources());
  }
}
