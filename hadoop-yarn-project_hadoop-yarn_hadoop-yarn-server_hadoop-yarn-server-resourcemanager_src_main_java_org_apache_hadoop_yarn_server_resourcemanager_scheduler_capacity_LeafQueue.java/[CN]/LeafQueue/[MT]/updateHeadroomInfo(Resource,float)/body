{
  Resource queueMaxCap=Resources.multiplyAndNormalizeDown(resourceCalculator,clusterResource,absoluteMaxAvailCapacity,minimumAllocation);
synchronized (queueHeadroomInfo) {
    queueHeadroomInfo.setQueueMaxCap(queueMaxCap);
    queueHeadroomInfo.setClusterResource(clusterResource);
  }
  return queueMaxCap;
}
