{
synchronized (this) {
    User user=getUser(userName);
    addApplicationAttempt(application,user);
  }
  int attemptId=application.getApplicationAttemptId().getAttemptId();
  metrics.submitApp(userName,attemptId);
  getParent().submitApplicationAttempt(application,userName);
}
