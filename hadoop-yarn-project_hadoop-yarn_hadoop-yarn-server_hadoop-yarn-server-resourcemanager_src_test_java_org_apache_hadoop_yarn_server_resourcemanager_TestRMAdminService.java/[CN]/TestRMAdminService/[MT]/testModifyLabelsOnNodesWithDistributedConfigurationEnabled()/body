{
  MockRM rm=new MockRM();
  rm.adminService.isDistributedNodeLabelConfiguration=true;
  ((RMContextImpl)rm.getRMContext()).setHAServiceState(HAServiceState.ACTIVE);
  RMNodeLabelsManager labelMgr=rm.rmContext.getNodeLabelManager();
  labelMgr.addToCluserNodeLabelsWithDefaultExclusivity(ImmutableSet.of("x","y"));
  rm.adminService.replaceLabelsOnNode(ReplaceLabelsOnNodeRequest.newInstance(ImmutableMap.of(NodeId.newInstance("host",0),(Set<String>)ImmutableSet.of("x"))));
  rm.close();
}
