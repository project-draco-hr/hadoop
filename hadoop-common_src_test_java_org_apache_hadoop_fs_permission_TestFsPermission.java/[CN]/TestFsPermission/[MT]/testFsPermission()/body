{
  String symbolic="-rwxrwxrwx";
  StringBuilder b=new StringBuilder("-123456789");
  for (int i=0; i < (1 << 9); i++) {
    for (int j=1; j < 10; j++) {
      b.setCharAt(j,'-');
    }
    String binary=Integer.toBinaryString(i);
    int len=binary.length();
    for (int j=0; j < len; j++) {
      if (binary.charAt(j) == '1') {
        int k=9 - (len - 1 - j);
        b.setCharAt(k,symbolic.charAt(k));
      }
    }
    assertEquals(i,FsPermission.valueOf(b.toString()).toShort());
  }
}
