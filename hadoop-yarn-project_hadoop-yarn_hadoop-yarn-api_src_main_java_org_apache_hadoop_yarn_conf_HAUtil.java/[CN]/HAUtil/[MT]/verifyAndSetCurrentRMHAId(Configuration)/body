{
  String rmId=conf.getTrimmed(YarnConfiguration.RM_HA_ID);
  if (rmId == null) {
    throwBadConfigurationException(getNeedToSetValueMessage(YarnConfiguration.RM_HA_ID));
  }
 else {
    Collection<String> ids=getRMHAIds(conf);
    if (!ids.contains(rmId)) {
      throwBadConfigurationException(getRMHAIdNeedToBeIncludedMessage(ids.toString(),rmId));
    }
  }
  conf.set(YarnConfiguration.RM_HA_ID,rmId);
}
