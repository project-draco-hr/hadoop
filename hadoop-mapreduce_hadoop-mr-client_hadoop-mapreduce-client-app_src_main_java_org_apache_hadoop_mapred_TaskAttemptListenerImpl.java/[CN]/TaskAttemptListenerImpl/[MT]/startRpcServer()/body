{
  Configuration conf=getConfig();
  try {
    server=RPC.getServer(TaskUmbilicalProtocol.class,this,"0.0.0.0",0,conf.getInt(AMConstants.AM_TASK_LISTENER_THREADS,AMConstants.DEFAULT_AM_TASK_LISTENER_THREADS),false,conf,jobTokenSecretManager);
    server.start();
    InetSocketAddress listenerAddress=server.getListenerAddress();
    this.address=NetUtils.createSocketAddr(listenerAddress.getAddress().getLocalHost().getCanonicalHostName() + ":" + listenerAddress.getPort());
  }
 catch (  IOException e) {
    throw new YarnException(e);
  }
}
