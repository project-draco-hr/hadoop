{
  FileSystem localFs=FileSystem.getLocal(conf);
  File tmpFile=new File(testDir,"tokenCacheFile");
  if (tmpFile.exists()) {
    tmpFile.delete();
  }
  String[] args=new String[2];
  args[0]="-tokenCacheFile";
  args[1]=tmpFile.toString();
  Throwable th=null;
  try {
    new GenericOptionsParser(conf,args);
  }
 catch (  Exception e) {
    th=e;
  }
  assertNotNull(th);
  assertTrue("FileNotFoundException is not thrown",th instanceof FileNotFoundException);
  Path tmpPath=new Path(tmpFile.toString());
  localFs.create(tmpPath);
  new GenericOptionsParser(conf,args);
  String fileName=conf.get("mapreduce.job.credentials.json");
  assertNotNull("files is null",fileName);
  assertEquals("files option does not match",localFs.makeQualified(tmpPath).toString(),fileName);
  localFs.delete(new Path(testDir.getAbsolutePath()),true);
}
