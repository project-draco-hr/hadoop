{
  init(res);
  try {
    return timelineDataManager.getEntities(parseStr(entityType),parsePairStr(primaryFilter,":"),parsePairsStr(secondaryFilter,",",":"),parseLongStr(windowStart),parseLongStr(windowEnd),parseStr(fromId),parseLongStr(fromTs),parseLongStr(limit),parseFieldsStr(fields,","),getUser(req));
  }
 catch (  NumberFormatException e) {
    throw new BadRequestException("windowStart, windowEnd or limit is not a numeric value.");
  }
catch (  IllegalArgumentException e) {
    throw new BadRequestException("requested invalid field.");
  }
catch (  Exception e) {
    LOG.error("Error getting entities",e);
    throw new WebApplicationException(e,Response.Status.INTERNAL_SERVER_ERROR);
  }
}
