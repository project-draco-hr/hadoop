{
  try {
    Mac mac=Mac.getInstance("HmacSHA1");
    mac.init(new SecretKeySpec(key.getKey().getBytes(),"HmacSHA1"));
    key.setMac(mac);
  }
 catch (  GeneralSecurityException e) {
    throw (IOException)new IOException("Failed to initialize Mac for access key, keyID=" + key.getKeyID()).initCause(e);
  }
}
