{
  NavigableMap<String,NavigableMap<Long,Number>> metricsResult=EntityColumnPrefix.METRIC.readResultsWithTimestamps(result);
  for (  Map.Entry<String,NavigableMap<Long,Number>> metricResult : metricsResult.entrySet()) {
    TimelineMetric metric=new TimelineMetric();
    metric.setId(metricResult.getKey());
    metric.setType(metricResult.getValue().size() > 1 ? TimelineMetric.Type.TIME_SERIES : TimelineMetric.Type.SINGLE_VALUE);
    metric.addValues(metricResult.getValue());
    entity.addMetric(metric);
  }
}
