{
  StringBuilder html=new StringBuilder();
  String id="select" + lastId++;
  html.append("<select id=\"" + id + "\" name=\""+ id+ "\" "+ "onchange=\"window.location = '"+ submitUrl+ "'.replace('<CHOICE>', document.getElementById('"+ id+ "').value);\">\n");
  for (  String choice : choices) {
    html.append(String.format("<option value=\"%s\"%s>%s</option>\n",choice,(choice.equals(selectedChoice) ? " selected" : ""),choice));
  }
  html.append("</select>\n");
  return html.toString();
}
