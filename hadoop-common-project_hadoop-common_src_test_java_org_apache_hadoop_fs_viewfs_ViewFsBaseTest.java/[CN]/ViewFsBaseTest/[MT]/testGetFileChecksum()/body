{
  AbstractFileSystem mockAFS=Mockito.mock(AbstractFileSystem.class);
  InodeTree.ResolveResult<AbstractFileSystem> res=new InodeTree.ResolveResult<AbstractFileSystem>(null,mockAFS,null,new Path("someFile"));
  @SuppressWarnings("unchecked") InodeTree<AbstractFileSystem> fsState=Mockito.mock(InodeTree.class);
  Mockito.when(fsState.resolve(Mockito.anyString(),Mockito.anyBoolean())).thenReturn(res);
  ViewFs vfs=Mockito.mock(ViewFs.class);
  vfs.fsState=fsState;
  Mockito.when(vfs.getFileChecksum(new Path("/tmp/someFile"))).thenCallRealMethod();
  vfs.getFileChecksum(new Path("/tmp/someFile"));
  Mockito.verify(mockAFS).getFileChecksum(new Path("someFile"));
}
