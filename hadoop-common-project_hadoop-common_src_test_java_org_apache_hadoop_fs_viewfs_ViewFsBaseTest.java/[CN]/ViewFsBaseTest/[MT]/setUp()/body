{
  initializeTargetTestRoot();
  fcTarget.mkdir(new Path(targetTestRoot,"user"),FileContext.DEFAULT_PERM,true);
  fcTarget.mkdir(new Path(targetTestRoot,"data"),FileContext.DEFAULT_PERM,true);
  fcTarget.mkdir(new Path(targetTestRoot,"dir2"),FileContext.DEFAULT_PERM,true);
  fcTarget.mkdir(new Path(targetTestRoot,"dir3"),FileContext.DEFAULT_PERM,true);
  FileContextTestHelper.createFile(fcTarget,new Path(targetTestRoot,"aFile"));
  conf=new Configuration();
  ConfigUtil.addLink(conf,"/targetRoot",targetTestRoot.toUri());
  ConfigUtil.addLink(conf,"/user",new Path(targetTestRoot,"user").toUri());
  ConfigUtil.addLink(conf,"/user2",new Path(targetTestRoot,"user").toUri());
  ConfigUtil.addLink(conf,"/data",new Path(targetTestRoot,"data").toUri());
  ConfigUtil.addLink(conf,"/internalDir/linkToDir2",new Path(targetTestRoot,"dir2").toUri());
  ConfigUtil.addLink(conf,"/internalDir/internalDir2/linkToDir3",new Path(targetTestRoot,"dir3").toUri());
  ConfigUtil.addLink(conf,"/danglingLink",new Path(targetTestRoot,"missingTarget").toUri());
  ConfigUtil.addLink(conf,"/linkToAFile",new Path(targetTestRoot,"aFile").toUri());
  fcView=FileContext.getFileContext(FsConstants.VIEWFS_URI,conf);
}
