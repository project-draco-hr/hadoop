{
  final Path bar=new Path("/foo/bar");
  dfs.mkdirs(bar);
  final Path file=new Path(bar,"file");
  DFSTestUtil.createFile(dfs,file,BLOCKSIZE,REPLICATION,0L);
  INode fileNode=fsdir.getINode4Write(file.toString());
  byte[][] pathComponents=FSDirectory.getPathComponentsWithSnapshot(fileNode);
  DFSTestUtil.checkComponentsEquals(INode.getPathComponents(file.toString()),pathComponents);
}
