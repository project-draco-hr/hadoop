{
  Check.notNull(status,"status");
  if (status.settable) {
    if (status != this.status) {
      Status oldStatus=this.status;
      this.status=status;
      for (      Service service : services.values()) {
        try {
          service.serverStatusChange(oldStatus,status);
        }
 catch (        Exception ex) {
          log.error("Service [{}] exception during status change to [{}] -server shutting down-,  {}",new Object[]{service.getInterface().getSimpleName(),status,ex.getMessage(),ex});
          destroy();
          throw new ServerException(ServerException.ERROR.S11,service.getInterface().getSimpleName(),status,ex.getMessage(),ex);
        }
      }
    }
  }
 else {
    throw new IllegalArgumentException("Status [" + status + " is not settable");
  }
}
