{
  ServiceStateChangeListener[] callbacks;
synchronized (this) {
    callbacks=listeners.toArray(new ServiceStateChangeListener[listeners.size()]);
  }
  for (  ServiceStateChangeListener l : callbacks) {
    l.stateChanged(service);
  }
}
