{
  super();
  errors=new HashMap<>();
  warnings=new HashMap<>();
  errorsTimestampCount=new TreeMap<>();
  warningsTimestampCount=new TreeMap<>();
  errorsPurgeInformation=new TreeSet<>();
  warningsPurgeInformation=new TreeSet<>();
  cleanupTimer=new Timer();
  cleanupInterval=cleanupIntervalSeconds * 1000;
  cleanupTimer.schedule(new ErrorAndWarningsCleanup(),cleanupInterval);
  this.messageAgeLimitSeconds=messageAgeLimitSeconds;
  this.maxUniqueMessages=maxUniqueMessages;
  this.setName(LOG_METRICS_APPENDER);
  this.setThreshold(Level.WARN);
}
