{
  if (YarnConfiguration.timelineServiceV2Enabled(conf)) {
    this.registeredCollectors=new ConcurrentHashMap<>();
  }
  this.containerTokenSecretManager=containerTokenSecretManager;
  this.nmTokenSecretManager=nmTokenSecretManager;
  this.dirsHandler=dirsHandler;
  this.aclsManager=aclsManager;
  this.nodeHealthStatus.setIsNodeHealthy(true);
  this.nodeHealthStatus.setHealthReport("Healthy");
  this.nodeHealthStatus.setLastHealthReportTime(System.currentTimeMillis());
  this.stateStore=stateStore;
  this.logAggregationReportForApps=new ConcurrentLinkedQueue<LogAggregationReport>();
  this.queuingContext=new QueuingNMContext();
  this.isDistSchedulingEnabled=isDistSchedulingEnabled;
  this.conf=conf;
}
