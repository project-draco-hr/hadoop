{
  new Thread(){
    @Override public void run(){
      try {
        LOG.info("Notifying ContainerManager to block new container-requests");
        containerManager.setBlockNewContainerRequests(true);
        LOG.info("Cleaning up running containers on resync");
        containerManager.cleanupContainersOnNMResync();
        ((NodeStatusUpdaterImpl)nodeStatusUpdater).rebootNodeStatusUpdater();
      }
 catch (      YarnRuntimeException e) {
        LOG.fatal("Error while rebooting NodeStatusUpdater.",e);
        shutDown();
      }
    }
  }
.start();
}
