{
  if (NodeStatusUpdaterImpl.class.getName().equals(service.getName()) && STATE.STOPPED.equals(service.getServiceState())) {
    boolean hasToReboot=((NodeStatusUpdaterImpl)service).hasToRebootNode();
    stop();
    if (hasToReboot) {
      LOG.info("Rebooting the node manager.");
      NodeManager nodeManager=createNewNodeManager();
      nodeManager.initAndStartNodeManager(this.getConfig(),hasToReboot);
    }
  }
}
