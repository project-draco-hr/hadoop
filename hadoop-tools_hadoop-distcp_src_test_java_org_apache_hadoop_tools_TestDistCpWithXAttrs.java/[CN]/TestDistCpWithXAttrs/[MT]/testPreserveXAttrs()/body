{
  assertRunDistCp(DistCpConstants.SUCCESS,"/dstPreserveXAttrs");
  Map<String,byte[]> xAttrs=Maps.newHashMap();
  xAttrs.put(name1,value1);
  xAttrs.put(name2,value2);
  assertXAttrs(dstDir1,xAttrs);
  xAttrs.clear();
  xAttrs.put(name1,value1);
  xAttrs.put(name3,new byte[0]);
  assertXAttrs(dstSubDir1,xAttrs);
  xAttrs.clear();
  xAttrs.put(name1,value1);
  xAttrs.put(name2,value2);
  xAttrs.put(name3,new byte[0]);
  assertXAttrs(dstFile1,xAttrs);
  xAttrs.clear();
  xAttrs.put(name2,value2);
  assertXAttrs(dstDir2,xAttrs);
  xAttrs.clear();
  xAttrs.put(name1,value1);
  xAttrs.put(name4,new byte[0]);
  assertXAttrs(dstFile2,xAttrs);
  xAttrs.clear();
  xAttrs.put(name3,new byte[0]);
  xAttrs.put(name4,new byte[0]);
  assertXAttrs(dstFile3,xAttrs);
  xAttrs.clear();
  assertXAttrs(dstFile4,xAttrs);
}
