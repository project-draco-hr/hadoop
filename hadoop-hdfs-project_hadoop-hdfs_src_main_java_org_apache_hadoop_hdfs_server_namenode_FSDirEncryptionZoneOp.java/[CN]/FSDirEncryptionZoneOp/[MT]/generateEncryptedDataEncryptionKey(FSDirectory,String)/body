{
  if (ezKeyName == null) {
    return null;
  }
  EncryptedKeyVersion edek=null;
  long generateEDEKStartTime=monotonicNow();
  try {
    edek=fsd.getProvider().generateEncryptedKey(ezKeyName);
  }
 catch (  GeneralSecurityException e) {
    throw new IOException(e);
  }
  long generateEDEKTime=monotonicNow() - generateEDEKStartTime;
  NameNode.getNameNodeMetrics().addGenerateEDEKTime(generateEDEKTime);
  Preconditions.checkNotNull(edek);
  return edek;
}
