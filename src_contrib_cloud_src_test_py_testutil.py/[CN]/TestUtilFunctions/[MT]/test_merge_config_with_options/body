def test_merge_config_with_options(self):
    options = {'a': 'b', }
    config = ConfigParser.ConfigParser()
    self.assertEqual({'a': 'b', }, merge_config_with_options('section', config, options))
    config.add_section('section')
    self.assertEqual({'a': 'b', }, merge_config_with_options('section', config, options))
    config.set('section', 'a', 'z')
    config.set('section', 'c', 'd')
    self.assertEqual({'a': 'z', 'c': 'd', }, merge_config_with_options('section', config, {}))
    self.assertEqual({'a': 'b', 'c': 'd', }, merge_config_with_options('section', config, options))
