{
  for (int i=0; i < 3; i++) {
    File journalDir=jnCluster.getJournalCluster().getJournalDir(i,"ns1");
    File currDir=new File(journalDir,"current");
    File prevDir=new File(journalDir,"previous");
    for (    String fileName : new String[]{Journal.LAST_PROMISED_FILENAME,Journal.LAST_WRITER_EPOCH}) {
      File prevFile=new File(prevDir,fileName);
      if (prevFile.exists()) {
        PersistentLongFile prevLongFile=new PersistentLongFile(prevFile,-10);
        PersistentLongFile currLongFile=new PersistentLongFile(new File(currDir,fileName),-11);
        assertTrue("Value in " + fileName + " has decreased on upgrade in "+ journalDir,prevLongFile.get() <= currLongFile.get());
      }
    }
  }
}
