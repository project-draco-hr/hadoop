{
  if (!Path.WINDOWS) {
    return;
  }
  File testFile=new File(TEST_DIR,"testfileaccess");
  assertTrue(testFile.createNewFile());
  FileUtil.setReadable(testFile,false);
  assertFalse(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_READ));
  FileUtil.setReadable(testFile,true);
  assertTrue(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_READ));
  FileUtil.setWritable(testFile,false);
  assertFalse(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_WRITE));
  FileUtil.setWritable(testFile,true);
  assertTrue(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_WRITE));
  FileUtil.setExecutable(testFile,false);
  assertFalse(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_EXECUTE));
  FileUtil.setExecutable(testFile,true);
  assertTrue(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_EXECUTE));
  String testFileRelativePath="";
  for (int i=0; i < 15; ++i) {
    testFileRelativePath+="testfileaccessfolder\\";
  }
  testFileRelativePath+="testfileaccess";
  testFile=new File(TEST_DIR,testFileRelativePath);
  assertTrue(testFile.getParentFile().mkdirs());
  assertTrue(testFile.createNewFile());
  FileUtil.setReadable(testFile,false);
  assertFalse(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_READ));
  FileUtil.setReadable(testFile,true);
  assertTrue(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_READ));
  FileUtil.setWritable(testFile,false);
  assertFalse(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_WRITE));
  FileUtil.setWritable(testFile,true);
  assertTrue(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_WRITE));
  FileUtil.setExecutable(testFile,false);
  assertFalse(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_EXECUTE));
  FileUtil.setExecutable(testFile,true);
  assertTrue(NativeIO.Windows.access(testFile.getAbsolutePath(),NativeIO.Windows.AccessRight.ACCESS_EXECUTE));
}
