{
  config=new Configuration();
  cluster=new MiniDFSCluster.Builder(config).numDataNodes(2).build();
  blockPoolId=cluster.getNamesystem().getBlockPoolId();
  hftpUri="hftp://" + config.get(DFSConfigKeys.DFS_NAMENODE_HTTP_ADDRESS_KEY);
  File base=new File(BASEDIR);
  FileUtil.fullyDelete(base);
  base.mkdirs();
  keystoresDir=new File(BASEDIR).getAbsolutePath();
  sslConfDir=KeyStoreTestUtil.getClasspathDir(TestHftpFileSystem.class);
  KeyStoreTestUtil.setupSSLConfig(keystoresDir,sslConfDir,config,false);
}
