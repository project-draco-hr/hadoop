{
  final Configuration conf=new Configuration();
  final FileSystem lfs=FileSystem.getLocal(conf);
  final Path rootInputDir=new Path(System.getProperty("src.test.data","data")).makeQualified(lfs.getUri(),lfs.getWorkingDirectory());
  final LoggedNetworkTopology topoWithIps=new ClusterTopologyReader(new Path(rootInputDir,"topo-with-numeric-ips.json"),conf).get();
  final LoggedNetworkTopology topoWithoutIps=new ClusterTopologyReader(new Path(rootInputDir,"topo-without-numeric-ips.json"),conf).get();
  try {
    topoWithIps.deepCompare(topoWithoutIps,new TreePath(null,"<root>"));
    Assert.fail("Expecting two topologies to differ");
  }
 catch (  DeepInequalityException e) {
  }
  SimulatorEngine.removeIpHosts(topoWithIps);
  try {
    topoWithIps.deepCompare(topoWithoutIps,new TreePath(null,"<root>"));
  }
 catch (  DeepInequalityException e) {
    Assert.fail("Expecting two topologies to be equal");
  }
}
