{
  int latest=NO_SNAPSHOT_ID;
  for (; inode != null; inode=inode.getParent()) {
    if (inode.isDirectory()) {
      final INodeDirectory dir=inode.asDirectory();
      if (dir.isWithSnapshot()) {
        latest=dir.getDiffs().updatePrior(anchor,latest);
      }
    }
  }
  return latest;
}
