{
  char[] pass=null;
  if (System.getenv().containsKey(CREDENTIAL_PASSWORD_NAME)) {
    pass=System.getenv(CREDENTIAL_PASSWORD_NAME).toCharArray();
  }
  if (pass == null) {
    String pwFile=conf.get(KEYSTORE_PASSWORD_FILE_KEY);
    if (pwFile != null) {
      ClassLoader cl=Thread.currentThread().getContextClassLoader();
      URL pwdFile=cl.getResource(pwFile);
      if (pwdFile != null) {
        try (InputStream is=pwdFile.openStream()){
          pass=IOUtils.toString(is).trim().toCharArray();
        }
       }
    }
  }
  return pass;
}
