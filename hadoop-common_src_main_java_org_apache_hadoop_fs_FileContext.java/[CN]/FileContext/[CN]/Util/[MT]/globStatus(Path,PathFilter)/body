{
  URI uri=getFSofPath(fixRelativePart(pathPattern)).getUri();
  String filename=pathPattern.toUri().getPath();
  List<String> filePatterns=GlobExpander.expand(filename);
  if (filePatterns.size() == 1) {
    Path absPathPattern=fixRelativePart(pathPattern);
    return globStatusInternal(uri,new Path(absPathPattern.toUri().getPath()),filter);
  }
 else {
    List<FileStatus> results=new ArrayList<FileStatus>();
    for (    String iFilePattern : filePatterns) {
      Path iAbsFilePattern=fixRelativePart(new Path(iFilePattern));
      FileStatus[] files=globStatusInternal(uri,iAbsFilePattern,filter);
      for (      FileStatus file : files) {
        results.add(file);
      }
    }
    return results.toArray(new FileStatus[results.size()]);
  }
}
