{
  String[] ugi=conf.getStrings(attr);
  if (ugi == null) {
    return null;
  }
  UnixUserGroupInformation currentUGI=null;
  if (ugi.length > 0) {
    currentUGI=user2UGIMap.get(ugi[0]);
  }
  if (currentUGI == null) {
    try {
      currentUGI=new UnixUserGroupInformation(ugi);
      user2UGIMap.put(currentUGI.getUserName(),currentUGI);
    }
 catch (    IllegalArgumentException e) {
      throw new LoginException("Login failed: " + e.getMessage());
    }
  }
  return currentUGI;
}
