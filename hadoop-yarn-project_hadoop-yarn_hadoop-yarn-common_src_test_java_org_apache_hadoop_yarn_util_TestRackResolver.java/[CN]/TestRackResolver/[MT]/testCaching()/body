{
  Configuration conf=new Configuration();
  conf.setClass(CommonConfigurationKeysPublic.NET_TOPOLOGY_NODE_SWITCH_MAPPING_IMPL_KEY,MyResolver.class,DNSToSwitchMapping.class);
  RackResolver.init(conf);
  try {
    InetAddress iaddr=InetAddress.getByName("host1");
    MyResolver.resolvedHost1=iaddr.getHostAddress();
  }
 catch (  UnknownHostException e) {
  }
  Node node=RackResolver.resolve("host1");
  Assert.assertEquals("/rack1",node.getNetworkLocation());
  node=RackResolver.resolve("host1");
  Assert.assertEquals("/rack1",node.getNetworkLocation());
  node=RackResolver.resolve(invalidHost);
  Assert.assertEquals(NetworkTopology.DEFAULT_RACK,node.getNetworkLocation());
}
