{
  int bufSize=conf.getInt(DFSConfigKeys.DFS_CLIENT_READ_SHORTCIRCUIT_BUFFER_SIZE_KEY,DFSConfigKeys.DFS_CLIENT_READ_SHORTCIRCUIT_BUFFER_SIZE_DEFAULT);
  if (bufSize < bytesPerChecksum) {
    throw new IllegalArgumentException("Configured BlockReaderLocal buffer size (" + bufSize + ") is not large enough to hold a single chunk ("+ bytesPerChecksum+ "). Please configure "+ DFSConfigKeys.DFS_CLIENT_READ_SHORTCIRCUIT_BUFFER_SIZE_KEY+ " appropriately");
  }
  return bufSize / bytesPerChecksum;
}
