{
  int bufferSizeBytes=conf.getInt(DFSConfigKeys.DFS_CLIENT_READ_SHORTCIRCUIT_BUFFER_SIZE_KEY,DFSConfigKeys.DFS_CLIENT_READ_SHORTCIRCUIT_BUFFER_SIZE_DEFAULT);
  if (bufferSizeBytes < bytesPerChecksum) {
    throw new IllegalArgumentException("Configured BlockReaderLocal buffer size (" + bufferSizeBytes + ") "+ "is not large enough to hold a single chunk ("+ bytesPerChecksum+ "). Please configure "+ DFSConfigKeys.DFS_CLIENT_READ_SHORTCIRCUIT_BUFFER_SIZE_KEY+ " appropriately");
  }
  return bufferSizeBytes / bytesPerChecksum;
}
