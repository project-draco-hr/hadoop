{
  if ((!opts.contains(ReadOption.SKIP_CHECKSUMS)) && verifyChecksum && (!mlocked.get())) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("can't get an mmap for " + block + " of "+ filename+ " since SKIP_CHECKSUMS was not given, "+ "we aren't skipping checksums, and the block is not mlocked.");
    }
    return null;
  }
  if (clientMmap == null) {
    if (mmapDisabled) {
      return null;
    }
    try {
      clientMmap=mmapManager.fetch(datanodeID,block,streams[0]);
      if (clientMmap == null) {
        mmapDisabled=true;
        return null;
      }
    }
 catch (    InterruptedException e) {
      LOG.error("Interrupted while setting up mmap for " + filename,e);
      Thread.currentThread().interrupt();
      return null;
    }
catch (    IOException e) {
      LOG.error("unable to set up mmap for " + filename,e);
      mmapDisabled=true;
      return null;
    }
  }
  return clientMmap;
}
