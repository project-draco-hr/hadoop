{
  createDataBufIfNeeded();
  if (!dataBuf.hasRemaining()) {
    dataBuf.position(0);
    dataBuf.limit(maxReadaheadLength);
    fillDataBuf(canSkipChecksum);
  }
  int toRead=Math.min(dataBuf.remaining(),len);
  dataBuf.get(arr,off,toRead);
  return toRead == 0 ? -1 : toRead;
}
