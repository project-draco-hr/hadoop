{
  final String cacheDir=System.getProperty("test.cache.data","build/test/cache");
  String editsStored=cacheDir + "/editsStored";
  String editsStoredParsedXml=cacheDir + "/editsStoredParsed.xml";
  String editsStoredReparsed=cacheDir + "/editsStoredReparsed";
  String editsStoredXml=cacheDir + "/editsStored.xml";
  assertEquals(0,runOev(editsStored,editsStoredParsedXml,"xml",false));
  assertEquals(0,runOev(editsStoredParsedXml,editsStoredReparsed,"binary",false));
  assertTrue("Edits " + editsStored + " should have all op codes",hasAllOpCodes(editsStored));
  assertTrue("Reference XML edits and parsed to XML should be same",FileUtils.contentEqualsIgnoreEOL(new File(editsStoredXml),new File(editsStoredParsedXml),"UTF-8"));
  assertTrue("Reference edits and reparsed (bin to XML to bin) should be same",filesEqualIgnoreTrailingZeros(editsStored,editsStoredReparsed));
}
