{
  DatagramSocket clientSocket=new DatagramSocket();
  InetAddress IPAddress=InetAddress.getByName(host);
  byte[] sendData=request.getBytes();
  byte[] receiveData=new byte[65535];
  DatagramPacket sendPacket=new DatagramPacket(sendData,sendData.length,IPAddress,port);
  clientSocket.send(sendPacket);
  DatagramPacket receivePacket=new DatagramPacket(receiveData,receiveData.length);
  clientSocket.receive(receivePacket);
  XDR xdr=new XDR();
  xdr.writeFixedOpaque(Arrays.copyOfRange(receiveData,0,receivePacket.getLength()));
  RpcReply reply=RpcReply.read(xdr);
  if (reply.getState() != RpcReply.ReplyState.MSG_ACCEPTED) {
    throw new IOException("Request failed: " + reply.getState());
  }
  clientSocket.close();
}
