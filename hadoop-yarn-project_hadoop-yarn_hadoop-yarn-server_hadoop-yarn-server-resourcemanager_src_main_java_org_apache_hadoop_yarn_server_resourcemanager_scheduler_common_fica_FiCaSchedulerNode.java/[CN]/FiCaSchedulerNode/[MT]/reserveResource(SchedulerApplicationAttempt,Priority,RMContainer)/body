{
  if (this.reservedContainer != null) {
    if (!reservedContainer.getContainer().getNodeId().equals(getNodeID())) {
      throw new IllegalStateException("Trying to reserve" + " container " + reservedContainer + " on node "+ reservedContainer.getReservedNode()+ " when currently"+ " reserved resource "+ this.reservedContainer+ " on node "+ this.reservedContainer.getReservedNode());
    }
    if (!this.reservedContainer.getContainer().getId().getApplicationAttemptId().equals(reservedContainer.getContainer().getId().getApplicationAttemptId())) {
      throw new IllegalStateException("Trying to reserve" + " container " + reservedContainer + " for application "+ application.getApplicationAttemptId()+ " when currently"+ " reserved container "+ this.reservedContainer+ " on node "+ this);
    }
    if (LOG.isDebugEnabled()) {
      LOG.debug("Updated reserved container " + reservedContainer.getContainer().getId() + " on node "+ this+ " for application attempt "+ application.getApplicationAttemptId());
    }
  }
 else {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Reserved container " + reservedContainer.getContainer().getId() + " on node "+ this+ " for application attempt "+ application.getApplicationAttemptId());
    }
  }
  this.reservedContainer=reservedContainer;
}
