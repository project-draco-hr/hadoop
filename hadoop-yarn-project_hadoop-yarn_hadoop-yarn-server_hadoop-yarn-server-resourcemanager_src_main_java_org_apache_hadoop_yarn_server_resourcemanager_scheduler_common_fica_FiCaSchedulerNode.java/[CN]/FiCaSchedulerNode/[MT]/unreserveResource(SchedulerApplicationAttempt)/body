{
  if (getReservedContainer() != null && getReservedContainer().getContainer() != null && getReservedContainer().getContainer().getId() != null && getReservedContainer().getContainer().getId().getApplicationAttemptId() != null) {
    ApplicationAttemptId reservedApplication=getReservedContainer().getContainer().getId().getApplicationAttemptId();
    if (!reservedApplication.equals(application.getApplicationAttemptId())) {
      throw new IllegalStateException("Trying to unreserve " + " for application " + application.getApplicationAttemptId() + " when currently reserved "+ " for application "+ reservedApplication.getApplicationId()+ " on node "+ this);
    }
  }
  setReservedContainer(null);
}
