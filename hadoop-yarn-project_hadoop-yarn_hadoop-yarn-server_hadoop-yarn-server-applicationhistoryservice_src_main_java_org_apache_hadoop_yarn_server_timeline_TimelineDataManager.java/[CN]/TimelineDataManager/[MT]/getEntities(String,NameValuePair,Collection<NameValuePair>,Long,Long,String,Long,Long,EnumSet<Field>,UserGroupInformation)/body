{
  long startTime=Time.monotonicNow();
  metrics.incrGetEntitiesOps();
  try {
    TimelineEntities entities=doGetEntities(entityType,primaryFilter,secondaryFilter,windowStart,windowEnd,fromId,fromTs,limit,fields,callerUGI);
    metrics.incrGetEntitiesTotal(entities.getEntities().size());
    return entities;
  }
  finally {
    metrics.addGetEntitiesTime(Time.monotonicNow() - startTime);
  }
}
