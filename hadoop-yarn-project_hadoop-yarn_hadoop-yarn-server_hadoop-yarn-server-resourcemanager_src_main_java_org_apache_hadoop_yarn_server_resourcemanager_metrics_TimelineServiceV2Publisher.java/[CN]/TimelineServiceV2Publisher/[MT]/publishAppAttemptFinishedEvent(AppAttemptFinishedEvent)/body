{
  ApplicationAttemptEntity entity=createAppAttemptEntity(event.getApplicationAttemptId());
  TimelineEvent tEvent=new TimelineEvent();
  tEvent.setId(AppAttemptMetricsConstants.FINISHED_EVENT_TYPE);
  tEvent.setTimestamp(event.getTimestamp());
  Map<String,Object> eventInfo=new HashMap<String,Object>();
  eventInfo.put(AppAttemptMetricsConstants.TRACKING_URL_EVENT_INFO,event.getTrackingUrl());
  eventInfo.put(AppAttemptMetricsConstants.ORIGINAL_TRACKING_URL_EVENT_INFO,event.getOriginalTrackingURL());
  eventInfo.put(AppAttemptMetricsConstants.DIAGNOSTICS_INFO_EVENT_INFO,event.getDiagnosticsInfo());
  eventInfo.put(AppAttemptMetricsConstants.FINAL_STATUS_EVENT_INFO,event.getFinalApplicationStatus().toString());
  eventInfo.put(AppAttemptMetricsConstants.STATE_EVENT_INFO,event.getYarnApplicationAttemptState().toString());
  if (event.getMasterContainerId() != null) {
    eventInfo.put(AppAttemptMetricsConstants.MASTER_CONTAINER_EVENT_INFO,event.getMasterContainerId().toString());
  }
  tEvent.setInfo(eventInfo);
  entity.addEvent(tEvent);
  putEntity(entity,event.getApplicationAttemptId().getApplicationId());
}
