{
  NodeHeartbeatRequestProtoOrBuilder p=viaProto ? proto : builder;
  List<AppAggregatorsMapProto> list=p.getRegisteredAggregatorsList();
  this.registeredAggregators=new HashMap<ApplicationId,String>();
  for (  AppAggregatorsMapProto c : list) {
    ApplicationId appId=convertFromProtoFormat(c.getAppId());
    this.registeredAggregators.put(appId,c.getAppAggregatorAddr());
  }
}
