{
  if (o instanceof RpcWritable) {
    return (RpcWritable)o;
  }
 else   if (o instanceof Message) {
    return new ProtobufWrapper((Message)o);
  }
 else   if (o instanceof Writable) {
    return new WritableWrapper((Writable)o);
  }
  throw new IllegalArgumentException("Cannot wrap " + o.getClass());
}
