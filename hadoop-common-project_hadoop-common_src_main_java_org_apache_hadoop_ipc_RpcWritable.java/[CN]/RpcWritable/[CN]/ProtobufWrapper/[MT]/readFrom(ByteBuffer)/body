{
  CodedInputStream cis=CodedInputStream.newInstance(bb.array(),bb.position() + bb.arrayOffset(),bb.remaining());
  try {
    cis.pushLimit(cis.readRawVarint32());
    message=message.getParserForType().parseFrom(cis);
    cis.checkLastTagWas(0);
  }
  finally {
    bb.position(bb.position() + cis.getTotalBytesRead());
  }
  return (T)message;
}
