{
  rm.start();
  MockNM amNodeManager=rm.registerNode("127.0.0.1:1234",2048);
  amNodeManager.nodeHeartbeat(true);
  String[] testAppIds={"application_1391705042196_0001","random_string"};
  for (  String testAppId : testAppIds) {
    AppState info=new AppState("KILLED");
    ClientResponse response=this.constructWebResource("apps",testAppId,"state").accept(MediaType.APPLICATION_XML).entity(info,MediaType.APPLICATION_XML).put(ClientResponse.class);
    if (!isAuthorizationEnabled()) {
      assertEquals(Status.UNAUTHORIZED,response.getClientResponseStatus());
      continue;
    }
    assertEquals(Status.NOT_FOUND,response.getClientResponseStatus());
  }
  rm.stop();
  return;
}
