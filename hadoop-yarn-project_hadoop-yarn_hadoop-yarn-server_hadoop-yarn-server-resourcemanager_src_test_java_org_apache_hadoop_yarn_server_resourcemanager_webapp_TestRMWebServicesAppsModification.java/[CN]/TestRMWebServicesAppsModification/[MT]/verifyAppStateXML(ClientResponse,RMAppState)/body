{
  assertEquals(MediaType.APPLICATION_XML_TYPE,response.getType());
  String xml=response.getEntity(String.class);
  DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();
  DocumentBuilder db=dbf.newDocumentBuilder();
  InputSource is=new InputSource();
  is.setCharacterStream(new StringReader(xml));
  Document dom=db.parse(is);
  NodeList nodes=dom.getElementsByTagName("appstate");
  assertEquals("incorrect number of elements",1,nodes.getLength());
  Element element=(Element)nodes.item(0);
  String state=WebServicesTestUtils.getXmlString(element,"state");
  boolean valid=false;
  for (  RMAppState appState : appStates) {
    if (appState.toString().equals(state)) {
      valid=true;
    }
  }
  String msg="app state incorrect, got " + state;
  assertTrue(msg,valid);
  return;
}
