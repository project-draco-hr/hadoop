{
  Preconditions.checkArgument(oldElement != newElement,"They are the same object: oldElement == newElement = %s",newElement);
  Preconditions.checkArgument(oldElement.compareTo(newElement.getKey()) == 0,"The names do not match: oldElement=%s, newElement=%s",oldElement,newElement);
  final int c=search(created,newElement.getKey());
  E previous=null;
  Integer d=null;
  if (c >= 0) {
    previous=created.set(c,newElement);
    previous=oldElement;
  }
 else {
    d=search(deleted,oldElement.getKey());
    if (d < 0) {
      insert(ListType.CREATED,newElement,c);
      insert(ListType.DELETED,oldElement,d);
    }
  }
  return new UndoInfo<E>(c,previous,d);
}
