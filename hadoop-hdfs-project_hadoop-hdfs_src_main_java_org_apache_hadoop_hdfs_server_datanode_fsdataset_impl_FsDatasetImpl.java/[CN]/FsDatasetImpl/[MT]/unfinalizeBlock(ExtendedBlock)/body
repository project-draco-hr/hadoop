{
  ReplicaInfo replicaInfo=volumeMap.get(b.getBlockPoolId(),b.getLocalBlock());
  if (replicaInfo != null && replicaInfo.getState() == ReplicaState.TEMPORARY) {
    volumeMap.remove(b.getBlockPoolId(),b.getLocalBlock());
    if (delBlockFromDisk(replicaInfo.getBlockFile(),replicaInfo.getMetaFile(),b.getLocalBlock())) {
      LOG.warn("Block " + b + " unfinalized and removed. ");
    }
    if (replicaInfo.getVolume().isTransientStorage()) {
      lazyWriteReplicaTracker.discardReplica(b.getBlockPoolId(),b.getBlockId(),true);
    }
  }
}
