{
  ReplicaInfo replicaInfo=volumeMap.get(b.getBlockPoolId(),b.getLocalBlock());
  if (replicaInfo != null && replicaInfo.getState() == ReplicaState.TEMPORARY) {
    volumeMap.remove(b.getBlockPoolId(),b.getLocalBlock());
    perVolumeReplicaMap.get(replicaInfo.getVolume().getStorageID()).remove(b.getBlockPoolId(),b.getLocalBlock());
    if (delBlockFromDisk(replicaInfo.getBlockFile(),replicaInfo.getMetaFile(),b.getLocalBlock())) {
      LOG.warn("Block " + b + " unfinalized and removed. ");
    }
  }
}
