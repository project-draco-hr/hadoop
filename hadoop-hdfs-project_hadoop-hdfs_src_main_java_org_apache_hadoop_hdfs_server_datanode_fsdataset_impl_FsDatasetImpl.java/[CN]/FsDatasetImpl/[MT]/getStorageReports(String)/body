{
  StorageReport[] reports;
synchronized (statsLock) {
    List<FsVolumeImpl> curVolumes=getVolumes();
    reports=new StorageReport[curVolumes.size()];
    int i=0;
    for (    FsVolumeImpl volume : curVolumes) {
      reports[i++]=new StorageReport(volume.toDatanodeStorage(),false,volume.getCapacity(),volume.getDfsUsed(),volume.getAvailable(),volume.getBlockPoolUsed(bpid));
    }
  }
  return reports;
}
