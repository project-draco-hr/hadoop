{
  ArrayList<FinalizedReplica> finalized=new ArrayList<FinalizedReplica>(volumeMap.size(bpid));
  for (  ReplicaInfo b : volumeMap.replicas(bpid)) {
    if (!b.getVolume().isTransientStorage() && b.getState() == ReplicaState.FINALIZED) {
      finalized.add(new FinalizedReplica((FinalizedReplica)b));
    }
  }
  return finalized;
}
