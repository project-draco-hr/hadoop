{
  if (datanode.getShortCircuitRegistry() != null) {
    datanode.getShortCircuitRegistry().processBlockInvalidation(new ExtendedBlockId(block.getBlockId(),bpid));
    cacheManager.uncacheBlock(bpid,block.getBlockId());
  }
  datanode.notifyNamenodeDeletedBlock(new ExtendedBlock(bpid,block),block.getStorageUuid());
}
