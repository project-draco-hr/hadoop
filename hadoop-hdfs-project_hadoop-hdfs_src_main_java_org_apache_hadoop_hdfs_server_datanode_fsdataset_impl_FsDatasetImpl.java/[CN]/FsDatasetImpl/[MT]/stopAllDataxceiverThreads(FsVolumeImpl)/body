{
  try (AutoCloseableLock lock=datasetLock.acquire()){
    for (    String blockPoolId : volumeMap.getBlockPoolList()) {
      Collection<ReplicaInfo> replicas=volumeMap.replicas(blockPoolId);
      for (      ReplicaInfo replicaInfo : replicas) {
        if ((replicaInfo.getState() == ReplicaState.TEMPORARY || replicaInfo.getState() == ReplicaState.RBW) && replicaInfo.getVolume().equals(volume)) {
          ReplicaInPipeline replicaInPipeline=(ReplicaInPipeline)replicaInfo;
          replicaInPipeline.interruptThread();
        }
      }
    }
  }
 }
