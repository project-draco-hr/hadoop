{
  RamDiskReplica block=null;
  boolean succeeded=false;
  try {
    block=ramDiskReplicaTracker.dequeueNextReplicaToPersist();
    if (block != null) {
      moveReplicaToNewVolume(block.getBlockPoolId(),block.getBlockId());
    }
    succeeded=true;
  }
 catch (  IOException ioe) {
    LOG.warn("Exception saving replica " + block,ioe);
  }
 finally {
    if (!succeeded && block != null) {
      LOG.warn("Failed to save replica " + block + ". re-enqueueing it.");
      ramDiskReplicaTracker.reenqueueReplicaNotPersisted(block);
    }
  }
  return succeeded;
}
