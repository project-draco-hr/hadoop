{
  LazyWriteReplicaTracker.ReplicaState replicaState=null;
  boolean succeeded=false;
  try {
    replicaState=lazyWriteReplicaTracker.dequeueNextReplicaToPersist();
    if (replicaState != null) {
      moveReplicaToNewVolume(replicaState.bpid,replicaState.blockId);
    }
    succeeded=true;
  }
 catch (  IOException ioe) {
    LOG.warn("Exception saving replica " + replicaState,ioe);
  }
 finally {
    if (!succeeded && replicaState != null) {
      LOG.warn("Failed to save replica " + replicaState + ". re-enqueueing it.");
      lazyWriteReplicaTracker.reenqueueReplicaNotPersisted(replicaState);
    }
  }
  return succeeded;
}
