{
  if (anonymizeTrace) {
    System.out.println("Anonymizing trace file: " + inputTracePath);
    JobTraceReader reader=null;
    JsonGenerator outGen=null;
    Configuration conf=getConf();
    try {
      outGen=createJsonGenerator(conf,outputTracePath);
      reader=new JobTraceReader(inputTracePath,conf);
      LoggedJob job=reader.getNext();
      while (job != null) {
        outGen.writeObject(job);
        job=reader.getNext();
      }
      System.out.println("Anonymized trace file: " + outputTracePath);
    }
  finally {
      if (outGen != null) {
        outGen.close();
      }
      if (reader != null) {
        reader.close();
      }
    }
  }
}
