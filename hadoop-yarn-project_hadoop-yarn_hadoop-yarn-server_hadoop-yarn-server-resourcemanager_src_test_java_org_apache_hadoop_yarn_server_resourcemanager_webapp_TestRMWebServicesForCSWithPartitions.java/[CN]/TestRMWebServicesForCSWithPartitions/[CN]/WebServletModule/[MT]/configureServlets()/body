{
  bind(JAXBContextResolver.class);
  bind(RMWebServices.class);
  bind(GenericExceptionHandler.class);
  csConf=new CapacitySchedulerConfiguration();
  setupQueueConfiguration(csConf);
  conf=new YarnConfiguration(csConf);
  conf.setClass(YarnConfiguration.RM_SCHEDULER,CapacityScheduler.class,ResourceScheduler.class);
  rm=new MockRM(conf);
  Set<NodeLabel> labels=new HashSet<NodeLabel>();
  labels.add(NodeLabel.newInstance(LABEL_LX));
  labels.add(NodeLabel.newInstance(LABEL_LY));
  try {
    RMNodeLabelsManager nodeLabelManager=rm.getRMContext().getNodeLabelManager();
    nodeLabelManager.addToCluserNodeLabels(labels);
  }
 catch (  Exception e) {
    Assert.fail();
  }
  bind(ResourceManager.class).toInstance(rm);
  serve("/*").with(GuiceContainer.class);
}
