{
  String user=app.getUser();
  int newUserNumRunning=usersNumRunnableApps.get(user) - 1;
  if (newUserNumRunning == 0) {
    usersNumRunnableApps.remove(user);
  }
 else {
    usersNumRunnableApps.put(user,newUserNumRunning);
  }
  FSLeafQueue queue=app.getQueue();
  FSParentQueue parent=queue.getParent();
  while (parent != null) {
    parent.decrementRunnableApps();
    parent=parent.getParent();
  }
}
