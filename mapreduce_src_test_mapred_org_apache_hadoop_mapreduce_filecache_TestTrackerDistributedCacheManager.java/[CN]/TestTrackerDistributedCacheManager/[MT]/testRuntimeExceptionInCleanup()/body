{
  if (!canRun()) {
    return;
  }
  Configuration conf2=new Configuration(conf);
  conf2.set("mapred.local.dir",ROOT_MAPRED_LOCAL_DIR.toString());
  conf2.setLong("local.cache.size",LOCAL_CACHE_LIMIT);
  conf2.setLong("mapreduce.tasktracker.distributedcache.checkperiod",0);
  refreshConf(conf2);
  MyTrackerDistributedCacheManager manager=new MyTrackerDistributedCacheManager(conf2,taskController);
  manager.startCleanupThread();
  assertTrue(manager.done.await(200l,TimeUnit.MILLISECONDS));
  assertNotNull(manager.caught);
  assertTrue(manager.caught instanceof RuntimeException);
}
