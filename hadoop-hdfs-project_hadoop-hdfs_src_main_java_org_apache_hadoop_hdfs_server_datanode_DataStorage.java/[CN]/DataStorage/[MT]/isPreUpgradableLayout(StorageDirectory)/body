{
  File oldF=new File(sd.getRoot(),"storage");
  if (!oldF.exists()) {
    return false;
  }
  try (RandomAccessFile oldFile=new RandomAccessFile(oldF,"rws");FileLock oldLock=oldFile.getChannel().tryLock()){
    if (null == oldLock) {
      LOG.error("Unable to acquire file lock on path " + oldF.toString());
      throw new OverlappingFileLockException();
    }
    oldFile.seek(0);
    int oldVersion=oldFile.readInt();
    if (oldVersion < LAST_PRE_UPGRADE_LAYOUT_VERSION) {
      return false;
    }
  }
   return true;
}
