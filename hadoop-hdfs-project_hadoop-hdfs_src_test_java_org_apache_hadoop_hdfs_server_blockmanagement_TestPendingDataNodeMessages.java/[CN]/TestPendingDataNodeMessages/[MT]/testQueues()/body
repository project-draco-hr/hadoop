{
  msgs.enqueueReportedBlock(fakeDN,block1Gs1,ReplicaState.FINALIZED);
  msgs.enqueueReportedBlock(fakeDN,block1Gs2,ReplicaState.FINALIZED);
  assertEquals(2,msgs.count());
  assertNull(msgs.takeBlockQueue(block2Gs1));
  assertEquals(2,msgs.count());
  Queue<ReportedBlockInfo> q=msgs.takeBlockQueue(block1Gs2DifferentInstance);
  assertEquals("ReportedBlockInfo [block=blk_1_1, dn=fake:100, reportedState=FINALIZED]," + "ReportedBlockInfo [block=blk_1_2, dn=fake:100, reportedState=FINALIZED]",Joiner.on(",").join(q));
  assertEquals(0,msgs.count());
  assertNull(msgs.takeBlockQueue(block1Gs1));
  assertEquals(0,msgs.count());
}
