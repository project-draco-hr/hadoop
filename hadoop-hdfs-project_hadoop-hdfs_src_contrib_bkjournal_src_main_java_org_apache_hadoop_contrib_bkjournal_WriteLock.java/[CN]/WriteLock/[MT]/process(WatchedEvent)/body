{
  if (event.getState() == KeeperState.Disconnected || event.getState() == KeeperState.Expired) {
    LOG.warn("Lost zookeeper session, lost lock ");
    lockCount.set(0);
  }
 else {
synchronized (this) {
      LOG.info("Zookeeper event " + event + " received, reapplying watch to "+ myznode);
      if (myznode != null) {
        try {
          zkc.exists(myznode,this);
        }
 catch (        Exception e) {
          LOG.warn("Could not set watch on lock, releasing",e);
          try {
            release();
          }
 catch (          IOException ioe) {
            LOG.error("Could not release Zk lock",ioe);
          }
        }
      }
    }
  }
}
