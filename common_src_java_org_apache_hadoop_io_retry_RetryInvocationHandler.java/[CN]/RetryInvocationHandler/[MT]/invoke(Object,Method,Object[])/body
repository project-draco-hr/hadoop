{
  RetryPolicy policy=methodNameToPolicyMap.get(method.getName());
  if (policy == null) {
    policy=defaultPolicy;
  }
  int retries=0;
  while (true) {
    try {
      return invokeMethod(method,args);
    }
 catch (    Exception e) {
      if (!policy.shouldRetry(e,retries++)) {
        LOG.info("Exception while invoking " + method.getName() + " of "+ implementation.getClass()+ ". Not retrying.",e);
        if (!method.getReturnType().equals(Void.TYPE)) {
          throw e;
        }
        return null;
      }
      if (LOG.isDebugEnabled()) {
        LOG.debug("Exception while invoking " + method.getName() + " of "+ implementation.getClass()+ ". Retrying.",e);
      }
    }
  }
}
