{
  if (flushPeriodMs > 0) {
    if (timer == null) {
      this.timer=new Timer("Metrics flush checker",true);
    }
    TimerTask timerTask=new TimerTask(){
      @Override public void run(){
synchronized (ContainerMetrics.this) {
          if (!finished) {
            flushOnPeriod=true;
          }
        }
      }
    }
;
    timer.schedule(timerTask,flushPeriodMs);
  }
}
