{
  if (children != null) {
    for (    INode child : children) {
      child.computeContentSummary(summary);
    }
  }
  if (this instanceof INodeDirectoryWithQuota) {
    INodeDirectoryWithQuota node=(INodeDirectoryWithQuota)this;
    long space=node.diskspaceConsumed();
    if (-1 != node.getDsQuota() && space != summary[3]) {
      NameNode.LOG.warn("Inconsistent diskspace for directory " + getLocalName() + ". Cached: "+ space+ " Computed: "+ summary[3]);
    }
  }
  summary[2]++;
  return summary;
}
