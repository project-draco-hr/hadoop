{
  LOG.info("Starting rollback of the rolling upgrade");
  MiniDFSCluster.DataNodeProperties dnprop=cluster.stopDataNode(0);
  cluster.shutdownNameNodes();
  cluster.restartNameNode("-rollingupgrade","rollback");
  cluster.restartDataNode(dnprop);
  cluster.waitActive();
  nn=cluster.getNameNode(0);
  dn=cluster.getDataNodes().get(0);
  triggerHeartBeats();
}
