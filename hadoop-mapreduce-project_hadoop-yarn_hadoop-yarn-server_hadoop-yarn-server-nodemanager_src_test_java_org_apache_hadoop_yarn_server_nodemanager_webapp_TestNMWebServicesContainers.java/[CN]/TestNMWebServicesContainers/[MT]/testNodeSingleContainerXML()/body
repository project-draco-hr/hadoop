{
  WebResource r=resource();
  Application app=new MockApp(1);
  nmContext.getApplications().put(app.getAppId(),app);
  HashMap<String,String> hash=addAppContainers(app);
  Application app2=new MockApp(2);
  nmContext.getApplications().put(app2.getAppId(),app2);
  addAppContainers(app2);
  for (  String id : hash.keySet()) {
    ClientResponse response=r.path("ws").path("v1").path("node").path("containers").path(id).accept(MediaType.APPLICATION_XML).get(ClientResponse.class);
    assertEquals(MediaType.APPLICATION_XML_TYPE,response.getType());
    String xml=response.getEntity(String.class);
    DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();
    DocumentBuilder db=dbf.newDocumentBuilder();
    InputSource is=new InputSource();
    is.setCharacterStream(new StringReader(xml));
    Document dom=db.parse(is);
    NodeList nodes=dom.getElementsByTagName("container");
    assertEquals("incorrect number of elements",1,nodes.getLength());
    verifyContainersInfoXML(nodes,nmContext.getContainers().get(ConverterUtils.toContainerId(id)));
  }
}
