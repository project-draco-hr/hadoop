{
  System.out.println("Workload starting ");
  for (int i=0; i < numberOfFiles; i++) {
    Path filename=new Path(id + "." + i);
    try {
      System.out.println("Workload processing file " + filename);
      FSDataOutputStream stm=createFile(fs,filename,replication);
      DFSOutputStream dfstream=(DFSOutputStream)(stm.getWrappedStream());
      dfstream.setArtificialSlowdown(1000);
      writeFile(stm,myseed);
      stm.close();
      checkFile(fs,filename,replication,numBlocks,fileSize,myseed);
    }
 catch (    Throwable e) {
      System.out.println("Workload exception " + e);
      assertTrue(e.toString(),false);
    }
synchronized (this) {
      stamp++;
    }
  }
}
