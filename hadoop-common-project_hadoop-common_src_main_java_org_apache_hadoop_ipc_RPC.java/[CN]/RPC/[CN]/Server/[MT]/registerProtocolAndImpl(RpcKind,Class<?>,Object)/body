{
  String protocolName=RPC.getProtocolName(protocolClass);
  long version;
  try {
    version=RPC.getProtocolVersion(protocolClass);
  }
 catch (  Exception ex) {
    LOG.warn("Protocol " + protocolClass + " NOT registered as cannot get protocol version ");
    return;
  }
  getProtocolImplMap(rpcKind).put(new ProtoNameVer(protocolName,version),new ProtoClassProtoImpl(protocolClass,protocolImpl));
  LOG.debug("RpcKind = " + rpcKind + " Protocol Name = "+ protocolName+ " version="+ version+ " ProtocolImpl="+ protocolImpl.getClass().getName()+ " protocolClass="+ protocolClass.getName());
}
