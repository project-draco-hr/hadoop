{
  client.setThrowException(true);
  try {
    client.putEntitiesAsync(generateEntity("1"));
  }
 catch (  YarnException e) {
    Assert.fail("Async calls are not expected to throw exception");
  }
  try {
    client.putEntities(generateEntity("2"));
    Assert.fail("Sync calls are expected to throw exception");
  }
 catch (  YarnException e) {
    Assert.assertEquals("Same exception needs to be thrown","ActualException",e.getCause().getMessage());
  }
}
