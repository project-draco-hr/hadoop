{
  String aid=$(APP_ID);
  if (aid.isEmpty()) {
    setStatus(HttpServletResponse.SC_BAD_REQUEST);
    setTitle("Bad request: requires application ID");
    return;
  }
  ApplicationId appID=Apps.toAppID(aid);
  RMContext context=getInstance(RMContext.class);
  RMApp app=context.getRMApps().get(appID);
  if (app == null) {
    setStatus(HttpServletResponse.SC_NOT_FOUND);
    setTitle("Application not found: " + aid);
    return;
  }
  String remoteUser=request().getRemoteUser();
  UserGroupInformation callerUGI=null;
  if (remoteUser != null) {
    callerUGI=UserGroupInformation.createRemoteUser(remoteUser);
  }
  if (callerUGI != null && !this.aclsManager.checkAccess(callerUGI,ApplicationAccessType.VIEW_APP,app.getUser(),appID)) {
    setStatus(HttpServletResponse.SC_UNAUTHORIZED);
    setTitle("Unauthorized request for viewing application " + appID);
    renderText("You (User " + remoteUser + ") are not authorized to view the logs for application "+ appID);
    return;
  }
  setTitle(join("Application ",aid));
  String trackingUrl=app.getTrackingUrl();
  boolean trackingUrlIsNotReady=trackingUrl == null || trackingUrl.isEmpty() || "N/A".equalsIgnoreCase(trackingUrl);
  String ui=trackingUrlIsNotReady ? "UNASSIGNED" : (app.getFinishTime() == 0 ? "ApplicationMaster" : "History");
  ResponseInfo info=info("Application Overview")._("User:",app.getUser())._("Name:",app.getName())._("State:",app.getState().toString())._("FinalStatus:",app.getFinalApplicationStatus().toString())._("Started:",Times.format(app.getStartTime()))._("Elapsed:",StringUtils.formatTime(Times.elapsed(app.getStartTime(),app.getFinishTime())))._("Tracking URL:",trackingUrlIsNotReady ? "#" : join("http://",trackingUrl),ui)._("Diagnostics:",app.getDiagnostics());
  Container masterContainer=app.getCurrentAppAttempt().getMasterContainer();
  if (masterContainer != null) {
    String url=join("http://",masterContainer.getNodeHttpAddress(),"/node","/containerlogs/",ConverterUtils.toString(masterContainer.getId()));
    info._("AM container logs:",url,url);
  }
 else {
    info._("AM container logs:","AM not yet registered with RM");
  }
  render(AppPage.class);
}
