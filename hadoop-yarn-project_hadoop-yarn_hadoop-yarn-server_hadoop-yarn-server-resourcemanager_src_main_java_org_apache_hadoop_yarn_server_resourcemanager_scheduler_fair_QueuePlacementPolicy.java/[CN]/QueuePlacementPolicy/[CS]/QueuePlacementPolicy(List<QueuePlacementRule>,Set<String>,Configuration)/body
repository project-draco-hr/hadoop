{
  for (int i=0; i < rules.size() - 1; i++) {
    if (rules.get(i).isTerminal()) {
      throw new AllocationConfigurationException("Rules after rule " + i + " in queue placement policy can never be reached");
    }
  }
  if (!rules.get(rules.size() - 1).isTerminal()) {
    throw new AllocationConfigurationException("Could get past last queue placement rule without assigning");
  }
  this.rules=rules;
  this.configuredQueues=configuredQueues;
  groups=new Groups(conf);
}
