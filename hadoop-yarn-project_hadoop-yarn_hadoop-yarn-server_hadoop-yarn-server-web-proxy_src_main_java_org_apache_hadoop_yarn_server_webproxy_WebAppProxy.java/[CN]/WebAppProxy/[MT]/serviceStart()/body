{
  try {
    proxyServer=new HttpServer.Builder().setName("proxy").setBindAddress(bindAddress).setPort(port).setFindPort(port == 0).setConf(getConfig()).setACL(acl).build();
    proxyServer.addServlet(ProxyUriUtils.PROXY_SERVLET_NAME,ProxyUriUtils.PROXY_PATH_SPEC,WebAppProxyServlet.class);
    proxyServer.setAttribute(FETCHER_ATTRIBUTE,fetcher);
    proxyServer.setAttribute(IS_SECURITY_ENABLED_ATTRIBUTE,isSecurityEnabled);
    proxyServer.setAttribute(PROXY_HOST_ATTRIBUTE,proxyHost);
    proxyServer.start();
  }
 catch (  IOException e) {
    LOG.fatal("Could not start proxy web server",e);
    throw new YarnRuntimeException("Could not start proxy web server",e);
  }
  super.serviceStart();
}
