{
  if (chunk == null) {
    return null;
  }
  ByteBuffer srcBuffer=chunk.getBuffer();
  byte[] bytesArr=new byte[srcBuffer.remaining()];
  srcBuffer.mark();
  srcBuffer.get(bytesArr,0,bytesArr.length);
  srcBuffer.reset();
  ByteBuffer destBuffer=allocateOutputBuffer(bytesArr.length);
  int pos=destBuffer.position();
  destBuffer.put(bytesArr);
  destBuffer.flip();
  destBuffer.position(pos);
  return new ECChunk(destBuffer);
}
