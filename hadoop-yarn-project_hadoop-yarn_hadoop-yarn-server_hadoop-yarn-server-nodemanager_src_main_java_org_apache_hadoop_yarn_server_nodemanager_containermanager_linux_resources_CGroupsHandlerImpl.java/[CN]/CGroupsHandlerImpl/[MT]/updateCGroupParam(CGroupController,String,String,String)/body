{
  String cGroupParamPath=getPathForCGroupParam(controller,cGroupId,param);
  PrintWriter pw=null;
  if (LOG.isDebugEnabled()) {
    LOG.debug("updateCGroupParam for path: " + cGroupParamPath + " with value "+ value);
  }
  try {
    File file=new File(cGroupParamPath);
    Writer w=new OutputStreamWriter(new FileOutputStream(file),"UTF-8");
    pw=new PrintWriter(w);
    pw.write(value);
  }
 catch (  IOException e) {
    throw new ResourceHandlerException(new StringBuffer("Unable to write to ").append(cGroupParamPath).append(" with value: ").append(value).toString(),e);
  }
 finally {
    if (pw != null) {
      boolean hasError=pw.checkError();
      pw.close();
      if (hasError) {
        throw new ResourceHandlerException(new StringBuffer("Unable to write to ").append(cGroupParamPath).append(" with value: ").append(value).toString());
      }
      if (pw.checkError()) {
        throw new ResourceHandlerException("Error while closing cgroup file" + " " + cGroupParamPath);
      }
    }
  }
}
