{
  LOG.info("counters max=" + Limits.COUNTERS_MAX);
  for (int i=0; i < Limits.COUNTERS_MAX; ++i) {
    counters.findCounter("test","test" + i);
  }
  setExpected(counters);
  shouldThrow(LimitExceededException.class,new Runnable(){
    public void run(){
      counters.findCounter("test","bad");
    }
  }
);
  checkExpected(counters);
}
