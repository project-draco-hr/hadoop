{
  FairScheduler scheduler=new FairScheduler();
  Configuration conf=createConfiguration();
  conf.set(FairSchedulerConfiguration.ASSIGN_MULTIPLE,"false");
  ResourceManager resourceManager=new ResourceManager();
  resourceManager.init(conf);
  ((AsyncDispatcher)resourceManager.getRMContext().getDispatcher()).start();
  scheduler.reinitialize(conf,resourceManager.getRMContext());
  String queueName="root.queue1";
  scheduler.allocConf=mock(AllocationConfiguration.class);
  when(scheduler.allocConf.getMaxResources(queueName)).thenReturn(maxResource);
  when(scheduler.allocConf.getMinResources(queueName)).thenReturn(Resources.none());
  schedulable=new FSLeafQueue(queueName,scheduler,null);
}
