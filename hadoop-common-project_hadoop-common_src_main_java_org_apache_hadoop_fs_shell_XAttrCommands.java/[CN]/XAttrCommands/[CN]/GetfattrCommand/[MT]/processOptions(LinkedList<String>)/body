{
  name=StringUtils.popOptionWithArgument("-n",args);
  String en=StringUtils.popOptionWithArgument("-e",args);
  if (en != null) {
    try {
      encoding=enValueOfFunc.apply(StringUtils.toUpperCase(en));
    }
 catch (    IllegalArgumentException e) {
      throw new IllegalArgumentException("Invalid/unsupported encoding option specified: " + en);
    }
    Preconditions.checkArgument(encoding != null,"Invalid/unsupported encoding option specified: " + en);
  }
  boolean r=StringUtils.popOption("-R",args);
  setRecursive(r);
  dump=StringUtils.popOption("-d",args);
  if (!dump && name == null) {
    throw new HadoopIllegalArgumentException("Must specify '-n name' or '-d' option.");
  }
  if (args.isEmpty()) {
    throw new HadoopIllegalArgumentException("<path> is missing.");
  }
  if (args.size() > 1) {
    throw new HadoopIllegalArgumentException("Too many arguments.");
  }
}
