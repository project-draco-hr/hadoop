{
  try {
    DataOutputBuffer out=new DataOutputBuffer();
    DataInputBuffer in=new DataInputBuffer();
    for (    HdfsServerConstants.ReplicaState repState : HdfsServerConstants.ReplicaState.values()) {
      repState.write(out);
      in.reset(out.getData(),out.getLength());
      HdfsServerConstants.ReplicaState result=HdfsServerConstants.ReplicaState.read(in);
      assertTrue("testReadWrite error !!!",repState == result);
      out.reset();
      in.reset();
    }
  }
 catch (  Exception ex) {
    fail("testReadWrite ex error ReplicaState");
  }
}
