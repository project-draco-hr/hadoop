{
  URI uri=getUri();
  if (HAUtil.isLogicalUri(getConf(),uri)) {
    return HAUtil.buildTokenServiceForLogicalUri(uri).toString();
  }
 else {
    return super.getCanonicalServiceName();
  }
}
