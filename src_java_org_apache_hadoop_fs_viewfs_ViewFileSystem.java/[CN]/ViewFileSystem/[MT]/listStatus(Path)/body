{
  InodeTree.ResolveResult<FileSystem> res=fsState.resolve(getUriPath(f),true);
  FileStatus[] statusLst=res.targetFileSystem.listStatus(res.remainingPath);
  if (!res.isInternalDir()) {
    ChRootedFileSystem targetFs;
    targetFs=(ChRootedFileSystem)res.targetFileSystem;
    int i=0;
    for (    FileStatus status : statusLst) {
      String suffix=targetFs.stripOutRoot(status.getPath());
      statusLst[i++]=new ViewFsFileStatus(status,this.makeQualified(suffix.length() == 0 ? f : new Path(res.resolvedPath,suffix)));
    }
  }
  return statusLst;
}
