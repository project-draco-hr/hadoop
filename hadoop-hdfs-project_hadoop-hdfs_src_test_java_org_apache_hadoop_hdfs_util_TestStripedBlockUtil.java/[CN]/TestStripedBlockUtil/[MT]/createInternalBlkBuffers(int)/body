{
  byte[][] bufs=new byte[DATA_BLK_NUM + PARITY_BLK_NUM][];
  int[] pos=new int[DATA_BLK_NUM + PARITY_BLK_NUM];
  for (int i=0; i < DATA_BLK_NUM + PARITY_BLK_NUM; i++) {
    int bufSize=(int)getInternalBlockLength(bgSize,CELLSIZE,DATA_BLK_NUM,i);
    bufs[i]=new byte[bufSize];
    pos[i]=0;
  }
  int done=0;
  while (done < bgSize) {
    Preconditions.checkState(done % CELLSIZE == 0);
    StripingCell cell=new StripingCell(SCEHMA,CELLSIZE,done / CELLSIZE,0);
    int idxInStripe=cell.idxInStripe;
    int size=Math.min(CELLSIZE,bgSize - done);
    for (int i=0; i < size; i++) {
      bufs[idxInStripe][pos[idxInStripe] + i]=hashIntToByte(done + i);
    }
    done+=size;
    pos[idxInStripe]+=size;
  }
  return bufs;
}
