{
  final int numLocations=3;
  List<StorageLocation> locations=createStorageLocations(numLocations,true);
  try {
    storage.recoverTransitionRead(mockDN,nsInfo,locations,START_OPT);
    fail("An IOException should throw: all StorageLocations are NON_EXISTENT");
  }
 catch (  IOException e) {
    GenericTestUtils.assertExceptionContains("All specified directories are failed to load.",e);
  }
  assertEquals(0,storage.getNumStorageDirs());
}
