{
  BlockLocation[] locations=fileSys.getFileBlockLocations(fileSys.getFileStatus(name),0,fileSize);
  assertEquals("Number of blocks",fileSize,locations.length);
  FSDataInputStream stm=fileSys.open(name);
  byte[] expected=new byte[fileSize];
  if (simulatedStorage) {
    for (int i=0; i < expected.length; ++i) {
      expected[i]=SimulatedFSDataset.DEFAULT_DATABYTE;
    }
  }
 else {
    Random rand=new Random(seed);
    rand.nextBytes(expected);
  }
  byte[] actual=new byte[fileSize];
  stm.readFully(0,actual);
  checkAndEraseData(actual,0,expected,"Read Sanity Test");
  stm.close();
}
