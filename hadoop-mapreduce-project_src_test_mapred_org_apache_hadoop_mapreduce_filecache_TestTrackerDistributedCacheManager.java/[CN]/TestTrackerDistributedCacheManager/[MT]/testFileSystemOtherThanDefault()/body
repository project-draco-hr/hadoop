{
  if (!canRun()) {
    return;
  }
  TrackerDistributedCacheManager manager=new TrackerDistributedCacheManager(conf,taskController);
  conf.set("fs.fakefile.impl",conf.get("fs.file.impl"));
  String userName=getJobOwnerName();
  conf.set(MRJobConfig.USER_NAME,userName);
  Path fileToCache=new Path("fakefile:///" + firstCacheFile.toUri().getPath());
  Path result=manager.getLocalCache(fileToCache.toUri(),conf,TaskTracker.getPrivateDistributedCacheDir(userName),fs.getFileStatus(firstCacheFile),false,getFileStamp(firstCacheFile),new Path(TEST_ROOT_DIR),false,false);
  assertNotNull("DistributedCache cached file on non-default filesystem.",result);
}
