{
  if (stopped.getAndSet(true)) {
    return;
  }
  allocatorThread.interrupt();
  try {
    allocatorThread.join();
  }
 catch (  InterruptedException ie) {
    LOG.warn("InterruptedException while stopping",ie);
  }
  unregister();
  super.stop();
}
