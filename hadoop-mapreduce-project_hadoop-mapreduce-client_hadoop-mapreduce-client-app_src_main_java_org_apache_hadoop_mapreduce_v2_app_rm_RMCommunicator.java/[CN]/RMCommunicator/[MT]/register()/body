{
  String host=clientService.getBindAddress().getAddress().getCanonicalHostName();
  try {
    RegisterApplicationMasterRequest request=recordFactory.newRecordInstance(RegisterApplicationMasterRequest.class);
    request.setApplicationAttemptId(applicationAttemptId);
    request.setHost(host);
    request.setRpcPort(clientService.getBindAddress().getPort());
    request.setTrackingUrl(host + ":" + clientService.getHttpPort());
    RegisterApplicationMasterResponse response=scheduler.registerApplicationMaster(request);
    minContainerCapability=response.getMinimumResourceCapability();
    maxContainerCapability=response.getMaximumResourceCapability();
    this.context.getClusterInfo().setMinContainerCapability(minContainerCapability);
    this.context.getClusterInfo().setMaxContainerCapability(maxContainerCapability);
    this.applicationACLs=response.getApplicationACLs();
    LOG.info("minContainerCapability: " + minContainerCapability.getMemory());
    LOG.info("maxContainerCapability: " + maxContainerCapability.getMemory());
  }
 catch (  Exception are) {
    LOG.error("Exception while registering",are);
    throw new YarnException(are);
  }
}
