{
  if (lb == null)   return null;
  LocatedBlockWritable result=new LocatedBlockWritable(ExtendedBlockWritable.convertExtendedBlock(lb.getBlock()),DatanodeInfoWritable.convertDatanodeInfo(lb.getLocations()),lb.getStartOffset(),lb.isCorrupt());
  org.apache.hadoop.security.token.Token<BlockTokenIdentifier> tok=lb.getBlockToken();
  result.setBlockToken(new TokenWritable(tok.getIdentifier(),tok.getPassword(),tok.getKind(),tok.getService()));
  return result;
}
