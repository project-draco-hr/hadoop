{
  List<Path> localAppLogDirs=new ArrayList<Path>();
  FileContext lfs=getLocalFileContext(getConfig());
  for (  String rootLogDir : dirsHandler.getLogDirsForCleanup()) {
    Path logDir=new Path(rootLogDir,applicationId.toString());
    try {
      lfs.getFileStatus(logDir);
      localAppLogDirs.add(logDir);
    }
 catch (    UnsupportedFileSystemException ue) {
      LOG.warn("Unsupported file system used for log dir " + logDir,ue);
      continue;
    }
catch (    IOException ie) {
      continue;
    }
  }
  NonAggregatingLogHandler.this.dispatcher.getEventHandler().handle(new ApplicationEvent(this.applicationId,ApplicationEventType.APPLICATION_LOG_HANDLING_FINISHED));
  if (localAppLogDirs.size() > 0) {
    NonAggregatingLogHandler.this.delService.delete(user,null,(Path[])localAppLogDirs.toArray(new Path[localAppLogDirs.size()]));
  }
  try {
    NonAggregatingLogHandler.this.stateStore.removeLogDeleter(this.applicationId);
  }
 catch (  IOException e) {
    LOG.error("Error removing log deletion state",e);
  }
}
