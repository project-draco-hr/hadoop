{
  StringBuilder sb=new StringBuilder();
  sb.append(contextName);
  sb.append('.');
  if (contextName.equals("jvm") && outRec.getTag("processName") != null) {
    sb.append(outRec.getTag("processName"));
    sb.append('.');
  }
  sb.append(recordName);
  sb.append('.');
  int sbBaseLen=sb.length();
  for (  String metricName : outRec.getMetricNames()) {
    Object metric=outRec.getMetric(metricName);
    String type=typeTable.get(metric.getClass());
    if (type != null) {
      sb.append(metricName);
      emitMetric(sb.toString(),type,metric.toString());
      sb.setLength(sbBaseLen);
    }
 else {
      LOG.warn("Unknown metrics type: " + metric.getClass());
    }
  }
}
