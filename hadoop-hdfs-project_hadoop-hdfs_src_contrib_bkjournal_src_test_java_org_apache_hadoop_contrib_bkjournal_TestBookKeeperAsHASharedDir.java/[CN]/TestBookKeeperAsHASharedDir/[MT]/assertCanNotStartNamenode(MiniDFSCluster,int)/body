{
  try {
    cluster.restartNameNode(nnIndex,false);
    fail("Should not have been able to start NN" + (nnIndex) + " without shared dir");
  }
 catch (  IOException ioe) {
    LOG.info("Got expected exception",ioe);
    GenericTestUtils.assertExceptionContains("Cannot start an HA namenode with name dirs that need recovery",ioe);
  }
}
