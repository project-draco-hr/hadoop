{
  if (appSchedulingInfo.getAndResetBlacklistChanged()) {
    blacklistNodeIds.clear();
    scheduler.addBlacklistedNodeIdsToList(this,blacklistNodeIds);
  }
  for (  NodeId nodeId : blacklistNodeIds) {
    SchedulerNode node=scheduler.getSchedulerNode(nodeId);
    if (node != null) {
      Resources.subtractFrom(availableResources,node.getUnallocatedResource());
    }
  }
  if (availableResources.getMemory() < 0) {
    availableResources.setMemory(0);
  }
  if (availableResources.getVirtualCores() < 0) {
    availableResources.setVirtualCores(0);
  }
}
