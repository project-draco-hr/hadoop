{
  if (!reservationExceedsThreshold(node,type)) {
    LOG.info("Making reservation: node=" + node.getNodeName() + " app_id="+ getApplicationId());
    if (!alreadyReserved) {
      getMetrics().reserveResource(getUser(),container.getResource());
      RMContainer rmContainer=super.reserve(node,priority,null,container);
      node.reserveResource(this,priority,rmContainer);
      setReservation(node);
    }
 else {
      RMContainer rmContainer=node.getReservedContainer();
      super.reserve(node,priority,rmContainer,container);
      node.reserveResource(this,priority,rmContainer);
      setReservation(node);
    }
    return true;
  }
  return false;
}
