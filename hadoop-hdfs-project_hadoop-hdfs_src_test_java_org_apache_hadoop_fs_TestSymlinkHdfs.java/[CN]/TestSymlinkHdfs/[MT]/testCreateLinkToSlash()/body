{
  Path dir=new Path(testBaseDir1());
  Path file=new Path(testBaseDir1(),"file");
  Path link=new Path(testBaseDir1(),"linkToSlash");
  Path fileViaLink=new Path(testBaseDir1() + "/linkToSlash" + testBaseDir1()+ "/file");
  createAndWriteFile(file);
  wrapper.setWorkingDirectory(dir);
  wrapper.createSymlink(new Path("/"),link,false);
  readFile(fileViaLink);
  assertEquals(fileSize,wrapper.getFileStatus(fileViaLink).getLen());
  if (wrapper instanceof FileContextTestWrapper) {
    FSTestWrapper localWrapper=wrapper.getLocalFSWrapper();
    Path linkQual=new Path(cluster.getURI(0).toString(),fileViaLink);
    assertEquals(fileSize,localWrapper.getFileStatus(linkQual).getLen());
  }
}
