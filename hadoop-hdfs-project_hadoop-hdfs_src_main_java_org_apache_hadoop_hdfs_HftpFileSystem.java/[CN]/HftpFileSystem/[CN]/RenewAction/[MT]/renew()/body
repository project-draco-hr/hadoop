{
  final HftpFileSystem fs=weakFs.get();
  if (fs != null) {
synchronized (fs) {
      try {
        fs.renewToken.renew(fs.getConf());
      }
 catch (      IOException ie) {
        try {
          fs.setDelegationToken(fs.getDelegationToken(null));
        }
 catch (        IOException ie2) {
          throw new IOException("Can't renew or get new delegation " + "token ",ie);
        }
      }
    }
  }
  return fs != null;
}
