{
  String name=queue.getName();
  queue.setWeights(getQueueWeight(name));
  queue.setMinShare(getMinResources(name));
  queue.setMaxShare(getMaxResources(name));
  queue.setMaxRunningApps(getQueueMaxApps(name));
  queue.setMaxAMShare(getQueueMaxAMShare(name));
  queue.setMaxChildQueueResource(getMaxChildResources(name));
  try {
    SchedulingPolicy policy=getSchedulingPolicy(name);
    policy.initialize(scheduler.getClusterResource());
    queue.setPolicy(policy);
  }
 catch (  AllocationConfigurationException ex) {
    LOG.warn("Failed to set the scheduling policy " + getDefaultSchedulingPolicy(),ex);
  }
  queue.getMetrics().setMinShare(getMinResources(name));
  queue.getMetrics().setMaxShare(getMaxResources(name));
  queue.getMetrics().setMaxApps(getQueueMaxApps(name));
  queue.getMetrics().setSchedulingPolicy(getSchedulingPolicy(name).getName());
}
