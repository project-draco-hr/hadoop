{
  final Map<String,byte[]> xattrs=fs.getXAttrs(target);
  int expectedCount=0;
  if (expectRaw) {
    assertArrayEquals("raw.a1 has incorrect value",RAW_A1_VALUE,xattrs.get(RAW_A1));
    expectedCount++;
  }
  if (expectVanillaXAttrs) {
    assertArrayEquals("user.a1 has incorrect value",USER_A1_VALUE,xattrs.get(USER_A1));
    expectedCount++;
  }
  assertEquals("xattrs size mismatch",expectedCount,xattrs.size());
}
