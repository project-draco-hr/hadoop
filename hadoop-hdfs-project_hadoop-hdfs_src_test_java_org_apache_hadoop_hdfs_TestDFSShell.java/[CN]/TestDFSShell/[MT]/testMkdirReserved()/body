{
  Configuration conf=new HdfsConfiguration();
  MiniDFSCluster cluster=new MiniDFSCluster.Builder(conf).numDataNodes(2).build();
  FileSystem fs=cluster.getFileSystem();
  try {
    fs.mkdirs(new Path("/.reserved"));
    fail("Can't mkdir /.reserved");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("\".reserved\" is reserved"));
  }
  cluster.shutdown();
}
