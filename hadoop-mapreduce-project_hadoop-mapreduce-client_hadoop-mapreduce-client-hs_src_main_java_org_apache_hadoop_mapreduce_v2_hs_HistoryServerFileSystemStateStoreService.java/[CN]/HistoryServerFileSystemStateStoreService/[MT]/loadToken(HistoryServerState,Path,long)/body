{
  MRDelegationTokenIdentifier tokenId=new MRDelegationTokenIdentifier();
  long renewDate;
  byte[] tokenData=readFile(tokenFile,numTokenFileBytes);
  DataInputStream in=new DataInputStream(new ByteArrayInputStream(tokenData));
  try {
    tokenId.readFields(in);
    renewDate=in.readLong();
  }
  finally {
    IOUtils.cleanup(LOG,in);
  }
  state.tokenState.put(tokenId,renewDate);
  return tokenId;
}
