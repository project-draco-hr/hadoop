{
  Subject nonHadoopSubject=new Subject();
  Subject.doAs(nonHadoopSubject,new PrivilegedExceptionAction<Void>(){
    public Void run() throws IOException {
      UserGroupInformation ugi=UserGroupInformation.getCurrentUser();
      assertNotNull(ugi);
      return null;
    }
  }
);
}
