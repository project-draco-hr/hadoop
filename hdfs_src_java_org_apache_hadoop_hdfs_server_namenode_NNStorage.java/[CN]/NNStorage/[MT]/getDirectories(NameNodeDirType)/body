{
  ArrayList<URI> list=new ArrayList<URI>();
  Iterator<StorageDirectory> it=(dirType == null) ? dirIterator() : dirIterator(dirType);
  for (; it.hasNext(); ) {
    StorageDirectory sd=it.next();
    try {
      list.add(Util.fileAsURI(sd.getRoot()));
    }
 catch (    IOException e) {
      throw new IOException("Exception while processing " + "StorageDirectory " + sd.getRoot(),e);
    }
  }
  return list;
}
