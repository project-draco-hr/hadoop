{
  String ip="unknownIP";
  try {
    ip=DNS.getDefaultIP("default");
  }
 catch (  UnknownHostException e) {
    LOG.warn("Could not find ip address of \"default\" inteface.");
    throw e;
  }
  int rand=0;
  try {
    rand=SecureRandom.getInstance("SHA1PRNG").nextInt(Integer.MAX_VALUE);
  }
 catch (  NoSuchAlgorithmException e) {
    LOG.warn("Could not use SecureRandom");
    rand=DFSUtil.getRandom().nextInt(Integer.MAX_VALUE);
  }
  String bpid="BP-" + rand + "-"+ ip+ "-"+ System.currentTimeMillis();
  return bpid;
}
