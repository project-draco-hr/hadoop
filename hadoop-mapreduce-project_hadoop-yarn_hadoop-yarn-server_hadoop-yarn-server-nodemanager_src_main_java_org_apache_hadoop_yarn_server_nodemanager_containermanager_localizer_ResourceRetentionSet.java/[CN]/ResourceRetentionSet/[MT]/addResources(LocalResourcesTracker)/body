{
  for (  LocalizedResource resource : newTracker) {
    currentSize+=resource.getSize();
    if (resource.getRefCount() > 0) {
      continue;
    }
    retain.put(resource,newTracker);
  }
  for (Iterator<Map.Entry<LocalizedResource,LocalResourcesTracker>> i=retain.entrySet().iterator(); currentSize - delSize > targetSize && i.hasNext(); ) {
    Map.Entry<LocalizedResource,LocalResourcesTracker> rsrc=i.next();
    LocalizedResource resource=rsrc.getKey();
    LocalResourcesTracker tracker=rsrc.getValue();
    if (tracker.remove(resource,delService)) {
      delSize+=resource.getSize();
      i.remove();
    }
  }
}
