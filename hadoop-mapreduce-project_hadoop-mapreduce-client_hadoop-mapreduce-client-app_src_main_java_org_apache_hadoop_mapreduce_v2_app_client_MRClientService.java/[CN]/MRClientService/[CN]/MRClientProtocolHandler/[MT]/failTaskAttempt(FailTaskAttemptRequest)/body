{
  TaskAttemptId taskAttemptId=request.getTaskAttemptId();
  String message="Fail task attempt received from client " + taskAttemptId;
  LOG.info(message);
  verifyAndGetAttempt(taskAttemptId,true);
  appContext.getEventHandler().handle(new TaskAttemptDiagnosticsUpdateEvent(taskAttemptId,message));
  appContext.getEventHandler().handle(new TaskAttemptEvent(taskAttemptId,TaskAttemptEventType.TA_FAILMSG));
  FailTaskAttemptResponse response=recordFactory.newRecordInstance(FailTaskAttemptResponse.class);
  return response;
}
