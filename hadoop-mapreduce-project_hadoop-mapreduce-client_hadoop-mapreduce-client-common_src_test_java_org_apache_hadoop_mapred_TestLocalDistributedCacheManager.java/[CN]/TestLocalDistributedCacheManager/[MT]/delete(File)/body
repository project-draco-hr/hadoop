{
  if (file.getAbsolutePath().length() < 5) {
    throw new IllegalArgumentException("Path [" + file + "] is too short, not deleting");
  }
  if (file.exists()) {
    if (file.isDirectory()) {
      File[] children=file.listFiles();
      if (children != null) {
        for (        File child : children) {
          delete(child);
        }
      }
    }
    if (!file.delete()) {
      throw new RuntimeException("Could not delete path [" + file + "]");
    }
  }
}
