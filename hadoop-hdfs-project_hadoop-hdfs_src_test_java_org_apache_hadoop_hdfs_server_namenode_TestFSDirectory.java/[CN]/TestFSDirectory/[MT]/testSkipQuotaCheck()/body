{
  try {
    hdfs.setQuota(sub2,1,Long.MAX_VALUE);
    try {
      DFSTestUtil.createFile(hdfs,file6,1024,REPLICATION,seed);
      throw new IOException("The create should have failed.");
    }
 catch (    NSQuotaExceededException qe) {
    }
    fsdir.disableQuotaChecks();
    DFSTestUtil.createFile(hdfs,file6,1024,REPLICATION,seed);
    hdfs.delete(file6,false);
    fsdir.enableQuotaChecks();
    try {
      DFSTestUtil.createFile(hdfs,file6,1024,REPLICATION,seed);
      throw new IOException("The create should have failed.");
    }
 catch (    NSQuotaExceededException qe) {
    }
  }
  finally {
    hdfs.delete(file6,false);
    hdfs.setQuota(sub2,Long.MAX_VALUE,Long.MAX_VALUE);
  }
}
