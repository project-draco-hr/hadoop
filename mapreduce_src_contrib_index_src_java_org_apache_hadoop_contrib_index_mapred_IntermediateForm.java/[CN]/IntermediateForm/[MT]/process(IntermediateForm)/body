{
  if (form.deleteList.size() > 0) {
    deleteList.addAll(form.deleteList);
  }
  if (form.dir.sizeInBytes() > 0) {
    if (writer == null) {
      writer=createWriter();
    }
    writer.addIndexesNoOptimize(new Directory[]{form.dir});
    numDocs++;
  }
}
