{
  final Map<Block,BInfo> map=blockMap.get(bpid);
  Block[] blockTable=new Block[map.size()];
  if (map != null) {
    int count=0;
    for (    BInfo b : map.values()) {
      if (b.isFinalized()) {
        blockTable[count++]=b.theBlock;
      }
    }
    if (count != blockTable.length) {
      blockTable=Arrays.copyOf(blockTable,count);
    }
  }
 else {
    blockTable=new Block[0];
  }
  return new BlockListAsLongs(new ArrayList<Block>(Arrays.asList(blockTable)),null);
}
