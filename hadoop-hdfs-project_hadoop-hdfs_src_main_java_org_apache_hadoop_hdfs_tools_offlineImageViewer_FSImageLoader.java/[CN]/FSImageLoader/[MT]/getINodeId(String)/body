{
  if (strPath.equals("/")) {
    return INodeId.ROOT_INODE_ID;
  }
  String[] nameList=strPath.split("/");
  Preconditions.checkArgument(nameList.length > 1,"Illegal path: " + strPath);
  long id=INodeId.ROOT_INODE_ID;
  for (int i=1; i < nameList.length; i++) {
    long[] children=dirmap.get(id);
    Preconditions.checkNotNull(children,"File: " + strPath + " is not found in the fsimage.");
    String cName=nameList[i];
    boolean findChildren=false;
    for (    long cid : children) {
      if (cName.equals(inodes.get(cid).getName().toStringUtf8())) {
        id=cid;
        findChildren=true;
        break;
      }
    }
    Preconditions.checkArgument(findChildren,"File: " + strPath + " is not found in the fsimage.");
  }
  return id;
}
