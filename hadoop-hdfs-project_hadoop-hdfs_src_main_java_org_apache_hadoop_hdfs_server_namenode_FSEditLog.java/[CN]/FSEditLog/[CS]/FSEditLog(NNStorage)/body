{
  isSyncRunning=false;
  this.storage=storage;
  metrics=NameNode.getNameNodeMetrics();
  lastPrintTime=now();
  this.journalSet=new JournalSet();
  for (  StorageDirectory sd : storage.dirIterable(NameNodeDirType.EDITS)) {
    journalSet.add(new FileJournalManager(sd));
  }
  if (journalSet.isEmpty()) {
    LOG.error("No edits directories configured!");
  }
  state=State.BETWEEN_LOG_SEGMENTS;
}
