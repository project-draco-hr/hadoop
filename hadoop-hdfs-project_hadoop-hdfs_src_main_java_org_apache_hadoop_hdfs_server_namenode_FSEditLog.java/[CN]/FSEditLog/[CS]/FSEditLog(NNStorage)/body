{
  isSyncRunning=false;
  this.storage=storage;
  metrics=NameNode.getNameNodeMetrics();
  lastPrintTime=now();
  for (  StorageDirectory sd : storage.dirIterable(NameNodeDirType.EDITS)) {
    journals.add(new JournalAndStream(new FileJournalManager(sd)));
  }
  if (journals.isEmpty()) {
    LOG.error("No edits directories configured!");
  }
  state=State.BETWEEN_LOG_SEGMENTS;
}
