{
  this.conf=conf;
  isSyncRunning=false;
  this.storage=storage;
  metrics=NameNode.getNameNodeMetrics();
  lastPrintTime=now();
  if (editsDirs.isEmpty()) {
    try {
      editsDirs=Lists.newArrayList(storage.getEditsDirectories());
    }
 catch (    IOException ioe) {
    }
    this.editsDirs=editsDirs;
  }
 else {
    this.editsDirs=Lists.newArrayList(editsDirs);
  }
  this.sharedEditsDirs=FSNamesystem.getSharedEditsDirs(conf);
}
