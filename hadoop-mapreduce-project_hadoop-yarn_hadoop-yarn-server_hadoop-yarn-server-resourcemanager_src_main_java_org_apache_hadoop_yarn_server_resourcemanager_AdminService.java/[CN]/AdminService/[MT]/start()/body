{
  Configuration conf=getConfig();
  YarnRPC rpc=YarnRPC.create(conf);
  this.server=rpc.getServer(RMAdminProtocol.class,this,masterServiceAddress,conf,null,conf.getInt(YarnConfiguration.RM_ADMIN_CLIENT_THREAD_COUNT,YarnConfiguration.DEFAULT_RM_ADMIN_CLIENT_THREAD_COUNT));
  if (conf.getBoolean(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHORIZATION,false)) {
    refreshServiceAcls(conf,new RMPolicyProvider());
  }
  this.server.start();
  if (getConfig().getBoolean(YarnConfiguration.IS_MINI_YARN_CLUSTER,false)) {
    String resolvedAddress=this.server.getListenerAddress().getHostName() + ":" + this.server.getListenerAddress().getPort();
    conf.set(YarnConfiguration.RM_ADMIN_ADDRESS,resolvedAddress);
  }
  super.start();
}
