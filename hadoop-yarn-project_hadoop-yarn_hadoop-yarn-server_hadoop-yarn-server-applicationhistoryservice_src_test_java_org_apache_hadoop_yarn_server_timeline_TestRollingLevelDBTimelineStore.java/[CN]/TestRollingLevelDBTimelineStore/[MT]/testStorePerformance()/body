{
  TimelineEntity entityToStorePrep=new TimelineEntity();
  entityToStorePrep.setEntityType("TEST_ENTITY_TYPE_PREP");
  entityToStorePrep.setEntityId("TEST_ENTITY_ID_PREP");
  entityToStorePrep.setDomainId("TEST_DOMAIN");
  entityToStorePrep.addRelatedEntity("TEST_ENTITY_TYPE_2","TEST_ENTITY_ID_2");
  entityToStorePrep.setStartTime(0L);
  TimelineEntities entitiesPrep=new TimelineEntities();
  entitiesPrep.addEntity(entityToStorePrep);
  store.put(entitiesPrep);
  long start=System.currentTimeMillis();
  int num=1000000;
  Log.info("Start test for " + num);
  final String tezTaskAttemptId="TEZ_TA";
  final String tezEntityId="attempt_1429158534256_0001_1_00_000000_";
  final String tezTaskId="TEZ_T";
  final String tezDomainId="Tez_ATS_application_1429158534256_0001";
  TimelineEntity entityToStore=new TimelineEntity();
  TimelineEvent startEvt=new TimelineEvent();
  entityToStore.setEntityType(tezTaskAttemptId);
  startEvt.setEventType("TASK_ATTEMPT_STARTED");
  startEvt.setTimestamp(0);
  entityToStore.addEvent(startEvt);
  entityToStore.setDomainId(tezDomainId);
  entityToStore.addPrimaryFilter("status","SUCCEEDED");
  entityToStore.addPrimaryFilter("applicationId","application_1429158534256_0001");
  entityToStore.addPrimaryFilter("TEZ_VERTEX_ID","vertex_1429158534256_0001_1_00");
  entityToStore.addPrimaryFilter("TEZ_DAG_ID","dag_1429158534256_0001_1");
  entityToStore.addPrimaryFilter("TEZ_TASK_ID","task_1429158534256_0001_1_00_000000");
  entityToStore.setStartTime(0L);
  entityToStore.addOtherInfo("startTime",0);
  entityToStore.addOtherInfo("inProgressLogsURL","localhost:8042/inProgressLogsURL");
  entityToStore.addOtherInfo("completedLogsURL","");
  entityToStore.addOtherInfo("nodeId","localhost:54450");
  entityToStore.addOtherInfo("nodeHttpAddress","localhost:8042");
  entityToStore.addOtherInfo("containerId","container_1429158534256_0001_01_000002");
  entityToStore.addOtherInfo("status","RUNNING");
  entityToStore.addRelatedEntity(tezTaskId,"TEZ_TASK_ID_1");
  TimelineEntities entities=new TimelineEntities();
  entities.addEntity(entityToStore);
  for (int i=0; i < num; ++i) {
    entityToStore.setEntityId(tezEntityId + i);
    store.put(entities);
  }
  long duration=System.currentTimeMillis() - start;
  Log.info("Duration for " + num + ": "+ duration);
}
