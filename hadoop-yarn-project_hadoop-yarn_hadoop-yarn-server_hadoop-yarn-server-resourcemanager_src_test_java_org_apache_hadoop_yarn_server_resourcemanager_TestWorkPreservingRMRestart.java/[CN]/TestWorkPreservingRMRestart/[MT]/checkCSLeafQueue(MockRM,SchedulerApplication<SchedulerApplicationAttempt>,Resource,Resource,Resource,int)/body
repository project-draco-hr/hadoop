{
  LeafQueue leafQueue=(LeafQueue)app.getQueue();
  assertEquals(usedResource,leafQueue.getUsedResources());
  assertEquals(numContainers,leafQueue.getNumContainers());
  ResourceCalculator calc=((CapacityScheduler)rm.getResourceScheduler()).getResourceCalculator();
  float usedCapacity=Resources.divide(calc,clusterResource,usedResource,queueResource);
  assertEquals(usedCapacity,leafQueue.getUsedCapacity(),1e-8);
  float absoluteUsedCapacity=Resources.divide(calc,clusterResource,usedResource,clusterResource);
  assertEquals(absoluteUsedCapacity,leafQueue.getAbsoluteUsedCapacity(),1e-8);
  assertEquals(usedResource,leafQueue.getUser(app.getUser()).getUsed());
}
