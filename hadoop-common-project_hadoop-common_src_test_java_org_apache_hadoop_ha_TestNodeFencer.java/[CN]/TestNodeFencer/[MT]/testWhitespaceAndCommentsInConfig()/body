{
  NodeFencer fencer=setupFencer("\n" + " # the next one will always fail\n" + " " + AlwaysFailFencer.class.getName() + "(foo) # <- fails\n"+ AlwaysSucceedFencer.class.getName()+ "(bar) \n");
  assertTrue(fencer.fence(new InetSocketAddress("host",1234)));
  assertEquals(1,AlwaysFailFencer.fenceCalled);
  assertEquals("host:1234",AlwaysFailFencer.fencedSvc);
  assertEquals(1,AlwaysSucceedFencer.fenceCalled);
  assertEquals("host:1234",AlwaysSucceedFencer.fencedSvc);
  assertEquals("foo",AlwaysFailFencer.callArgs.get(0));
  assertEquals("bar",AlwaysSucceedFencer.callArgs.get(0));
}
