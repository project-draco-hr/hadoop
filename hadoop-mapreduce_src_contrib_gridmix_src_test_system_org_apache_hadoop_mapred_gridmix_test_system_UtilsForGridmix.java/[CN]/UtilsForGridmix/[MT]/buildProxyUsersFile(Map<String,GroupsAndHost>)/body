{
  FileOutputStream fos=null;
  File file=null;
  StringBuffer input=new StringBuffer();
  Set users=proxyUserData.keySet();
  Iterator itr=users.iterator();
  while (itr.hasNext()) {
    String user=itr.next().toString();
    if (!user.equals(UserGroupInformation.getLoginUser().getShortUserName())) {
      input.append(user);
      final GroupsAndHost gah=proxyUserData.get(user);
      final List<String> groups=gah.getGroups();
      for (      String group : groups) {
        input.append(",");
        input.append(group);
      }
      input.append("\n");
    }
  }
  if (input.length() > 0) {
    try {
      file=File.createTempFile("proxyusers",null);
      fos=new FileOutputStream(file);
      fos.write(input.toString().getBytes());
    }
 catch (    IOException ioexp) {
      LOG.warn(ioexp.getMessage());
      return null;
    }
 finally {
      fos.close();
      file.deleteOnExit();
    }
    LOG.info("file.toString():" + file.toString());
    return file.toString();
  }
 else {
    return null;
  }
}
