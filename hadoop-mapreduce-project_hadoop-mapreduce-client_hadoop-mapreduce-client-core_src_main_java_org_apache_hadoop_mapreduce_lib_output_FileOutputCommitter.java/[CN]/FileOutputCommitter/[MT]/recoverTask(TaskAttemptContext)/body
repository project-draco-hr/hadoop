{
  context.progress();
  Path jobOutputPath=new Path(outputPath,getJobAttemptBaseDirName(context));
  int previousAttempt=context.getConfiguration().getInt(MRJobConfig.APPLICATION_ATTEMPT_ID,0) - 1;
  if (previousAttempt < 0) {
    throw new IOException("Cannot recover task output for first attempt...");
  }
  Path pathToRecover=new Path(outputPath,getJobAttemptBaseDirName(previousAttempt));
  LOG.debug("Trying to recover task from " + pathToRecover + " into "+ jobOutputPath);
  if (outputFileSystem.exists(pathToRecover)) {
    moveJobOutputs(outputFileSystem,pathToRecover,jobOutputPath,pathToRecover);
    LOG.info("Saved output of job to " + jobOutputPath);
  }
}
