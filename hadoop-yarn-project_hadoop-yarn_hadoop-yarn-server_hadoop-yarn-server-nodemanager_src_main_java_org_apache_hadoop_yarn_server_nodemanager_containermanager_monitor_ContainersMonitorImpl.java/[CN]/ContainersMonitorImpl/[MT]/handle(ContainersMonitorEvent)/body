{
  if (!isEnabled()) {
    return;
  }
  ContainerId containerId=monitoringEvent.getContainerId();
switch (monitoringEvent.getType()) {
case START_MONITORING_CONTAINER:
    ContainerStartMonitoringEvent startEvent=(ContainerStartMonitoringEvent)monitoringEvent;
  if (containerMetricsEnabled) {
    ContainerMetrics usageMetrics=ContainerMetrics.forContainer(containerId,containerMetricsPeriodMs);
    usageMetrics.recordStateChangeDurations(startEvent.getLaunchDuration(),startEvent.getLocalizationDuration());
  }
synchronized (this.containersToBeAdded) {
  ProcessTreeInfo processTreeInfo=new ProcessTreeInfo(containerId,null,null,startEvent.getVmemLimit(),startEvent.getPmemLimit(),startEvent.getCpuVcores());
  this.containersToBeAdded.put(containerId,processTreeInfo);
}
break;
case STOP_MONITORING_CONTAINER:
synchronized (this.containersToBeRemoved) {
this.containersToBeRemoved.add(containerId);
}
break;
default :
}
}
