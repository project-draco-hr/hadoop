{
  OutputStream out=getOutputStream(defaultBufferSize);
  writeData(out);
  InputStream in=getInputStream(defaultBufferSize);
  seekCheck(in,dataLen / 3);
  seekCheck(in,0);
  seekCheck(in,dataLen / 2);
  try {
    seekCheck(in,-3);
    Assert.fail("Seek to negative offset should fail.");
  }
 catch (  IllegalArgumentException e) {
    GenericTestUtils.assertExceptionContains("Cannot seek to negative " + "offset",e);
  }
  try {
    seekCheck(in,dataLen + 3);
    Assert.fail("Seek after EOF should fail.");
  }
 catch (  IOException e) {
    GenericTestUtils.assertExceptionContains("Cannot seek after EOF",e);
  }
  in.close();
}
