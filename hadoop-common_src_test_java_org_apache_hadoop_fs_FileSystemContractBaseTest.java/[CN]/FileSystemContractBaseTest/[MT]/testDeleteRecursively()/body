{
  Path dir=path("/test/hadoop");
  Path file=path("/test/hadoop/file");
  Path subdir=path("/test/hadoop/subdir");
  createFile(file);
  assertTrue("Created subdir",fs.mkdirs(subdir));
  assertTrue("File exists",fs.exists(file));
  assertTrue("Dir exists",fs.exists(dir));
  assertTrue("Subdir exists",fs.exists(subdir));
  try {
    fs.delete(dir,false);
    fail("Should throw IOException.");
  }
 catch (  IOException e) {
  }
  assertTrue("File still exists",fs.exists(file));
  assertTrue("Dir still exists",fs.exists(dir));
  assertTrue("Subdir still exists",fs.exists(subdir));
  assertTrue("Deleted",fs.delete(dir,true));
  assertFalse("File doesn't exist",fs.exists(file));
  assertFalse("Dir doesn't exist",fs.exists(dir));
  assertFalse("Subdir doesn't exist",fs.exists(subdir));
}
