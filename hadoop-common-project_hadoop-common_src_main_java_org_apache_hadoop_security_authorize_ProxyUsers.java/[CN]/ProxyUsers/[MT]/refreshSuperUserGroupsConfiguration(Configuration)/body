{
  proxyGroups.clear();
  proxyHosts.clear();
  proxyServers.clear();
  String regex=CONF_HADOOP_PROXYUSER_RE + "[^.]*\\" + CONF_GROUPS;
  Map<String,String> allMatchKeys=conf.getValByRegex(regex);
  for (  Entry<String,String> entry : allMatchKeys.entrySet()) {
    Collection<String> groups=StringUtils.getTrimmedStringCollection(entry.getValue());
    proxyGroups.put(entry.getKey(),groups);
    Groups.getUserToGroupsMappingService(conf).cacheGroupsAdd(new ArrayList<String>(groups));
  }
  regex=CONF_HADOOP_PROXYUSER_RE + "[^.]*\\" + CONF_HOSTS;
  allMatchKeys=conf.getValByRegex(regex);
  for (  Entry<String,String> entry : allMatchKeys.entrySet()) {
    proxyHosts.put(entry.getKey(),StringUtils.getTrimmedStringCollection(entry.getValue()));
  }
  for (  String host : conf.getTrimmedStrings(CONF_HADOOP_PROXYSERVERS)) {
    InetSocketAddress addr=new InetSocketAddress(host,0);
    if (!addr.isUnresolved()) {
      proxyServers.add(addr.getAddress().getHostAddress());
    }
  }
  init=true;
}
