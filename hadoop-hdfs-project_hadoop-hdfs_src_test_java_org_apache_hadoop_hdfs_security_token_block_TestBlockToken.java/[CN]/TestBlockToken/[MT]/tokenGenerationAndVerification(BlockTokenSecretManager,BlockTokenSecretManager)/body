{
  for (  BlockTokenSecretManager.AccessMode mode : BlockTokenSecretManager.AccessMode.values()) {
    Token<BlockTokenIdentifier> token1=master.generateToken(block1,EnumSet.of(mode));
    master.checkAccess(token1,null,block1,mode);
    slave.checkAccess(token1,null,block1,mode);
    Token<BlockTokenIdentifier> token2=slave.generateToken(block2,EnumSet.of(mode));
    master.checkAccess(token2,null,block2,mode);
    slave.checkAccess(token2,null,block2,mode);
  }
  Token<BlockTokenIdentifier> mtoken=master.generateToken(block3,EnumSet.allOf(BlockTokenSecretManager.AccessMode.class));
  for (  BlockTokenSecretManager.AccessMode mode : BlockTokenSecretManager.AccessMode.values()) {
    master.checkAccess(mtoken,null,block3,mode);
    slave.checkAccess(mtoken,null,block3,mode);
  }
}
