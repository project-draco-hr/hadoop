{
  Path sbExplicitTestDir=new Path("/DirToTestExplicitStickyBit");
  Path sbOmittedTestDir=new Path("/DirToTestOmittedStickyBit");
  hdfs.mkdirs(sbExplicitTestDir);
  hdfs.mkdirs(sbOmittedTestDir);
  assertTrue(hdfs.exists(sbExplicitTestDir));
  assertTrue(hdfs.exists(sbOmittedTestDir));
  hdfs.setPermission(sbExplicitTestDir,new FsPermission((short)01777));
  LOG.info("Dir: {}, permission: {}",sbExplicitTestDir.getName(),hdfs.getFileStatus(sbExplicitTestDir).getPermission());
  assertTrue(hdfs.getFileStatus(sbExplicitTestDir).getPermission().getStickyBit());
  hdfs.setPermission(sbOmittedTestDir,new FsPermission((short)0777));
  LOG.info("Dir: {}, permission: {}",sbOmittedTestDir.getName(),hdfs.getFileStatus(sbOmittedTestDir).getPermission());
  assertFalse(hdfs.getFileStatus(sbOmittedTestDir).getPermission().getStickyBit());
  hdfs.setPermission(sbExplicitTestDir,new FsPermission((short)00777));
  LOG.info("Dir: {}, permission: {}",sbExplicitTestDir.getName(),hdfs.getFileStatus(sbExplicitTestDir).getPermission());
  assertFalse(hdfs.getFileStatus(sbExplicitTestDir).getPermission().getStickyBit());
  hdfs.setPermission(sbOmittedTestDir,new FsPermission((short)01777));
  hdfs.setPermission(sbOmittedTestDir,new FsPermission((short)0777));
  LOG.info("Dir: {}, permission: {}",sbOmittedTestDir.getName(),hdfs.getFileStatus(sbOmittedTestDir).getPermission());
  assertFalse(hdfs.getFileStatus(sbOmittedTestDir).getPermission().getStickyBit());
}
