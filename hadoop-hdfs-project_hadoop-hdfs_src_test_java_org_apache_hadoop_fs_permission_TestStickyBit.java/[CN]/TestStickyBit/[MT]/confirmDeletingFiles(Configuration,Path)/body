{
  Path file=new Path(p,"foo");
  writeFile(hdfsAsUser1,file);
  assertEquals(user1.getShortUserName(),hdfsAsUser1.getFileStatus(file).getOwner());
  try {
    hdfsAsUser2.delete(file,false);
    fail("Shouldn't be able to delete someone else's file with SB on");
  }
 catch (  IOException ioe) {
    assertTrue(ioe instanceof AccessControlException);
    assertTrue(ioe.getMessage().contains("sticky bit"));
  }
}
