{
  Path p1=new Path(baseDir,"roguetraders");
  hdfs.mkdirs(p1);
  assertFalse(hdfs.getFileStatus(p1).getPermission().getStickyBit());
  short withSB;
  withSB=(short)(hdfs.getFileStatus(p1).getPermission().toShort() | 01000);
  assertTrue((new FsPermission(withSB)).getStickyBit());
  hdfs.setPermission(p1,new FsPermission(withSB));
  assertTrue(hdfs.getFileStatus(p1).getPermission().getStickyBit());
  Path f=new Path(baseDir,"somefile");
  writeFile(hdfs,f);
  assertFalse(hdfs.getFileStatus(f).getPermission().getStickyBit());
  withSB=(short)(hdfs.getFileStatus(f).getPermission().toShort() | 01000);
  hdfs.setPermission(f,new FsPermission(withSB));
  assertTrue(hdfs.getFileStatus(f).getPermission().getStickyBit());
}
