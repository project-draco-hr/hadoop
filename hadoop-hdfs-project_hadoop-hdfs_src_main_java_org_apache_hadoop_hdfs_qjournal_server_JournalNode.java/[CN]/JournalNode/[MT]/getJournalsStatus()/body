{
  Map<String,Map<String,String>> status=new HashMap<String,Map<String,String>>();
synchronized (this) {
    for (    Map.Entry<String,Journal> entry : journalsById.entrySet()) {
      Map<String,String> jMap=new HashMap<String,String>();
      jMap.put("Formatted",Boolean.toString(entry.getValue().isFormatted()));
      status.put(entry.getKey(),jMap);
    }
  }
  File[] journalDirs=localDir.listFiles(new FileFilter(){
    @Override public boolean accept(    File file){
      return file.isDirectory();
    }
  }
);
  for (  File journalDir : journalDirs) {
    String jid=journalDir.getName();
    if (!status.containsKey(jid)) {
      Map<String,String> jMap=new HashMap<String,String>();
      jMap.put("Formatted","true");
      status.put(jid,jMap);
    }
  }
  return JSON.toString(status);
}
