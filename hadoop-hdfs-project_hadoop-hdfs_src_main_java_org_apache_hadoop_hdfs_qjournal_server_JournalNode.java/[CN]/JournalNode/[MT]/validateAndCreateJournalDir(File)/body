{
  if (!dir.isAbsolute()) {
    throw new IllegalArgumentException("Journal dir '" + dir + "' should be an absolute path");
  }
  if (!dir.exists() && !dir.mkdirs()) {
    throw new IOException("Could not create journal dir '" + dir + "'");
  }
 else   if (!dir.isDirectory()) {
    throw new IOException("Journal directory '" + dir + "' is not "+ "a directory");
  }
  if (!dir.canWrite()) {
    throw new IOException("Unable to write to journal dir '" + dir + "'");
  }
}
