{
  Preconditions.checkState(!isStarted(),"JN already running");
  validateAndCreateJournalDir(localDir);
  DefaultMetricsSystem.initialize("JournalNode");
  JvmMetrics.create("JournalNode",conf.get(DFSConfigKeys.DFS_METRICS_SESSION_ID_KEY),DefaultMetricsSystem.instance());
  httpServer=new JournalNodeHttpServer(conf,this);
  httpServer.start();
  rpcServer=new JournalNodeRpcServer(conf,this);
  rpcServer.start();
}
