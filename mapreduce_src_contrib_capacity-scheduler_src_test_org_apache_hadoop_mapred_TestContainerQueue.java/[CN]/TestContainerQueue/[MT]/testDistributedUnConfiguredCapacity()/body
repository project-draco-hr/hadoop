{
  AbstractQueue rt=QueueHierarchyBuilder.createRootAbstractQueue();
  QueueSchedulingContext a1=new QueueSchedulingContext("a",50,-1,-1);
  QueueSchedulingContext a2=new QueueSchedulingContext("b",-1,-1,-1);
  AbstractQueue rtChild1=new ContainerQueue(rt,a1);
  AbstractQueue rtChild2=new ContainerQueue(rt,a2);
  QueueSchedulingContext b=new QueueSchedulingContext("ab",30,-1,-1);
  QueueSchedulingContext c=new QueueSchedulingContext("ac",-1,-1,-1);
  QueueSchedulingContext d=new QueueSchedulingContext("ad",100,-1,-1);
  AbstractQueue q0=new JobQueue(rtChild1,b);
  AbstractQueue q1=new JobQueue(rtChild1,c);
  AbstractQueue q2=new JobQueue(rtChild2,d);
  rt.distributeUnConfiguredCapacity();
  assertEquals(rtChild2.getQueueSchedulingContext().getCapacityPercent(),50.0f);
  assertTrue(q1.getQueueSchedulingContext().getCapacityPercent() == 70);
}
