{
  final int numSnapshots=in.readInt();
  if (numSnapshots >= 0) {
    v.visitEnclosingElement(ImageElement.SNAPSHOTS,ImageElement.NUM_SNAPSHOTS,numSnapshots);
    for (int i=0; i < numSnapshots; i++) {
      v.visitEnclosingElement(ImageElement.SNAPSHOT);
      v.visit(ImageElement.SNAPSHOT_ID,in.readInt());
      v.visitEnclosingElement(ImageElement.SNAPSHOT_ROOT);
      processINode(in,v,true,rootName,false);
      v.leaveEnclosingElement();
      v.leaveEnclosingElement();
    }
    v.visit(ImageElement.SNAPSHOT_QUOTA,in.readInt());
    v.leaveEnclosingElement();
  }
}
