{
  BufferedReader reader1=new BufferedReader(new FileReader(file1));
  BufferedReader reader2=new BufferedReader(new FileReader(file2));
  try {
    String line1="";
    String line2="";
    while ((line1=reader1.readLine()) != null && (line2=reader2.readLine()) != null) {
      line1=line1.replaceAll("INodeFileWithSnapshot","INodeFile");
      line2=line2.replaceAll("INodeFileWithSnapshot","INodeFile");
      line1=line1.replaceAll("@[\\dabcdef]+","");
      line2=line2.replaceAll("@[\\dabcdef]+","");
      assertEquals(line1,line2);
    }
    Assert.assertNull(reader1.readLine());
    Assert.assertNull(reader2.readLine());
  }
  finally {
    reader1.close();
    reader2.close();
  }
}
