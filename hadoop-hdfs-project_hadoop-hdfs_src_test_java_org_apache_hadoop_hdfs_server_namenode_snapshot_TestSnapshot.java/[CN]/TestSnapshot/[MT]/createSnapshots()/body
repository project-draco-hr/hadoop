{
  TestDirectoryTree.Node[] nodes=new TestDirectoryTree.Node[2];
  Path root=SnapshotTestHelper.createSnapshot(hdfs,dirTree.topNode.nodePath,this.genSnapshotName());
  snapshotList.add(root);
  nodes[0]=dirTree.topNode;
  SnapshotTestHelper.checkSnapshotCreation(hdfs,root,nodes[0].nodePath);
  ArrayList<TestDirectoryTree.Node> excludedList=new ArrayList<TestDirectoryTree.Node>();
  excludedList.add(nodes[0]);
  nodes[1]=dirTree.getRandomDirNode(random,excludedList);
  root=SnapshotTestHelper.createSnapshot(hdfs,nodes[1].nodePath,this.genSnapshotName());
  snapshotList.add(root);
  SnapshotTestHelper.checkSnapshotCreation(hdfs,root,nodes[1].nodePath);
  return nodes;
}
