{
  while (true) {
    LOG.info(prompt);
    if (force > FORCE_NONE) {
      LOG.info("automatically choosing " + firstChoice);
      return firstChoice;
    }
    StringBuilder responseBuilder=new StringBuilder();
    while (true) {
      int c=System.in.read();
      if (c == -1 || c == '\r' || c == '\n') {
        break;
      }
      responseBuilder.append((char)c);
    }
    String response=responseBuilder.toString();
    if (response.equalsIgnoreCase(firstChoice))     return firstChoice;
    for (    String c : choices) {
      if (response.equalsIgnoreCase(c)) {
        return c;
      }
    }
    LOG.error("I'm sorry, I cannot understand your response.\n");
  }
}
