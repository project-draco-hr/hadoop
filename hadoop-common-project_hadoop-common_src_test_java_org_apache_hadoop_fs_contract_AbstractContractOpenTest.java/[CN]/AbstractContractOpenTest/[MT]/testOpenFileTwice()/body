{
  describe("verify that two opened file streams are independent");
  Path path=path("testopenfiletwice.txt");
  byte[] block=dataset(TEST_FILE_LEN,0,255);
  createFile(getFileSystem(),path,false,block);
  FSDataInputStream instream1=getFileSystem().open(path);
  int c=instream1.read();
  assertEquals(0,c);
  FSDataInputStream instream2=null;
  try {
    instream2=getFileSystem().open(path);
    assertEquals("first read of instream 2",0,instream2.read());
    assertEquals("second read of instream 1",1,instream1.read());
    instream1.close();
    assertEquals("second read of instream 2",1,instream2.read());
    instream1.close();
  }
  finally {
    IOUtils.closeStream(instream1);
    IOUtils.closeStream(instream2);
  }
}
