{
  ProxyFilter filter=new ProxyFilter();
  ServletContext context=config.getServletContext();
  context.removeAttribute("name.node.address");
  context.removeAttribute("name.conf");
  assertNull(context.getAttribute("name.node.address"));
  assertNull(context.getAttribute("name.conf"));
  filter.init(config);
  assertNotNull(context.getAttribute("name.node.address"));
  assertNotNull(context.getAttribute("name.conf"));
  request.removeAttribute("authorized.ugi");
  assertNull(request.getAttribute("authorized.ugi"));
  FilterChain mockFilterChain=new DummyFilterChain();
  filter.doFilter(request,response,mockFilterChain);
  assertEquals(request.getAttribute("authorized.ugi").toString(),"nobody,test");
}
