{
  try {
    String[] parts=dir.split(Path.SEPARATOR);
    StringBuilder tempPath=new StringBuilder(dir.length());
    out.print("<a href=\"browseDirectory.jsp" + "?dir=" + Path.SEPARATOR + "&namenodeInfoPort="+ namenodeInfoPort+ getDelegationTokenUrlParam(tokenString)+ getUrlParam(NAMENODE_ADDRESS,nnAddress)+ "\">"+ Path.SEPARATOR+ "</a>");
    tempPath.append(Path.SEPARATOR);
    for (int i=0; i < parts.length - 1; i++) {
      if (!parts[i].equals("")) {
        tempPath.append(parts[i]);
        out.print("<a href=\"browseDirectory.jsp" + "?dir=" + tempPath.toString() + "&namenodeInfoPort="+ namenodeInfoPort+ getDelegationTokenUrlParam(tokenString)+ getUrlParam(NAMENODE_ADDRESS,nnAddress));
        out.print("\">" + parts[i] + "</a>"+ Path.SEPARATOR);
        tempPath.append(Path.SEPARATOR);
      }
    }
    if (parts.length > 0) {
      out.print(parts[parts.length - 1]);
    }
  }
 catch (  UnsupportedEncodingException ex) {
    ex.printStackTrace();
  }
}
