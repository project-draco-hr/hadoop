{
synchronized (queues) {
    if (queue instanceof FSLeafQueue) {
      leafQueues.remove(queue);
    }
 else {
      for (      FSQueue childQueue : queue.getChildQueues()) {
        removeQueue(childQueue);
      }
    }
    queues.remove(queue.getName());
    FSParentQueue parent=queue.getParent();
    parent.removeChildQueue(queue);
  }
}
