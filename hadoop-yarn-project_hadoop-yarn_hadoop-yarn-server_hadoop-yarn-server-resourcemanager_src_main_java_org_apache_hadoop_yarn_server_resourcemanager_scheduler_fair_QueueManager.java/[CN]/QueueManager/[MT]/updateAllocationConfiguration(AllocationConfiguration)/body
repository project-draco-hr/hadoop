{
synchronized (queues) {
    for (    String name : queueConf.getConfiguredQueues().get(FSQueueType.LEAF)) {
      if (removeEmptyIncompatibleQueues(name,FSQueueType.LEAF)) {
        getLeafQueue(name,true,false);
      }
    }
    for (    String name : queueConf.getConfiguredQueues().get(FSQueueType.PARENT)) {
      if (removeEmptyIncompatibleQueues(name,FSQueueType.PARENT)) {
        getParentQueue(name,true,false);
      }
    }
  }
  rootQueue.recomputeSteadyShares();
  for (  FSQueue queue : queues.values()) {
    queue.init();
  }
  rootQueue.recomputeSteadyShares();
  rootQueue.updatePreemptionVariables();
}
