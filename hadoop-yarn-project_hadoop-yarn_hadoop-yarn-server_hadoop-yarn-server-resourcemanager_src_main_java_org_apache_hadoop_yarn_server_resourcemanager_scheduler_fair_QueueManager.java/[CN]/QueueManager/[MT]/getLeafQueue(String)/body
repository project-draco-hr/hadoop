{
  if (!name.startsWith(ROOT_QUEUE + ".")) {
    name=ROOT_QUEUE + "." + name;
  }
synchronized (queues) {
    FSQueue queue=queues.get(name);
    if (queue == null) {
      FSLeafQueue leafQueue=createLeafQueue(name);
      if (leafQueue == null) {
        return null;
      }
      leafQueue.setSchedulingMode(info.defaultSchedulingMode);
      queue=leafQueue;
    }
 else     if (queue instanceof FSParentQueue) {
      return null;
    }
    return (FSLeafQueue)queue;
  }
}
