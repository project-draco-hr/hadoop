{
  boolean recompute=recomputeSteadyShares;
  name=ensureRootPrefix(name);
  FSQueue queue;
synchronized (queues) {
    queue=queues.get(name);
    if (queue == null && create) {
      queue=createQueue(name,queueType);
    }
 else {
      recompute=false;
    }
  }
  if (recompute) {
    rootQueue.recomputeSteadyShares();
  }
  return queue;
}
