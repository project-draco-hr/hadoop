{
  final String path=StringUtils.popOptionWithArgument("-path",args);
  if (path == null) {
    System.err.println("You must specify a path with -path.");
    return 1;
  }
  final String keyName=StringUtils.popOptionWithArgument("-keyName",args);
  if (keyName == null) {
    System.err.println("You must specify a key name with -keyName.");
    return 1;
  }
  if (!args.isEmpty()) {
    System.err.println("Can't understand argument: " + args.get(0));
    return 1;
  }
  HdfsAdmin admin=new HdfsAdmin(FileSystem.getDefaultUri(conf),conf);
  EnumSet<CreateEncryptionZoneFlag> flags=EnumSet.of(CreateEncryptionZoneFlag.PROVISION_TRASH);
  try {
    admin.createEncryptionZone(new Path(path),keyName,flags);
    System.out.println("Added encryption zone " + path);
  }
 catch (  IOException e) {
    System.err.println(prettifyException(e));
    return 2;
  }
  return 0;
}
