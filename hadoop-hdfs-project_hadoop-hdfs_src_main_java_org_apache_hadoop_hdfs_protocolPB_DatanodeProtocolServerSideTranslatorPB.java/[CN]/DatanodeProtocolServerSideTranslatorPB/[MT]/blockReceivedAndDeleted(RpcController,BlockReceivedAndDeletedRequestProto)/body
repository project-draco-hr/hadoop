{
  List<ReceivedDeletedBlockInfoProto> rdbip=request.getBlocks(0).getBlocksList();
  ReceivedDeletedBlockInfo[] info=new ReceivedDeletedBlockInfo[rdbip.size()];
  for (int i=0; i < rdbip.size(); i++) {
    info[i]=PBHelper.convert(rdbip.get(i));
  }
  try {
    impl.blockReceivedAndDeleted(PBHelper.convert(request.getRegistration()),request.getBlockPoolId(),info);
  }
 catch (  IOException e) {
    throw new ServiceException(e);
  }
  return BLOCK_RECEIVED_AND_DELETE_RESPONSE;
}
