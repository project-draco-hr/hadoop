{
  if (disabled) {
    return;
  }
  TaskId tId=event.getTaskID();
  TaskType tType=null;
  if (tId != null) {
    tType=tId.getTaskType();
  }
  boolean shouldMapSpec=conf.getBoolean(MRJobConfig.MAP_SPECULATIVE,false);
  boolean shouldReduceSpec=conf.getBoolean(MRJobConfig.REDUCE_SPECULATIVE,false);
  if ((shouldMapSpec && (tType == null || tType == TaskType.MAP)) || (shouldReduceSpec && (tType == null || tType == TaskType.REDUCE))) {
    callWithJobClassLoader(conf,new Action<Void>(){
      public Void call(      Configuration conf){
        speculator.handle(event);
        return null;
      }
    }
);
  }
}
