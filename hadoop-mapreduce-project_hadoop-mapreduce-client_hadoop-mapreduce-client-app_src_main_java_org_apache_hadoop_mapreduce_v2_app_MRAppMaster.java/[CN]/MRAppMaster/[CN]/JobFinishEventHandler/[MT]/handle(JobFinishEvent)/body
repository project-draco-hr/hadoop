{
  try {
    LOG.info("Job end notification started for jobID : " + job.getReport().getJobId());
    JobEndNotifier notifier=new JobEndNotifier();
    notifier.setConf(getConfig());
    notifier.notify(job.getReport());
  }
 catch (  InterruptedException ie) {
    LOG.warn("Job end notification interrupted for jobID : " + job.getReport().getJobId(),ie);
  }
  try {
    Thread.sleep(5000);
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
  }
  try {
    LOG.info("Calling stop for all the services");
    stop();
  }
 catch (  Throwable t) {
    LOG.warn("Graceful stop failed ",t);
  }
  try {
    cleanupStagingDir();
  }
 catch (  IOException io) {
    LOG.warn("Failed to delete staging dir");
  }
  LOG.info("Exiting MR AppMaster..GoodBye!");
  sysexit();
}
