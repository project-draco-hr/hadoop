{
  if (closed) {
    throw new IOException("Stream closed");
  }
  if ((bytesWrittenToBlock + pos == blockSize) || (pos >= bufferSize)) {
    flush();
  }
  outBuf[pos++]=(byte)b;
  filePos++;
}
