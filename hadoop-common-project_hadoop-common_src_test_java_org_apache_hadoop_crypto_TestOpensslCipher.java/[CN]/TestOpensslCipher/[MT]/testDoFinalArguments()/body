{
  if (!OpensslCipher.isNativeCodeLoaded()) {
    return;
  }
  OpensslCipher cipher=OpensslCipher.getInstance(OpensslCipher.AES_CTR,OpensslCipher.PADDING_NOPADDING);
  Assert.assertTrue(cipher != null);
  cipher.init(OpensslCipher.ENCRYPT_MODE,key,iv);
  ByteBuffer output=ByteBuffer.allocate(1024);
  try {
    cipher.doFinal(output);
    Assert.fail("Output buffer should be direct buffer.");
  }
 catch (  IllegalArgumentException e) {
    GenericTestUtils.assertExceptionContains("Direct buffer is required",e);
  }
}
