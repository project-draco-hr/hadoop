{
  List<String> keys;
  try {
    out.println("Listing keys for KeyProvider: " + provider.toString());
    if (metadata) {
      Map<String,Metadata> keysMeta=provider.getKeysMetadata();
      for (      Map.Entry<String,Metadata> entry : keysMeta.entrySet()) {
        out.println(entry.getKey() + " : " + entry.getValue());
      }
    }
 else {
      keys=provider.getKeys();
      for (      String keyName : keys) {
        out.println(keyName);
      }
    }
  }
 catch (  IOException e) {
    out.println("Cannot list keys for KeyProvider: " + provider.toString() + ": "+ e.getMessage());
    throw e;
  }
}
