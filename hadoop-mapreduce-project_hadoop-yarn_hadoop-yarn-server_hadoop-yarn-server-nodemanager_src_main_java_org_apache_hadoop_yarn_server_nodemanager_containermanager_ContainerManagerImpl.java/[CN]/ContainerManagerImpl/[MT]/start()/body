{
  YarnRPC rpc=YarnRPC.create(getConfig());
  if (UserGroupInformation.isSecurityEnabled()) {
    this.containerTokenSecretManager.setSecretKey(this.nodeStatusUpdater.getContainerManagerBindAddress(),this.nodeStatusUpdater.getRMNMSharedSecret());
  }
  Configuration cmConf=new Configuration(getConfig());
  cmConf.setClass(YarnConfiguration.YARN_SECURITY_INFO,ContainerManagerSecurityInfo.class,SecurityInfo.class);
  server=rpc.getServer(ContainerManager.class,this,cmBindAddressStr,cmConf,this.containerTokenSecretManager,cmConf.getInt(YarnConfiguration.NM_CONTAINER_MGR_THREAD_COUNT,YarnConfiguration.DEFAULT_NM_CONTAINER_MGR_THREAD_COUNT));
  LOG.info("ContainerManager started at " + cmBindAddressStr);
  server.start();
  super.start();
}
