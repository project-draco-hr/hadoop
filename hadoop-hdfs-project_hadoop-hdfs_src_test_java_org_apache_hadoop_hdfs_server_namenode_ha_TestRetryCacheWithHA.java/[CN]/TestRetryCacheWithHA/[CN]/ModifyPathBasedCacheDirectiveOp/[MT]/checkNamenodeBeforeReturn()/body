{
  for (int i=0; i < CHECKTIMES; i++) {
    RemoteIterator<PathBasedCacheDirective> iter=dfs.listPathBasedCacheDirectives(new PathBasedCacheDirective.Builder().setPool(directive.getPool()).setPath(directive.getPath()).build());
    while (iter.hasNext()) {
      PathBasedCacheDirective result=iter.next();
      if ((result.getId() == id) && (result.getReplication().shortValue() == newReplication)) {
        return true;
      }
    }
    Thread.sleep(1000);
  }
  return false;
}
