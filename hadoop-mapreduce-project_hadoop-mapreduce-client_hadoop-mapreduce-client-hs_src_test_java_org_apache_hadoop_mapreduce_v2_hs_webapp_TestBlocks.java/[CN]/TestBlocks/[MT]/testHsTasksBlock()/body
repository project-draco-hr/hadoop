{
  Task task=getTask(0);
  Map<TaskId,Task> tasks=new HashMap<TaskId,Task>();
  tasks.put(task.getID(),task);
  AppContext ctx=mock(AppContext.class);
  AppForTest app=new AppForTest(ctx);
  Job job=mock(Job.class);
  when(job.getTasks()).thenReturn(tasks);
  app.setJob(job);
  HsTasksBlockForTest block=new HsTasksBlockForTest(app);
  block.addParameter(AMParams.TASK_TYPE,"r");
  PrintWriter pWriter=new PrintWriter(data);
  Block html=new BlockForTest(new HtmlBlockForTest(),pWriter,0,false);
  block.render(html);
  pWriter.flush();
  assertTrue(data.toString().contains("task_0_0001_r_000000"));
  assertTrue(data.toString().contains("SUCCEEDED"));
  assertTrue(data.toString().contains("100001"));
  assertTrue(data.toString().contains("100011"));
  assertTrue(data.toString().contains(""));
}
