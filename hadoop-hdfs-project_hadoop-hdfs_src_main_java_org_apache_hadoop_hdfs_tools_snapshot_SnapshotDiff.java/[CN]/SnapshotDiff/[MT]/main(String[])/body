{
  String description="SnapshotDiff <snapshotDir> <from> <to>:\n" + "\tGet the difference between two snapshots, \n" + "\tor between a snapshot and the current tree of a directory.\n"+ "\tFor <from>/<to>, users can use \".\" to present the current status,\n"+ "\tand use \".snapshot/snapshot_name\" to present a snapshot,\n"+ "\twhere \".snapshot/\" can be omitted\n";
  if (argv.length != 3) {
    System.err.println("Usage: \n" + description);
    System.exit(1);
  }
  Configuration conf=new Configuration();
  FileSystem fs=FileSystem.get(conf);
  if (!(fs instanceof DistributedFileSystem)) {
    System.err.println("SnapshotDiff can only be used in DistributedFileSystem");
    System.exit(1);
  }
  DistributedFileSystem dfs=(DistributedFileSystem)fs;
  Path snapshotRoot=new Path(argv[0]);
  String fromSnapshot=getSnapshotName(argv[1]);
  String toSnapshot=getSnapshotName(argv[2]);
  try {
    SnapshotDiffReport diffReport=dfs.getSnapshotDiffReport(snapshotRoot,fromSnapshot,toSnapshot);
    System.out.println(diffReport.toString());
  }
 catch (  IOException e) {
    String[] content=e.getLocalizedMessage().split("\n");
    System.err.println("snapshotDiff: " + content[0]);
  }
}
