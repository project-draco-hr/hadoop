{
  if (Path.CUR_DIR.equals(name)) {
    return "";
  }
  if (name.startsWith(HdfsConstants.DOT_SNAPSHOT_DIR + Path.SEPARATOR) || name.startsWith(Path.SEPARATOR + HdfsConstants.DOT_SNAPSHOT_DIR + Path.SEPARATOR)) {
    int i=name.indexOf(HdfsConstants.DOT_SNAPSHOT_DIR);
    return name.substring(i + HdfsConstants.DOT_SNAPSHOT_DIR.length() + 1);
  }
  return name;
}
