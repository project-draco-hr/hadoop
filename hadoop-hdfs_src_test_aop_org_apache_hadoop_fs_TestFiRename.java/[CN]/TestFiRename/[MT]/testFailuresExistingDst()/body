{
  final Path src=getTestPath("testFailuresExistingDst/dir/src");
  final Path dst=getTestPath("testFailuresExistingDst/newdir/dst");
  createFile(src);
  createFile(dst);
  TestFiRename.exceptionOnRemove(src.toString());
  rename(src,dst,true,true,true,Rename.OVERWRITE);
  TestFiRename.exceptionOnRemove(dst.toString());
  rename(src,dst,true,true,true,Rename.OVERWRITE);
  TestFiRename.exceptionOnAdd(dst.toString());
  rename(src,dst,true,true,true,Rename.OVERWRITE);
}
