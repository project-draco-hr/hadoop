{
  HttpServletRequest request=Mockito.mock(HttpServletRequest.class);
  HttpServletResponse response=Mockito.mock(HttpServletResponse.class);
  Mockito.when(request.getHeader("User-Agent")).thenReturn("Some Browser");
  AuthenticationToken token=handler.authenticate(request,response);
  assertEquals("A",token.getUserName());
  assertEquals("B",token.getName());
  assertEquals(getExpectedType(),token.getType());
}
