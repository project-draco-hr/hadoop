{
  clock=mock(Clock.class);
  plan=mock(Plan.class);
  rSystem=mock(ReservationSystem.class);
  plans.put(PLAN_NAME,plan);
  rrValidator=new ReservationInputValidator(clock);
  when(clock.getTime()).thenReturn(1L);
  ResourceCalculator rCalc=new DefaultResourceCalculator();
  Resource resource=Resource.newInstance(10240,10);
  when(plan.getResourceCalculator()).thenReturn(rCalc);
  when(plan.getTotalCapacity()).thenReturn(resource);
  when(rSystem.getQueueForReservation(any(ReservationId.class))).thenReturn(PLAN_NAME);
  when(rSystem.getPlan(PLAN_NAME)).thenReturn(plan);
}
