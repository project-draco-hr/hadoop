{
  OutputStream os=null;
  PrintStream ps=null;
  try {
    os=new WriterOutputStream(writer,Charset.forName("UTF-8"));
    ps=new PrintStream(os);
    while (true) {
      try {
        readContainerLogs(valueStream,ps,logUploadedTime,Long.MAX_VALUE);
      }
 catch (      EOFException e) {
        return;
      }
    }
  }
  finally {
    IOUtils.cleanup(LOG,ps);
    IOUtils.cleanup(LOG,os);
  }
}
