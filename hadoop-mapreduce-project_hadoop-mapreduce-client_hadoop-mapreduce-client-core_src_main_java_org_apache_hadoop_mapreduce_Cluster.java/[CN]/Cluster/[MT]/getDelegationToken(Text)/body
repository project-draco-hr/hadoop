{
  Token<DelegationTokenIdentifier> result=client.getDelegationToken(renewer);
  if (result == null) {
    return result;
  }
  InetSocketAddress addr=Master.getMasterAddress(conf);
  StringBuilder service=new StringBuilder();
  service.append(NetUtils.normalizeHostName(addr.getAddress().getHostAddress()));
  service.append(':');
  service.append(addr.getPort());
  result.setService(new Text(service.toString()));
  return result;
}
