{
  long startTime=Time.monotonicNow();
  boolean shouldWait=true;
  while (shouldWait) {
    try {
      openConnection(url);
      shouldWait=false;
    }
 catch (    IOException e) {
      if (!fetchRetryEnabled) {
        throw e;
      }
      if ((Time.monotonicNow() - startTime) >= this.fetchRetryTimeout) {
        LOG.warn("Failed to connect to host: " + url + "after "+ fetchRetryTimeout+ "milliseconds.");
        throw e;
      }
      try {
        Thread.sleep(this.fetchRetryInterval);
      }
 catch (      InterruptedException e1) {
        if (stopped) {
          return;
        }
      }
    }
  }
}
