{
  String nnAddr=conf.get(FS_DEFAULT_NAME_KEY);
  if (nnAddr == null) {
    clientNamenodeAddress=null;
    return;
  }
  LOG.info(FS_DEFAULT_NAME_KEY + " is " + nnAddr);
  URI nnUri=URI.create(nnAddr);
  String nnHost=nnUri.getHost();
  if (nnHost == null) {
    clientNamenodeAddress=null;
    return;
  }
  if (DFSUtil.getNameServiceIds(conf).contains(nnHost)) {
    clientNamenodeAddress=nnHost;
  }
 else   if (nnUri.getPort() > 0) {
    clientNamenodeAddress=nnUri.getAuthority();
  }
 else {
    clientNamenodeAddress=null;
    return;
  }
  LOG.info("Clients are to use " + clientNamenodeAddress + " to access"+ " this namenode/service.");
}
