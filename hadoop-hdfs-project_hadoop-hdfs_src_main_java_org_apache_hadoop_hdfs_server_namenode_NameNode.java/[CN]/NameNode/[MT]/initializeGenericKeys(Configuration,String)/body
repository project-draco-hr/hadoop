{
  String namenodeId=HAUtil.getNameNodeId(conf,nameserviceId);
  if ((nameserviceId == null || nameserviceId.isEmpty()) && (namenodeId == null || namenodeId.isEmpty())) {
    return;
  }
  DFSUtil.setGenericConf(conf,nameserviceId,namenodeId,NAMESERVICE_SPECIFIC_KEYS);
  if (conf.get(DFS_NAMENODE_RPC_ADDRESS_KEY) != null) {
    URI defaultUri=URI.create(HdfsConstants.HDFS_URI_SCHEME + "://" + conf.get(DFS_NAMENODE_RPC_ADDRESS_KEY));
    conf.set(FS_DEFAULT_NAME_KEY,defaultUri.toString());
  }
}
