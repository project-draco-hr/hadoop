{
  if (rpcServer != null)   rpcServer.stop();
  if (namesystem != null)   namesystem.close();
  if (pauseMonitor != null)   pauseMonitor.stop();
  if (plugins != null) {
    for (    ServicePlugin p : plugins) {
      try {
        p.stop();
      }
 catch (      Throwable t) {
        LOG.warn("ServicePlugin " + p + " could not be stopped",t);
      }
    }
  }
  stopHttpServer();
}
