{
  int nSuccess=0;
  for (int i=0; i < targets.length; i++) {
    if (targetsStatus[i]) {
      boolean success=false;
      try {
        writers[i].transferData2Target(packetBuf);
        nSuccess++;
        success=true;
      }
 catch (      IOException e) {
        LOG.warn(e.getMessage());
      }
      targetsStatus[i]=success;
    }
  }
  return nSuccess;
}
