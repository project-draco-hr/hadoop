{
  admin=mock(ResourceManagerAdministrationProtocol.class);
  haadmin=mock(HAServiceProtocol.class);
  when(haadmin.getServiceStatus()).thenReturn(new HAServiceStatus(HAServiceProtocol.HAServiceState.INITIALIZING));
  final HAServiceTarget haServiceTarget=mock(HAServiceTarget.class);
  when(haServiceTarget.getProxy(any(Configuration.class),anyInt())).thenReturn(haadmin);
  rmAdminCLI=new RMAdminCLI(){
    @Override protected ResourceManagerAdministrationProtocol createAdminProtocol() throws IOException {
      return admin;
    }
    @Override protected HAServiceTarget resolveTarget(    String rmId){
      return haServiceTarget;
    }
  }
;
}
