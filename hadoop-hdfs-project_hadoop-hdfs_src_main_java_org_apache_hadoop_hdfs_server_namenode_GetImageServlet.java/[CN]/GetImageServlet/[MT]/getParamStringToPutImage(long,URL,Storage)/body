{
  InetSocketAddress imageListenAddress=NetUtils.createSocketAddr(url.getAuthority());
  String machine=!imageListenAddress.isUnresolved() && imageListenAddress.getAddress().isAnyLocalAddress() ? null : imageListenAddress.getHostName();
  return "putimage=1" + "&" + TXID_PARAM + "="+ txid+ "&port="+ imageListenAddress.getPort()+ (machine != null ? "&machine=" + machine : "")+ "&"+ STORAGEINFO_PARAM+ "="+ storage.toColonSeparatedString();
}
