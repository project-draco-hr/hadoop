{
  nm.stop();
  nm=new MyNodeManager();
  nm.start();
  int numTries=0;
  while ((numOfLocalDirs(nmLocalDir.getAbsolutePath(),ContainerLocalizer.USERCACHE) > 0 || numOfLocalDirs(nmLocalDir.getAbsolutePath(),ContainerLocalizer.FILECACHE) > 0 || numOfLocalDirs(nmLocalDir.getAbsolutePath(),ResourceLocalizationService.NM_PRIVATE_DIR) > 0) && numTries < maxTries) {
    try {
      Thread.sleep(500);
    }
 catch (    InterruptedException ex) {
    }
    numTries++;
  }
}
