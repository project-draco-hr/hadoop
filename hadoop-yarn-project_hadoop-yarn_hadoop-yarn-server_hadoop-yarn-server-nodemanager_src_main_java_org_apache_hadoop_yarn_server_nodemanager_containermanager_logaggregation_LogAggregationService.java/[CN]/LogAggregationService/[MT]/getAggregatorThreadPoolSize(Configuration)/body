{
  int threadPoolSize;
  try {
    threadPoolSize=conf.getInt(YarnConfiguration.NM_LOG_AGGREGATION_THREAD_POOL_SIZE,YarnConfiguration.DEFAULT_NM_LOG_AGGREGATION_THREAD_POOL_SIZE);
  }
 catch (  NumberFormatException ex) {
    LOG.warn("Invalid thread pool size. Setting it to the default value " + "in YarnConfiguration");
    threadPoolSize=YarnConfiguration.DEFAULT_NM_LOG_AGGREGATION_THREAD_POOL_SIZE;
  }
  if (threadPoolSize <= 0) {
    LOG.warn("Invalid thread pool size. Setting it to the default value " + "in YarnConfiguration");
    threadPoolSize=YarnConfiguration.DEFAULT_NM_LOG_AGGREGATION_THREAD_POOL_SIZE;
  }
  return threadPoolSize;
}
