{
  if (capacity <= 0) {
    return null;
  }
  List<SocketAndStreams> sockStreamList=multimap.get(remote);
  if (sockStreamList == null) {
    return null;
  }
  Iterator<SocketAndStreams> iter=sockStreamList.iterator();
  while (iter.hasNext()) {
    SocketAndStreams candidate=iter.next();
    iter.remove();
    if (!candidate.sock.isClosed()) {
      return candidate;
    }
  }
  return null;
}
