{
  while (multimap.size() != 0) {
    Iterator<Entry<SocketAddress,SocketAndStreams>> iter=multimap.entries().iterator();
    Entry<SocketAddress,SocketAndStreams> entry=iter.next();
    if (entry == null || System.currentTimeMillis() - entry.getValue().getCreateTime() < expiryPeriod) {
      break;
    }
    iter.remove();
    SocketAndStreams s=entry.getValue();
    s.close();
  }
}
