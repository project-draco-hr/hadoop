{
  final boolean decommissioned=dn.isDecommissioned();
  final boolean decommissioning=dn.isDecommissionInProgress();
  final boolean excluded=Util.isExcluded(excludedNodes,dn);
  final boolean notIncluded=!Util.isIncluded(includedNodes,dn);
  if (decommissioned || decommissioning || excluded|| notIncluded) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Excluding datanode " + dn + ": decommissioned="+ decommissioned+ ", decommissioning="+ decommissioning+ ", excluded="+ excluded+ ", notIncluded="+ notIncluded);
    }
    return true;
  }
  return false;
}
