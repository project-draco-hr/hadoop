{
  DelegationTokenManager tm=new DelegationTokenManager(new Text("foo"),DAY_IN_SECS,DAY_IN_SECS,DAY_IN_SECS,DAY_IN_SECS);
  tm.init();
  Token<DelegationTokenIdentifier> token=tm.createToken(UserGroupInformation.getCurrentUser(),"foo");
  Assert.assertNotNull(token);
  tm.verifyToken(token);
  Assert.assertTrue(tm.renewToken(token,"foo") > System.currentTimeMillis());
  tm.cancelToken(token,"foo");
  try {
    tm.verifyToken(token);
    Assert.fail();
  }
 catch (  IOException ex) {
  }
catch (  Exception ex) {
    Assert.fail();
  }
  tm.destroy();
}
