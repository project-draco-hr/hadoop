{
  int status=conn.getResponseCode();
  if (status != expected) {
    try {
      conn.getInputStream().close();
    }
 catch (    IOException ex) {
    }
    String msg=String.format("HTTP status, expected [%d], got [%d]: %s",expected,status,conn.getResponseMessage());
    LOG.debug(msg);
    throw new IOException(msg);
  }
}
