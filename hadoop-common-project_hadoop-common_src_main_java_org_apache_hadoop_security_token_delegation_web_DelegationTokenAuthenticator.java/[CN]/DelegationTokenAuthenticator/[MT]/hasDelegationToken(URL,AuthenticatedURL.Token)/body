{
  boolean hasDt=false;
  if (token instanceof DelegationTokenAuthenticatedURL.Token) {
    hasDt=((DelegationTokenAuthenticatedURL.Token)token).getDelegationToken() != null;
  }
  if (!hasDt) {
    String queryStr=url.getQuery();
    hasDt=(queryStr != null) && queryStr.contains(DELEGATION_PARAM + "=");
  }
  return hasDt;
}
