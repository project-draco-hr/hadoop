{
  if (checksum != null) {
    int calculatedChecksum=(int)checksum.getValue();
    int readChecksum=in.readInt();
    if (readChecksum != calculatedChecksum) {
      throw new ChecksumException("Transaction is corrupt. Calculated checksum is " + calculatedChecksum + " but read checksum "+ readChecksum,-1);
    }
  }
}
