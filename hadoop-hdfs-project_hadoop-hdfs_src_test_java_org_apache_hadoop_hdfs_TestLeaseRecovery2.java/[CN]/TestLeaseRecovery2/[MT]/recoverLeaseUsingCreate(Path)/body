{
  FileSystem dfs2=getFSAsAnotherUser(conf);
  for (int i=0; i < 10; i++) {
    AppendTestUtil.LOG.info("i=" + i);
    try {
      dfs2.create(filepath,false,BUF_SIZE,(short)1,BLOCK_SIZE);
      fail("Creation of an existing file should never succeed.");
    }
 catch (    FileAlreadyExistsException e) {
      return;
    }
catch (    AlreadyBeingCreatedException e) {
      return;
    }
catch (    IOException ioe) {
      AppendTestUtil.LOG.warn("UNEXPECTED ",ioe);
      AppendTestUtil.LOG.info("sleep " + 5000 + "ms");
      try {
        Thread.sleep(5000);
      }
 catch (      InterruptedException e) {
      }
    }
  }
  fail("recoverLeaseUsingCreate failed");
}
