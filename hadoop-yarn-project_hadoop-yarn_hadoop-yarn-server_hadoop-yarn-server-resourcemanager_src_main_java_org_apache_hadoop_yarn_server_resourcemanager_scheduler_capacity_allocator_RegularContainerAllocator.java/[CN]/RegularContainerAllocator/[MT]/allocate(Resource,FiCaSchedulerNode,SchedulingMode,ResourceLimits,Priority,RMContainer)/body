{
  ContainerAllocation result=preAllocation(clusterResource,node,schedulingMode,resourceLimits,priority,reservedContainer);
  if (AllocationState.ALLOCATED == result.state || AllocationState.RESERVED == result.state) {
    result=doAllocation(result,node,priority,reservedContainer);
  }
  return result;
}
