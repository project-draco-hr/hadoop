{
  if (canAssign(schedulerKey,node,NodeType.OFF_SWITCH,reservedContainer)) {
    return assignContainer(clusterResource,node,schedulerKey,offSwitchResourceRequest,NodeType.OFF_SWITCH,reservedContainer,schedulingMode,currentResoureLimits);
  }
  application.updateAppSkipNodeDiagnostics(CSAMContainerLaunchDiagnosticsConstants.SKIP_AM_ALLOCATION_DUE_TO_LOCALITY);
  ActivitiesLogger.APP.recordSkippedAppActivityWithoutAllocation(activitiesManager,node,application,schedulerKey.getPriority(),ActivityDiagnosticConstant.SKIP_OFF_SWITCH_REQUEST);
  return ContainerAllocation.APP_SKIPPED;
}
