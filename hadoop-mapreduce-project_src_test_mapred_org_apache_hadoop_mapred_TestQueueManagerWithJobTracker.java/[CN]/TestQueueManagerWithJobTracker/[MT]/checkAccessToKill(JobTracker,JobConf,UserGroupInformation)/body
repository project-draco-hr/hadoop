{
  Job job=submitSleepJob(1,1,100,100,false,"u1,g1","p1" + NAME_SEPARATOR + "p11",conf);
  JobID jobID=job.getStatus().getJobID();
  JobInProgress jip=tracker.getJob(org.apache.hadoop.mapred.JobID.downgrade(jobID));
  tracker.initJob(jip);
  Cluster cluster=killer.doAs(new PrivilegedExceptionAction<Cluster>(){
    public Cluster run() throws IOException {
      return new Cluster(mrConf);
    }
  }
);
  cluster.getJob(jobID).killJob();
  assertEquals("job not killed by " + killer,cluster.getJob(jobID).getStatus().getState(),(State.KILLED));
}
