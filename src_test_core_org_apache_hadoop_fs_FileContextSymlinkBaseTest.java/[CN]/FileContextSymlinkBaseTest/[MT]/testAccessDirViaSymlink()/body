{
  Path baseDir=new Path(testBaseDir1());
  Path dir=new Path(testBaseDir1(),"dir");
  Path linkToDir=new Path(testBaseDir2(),"linkToDir");
  Path dirViaLink=new Path(linkToDir,"dir");
  fc.createSymlink(baseDir,linkToDir,false);
  fc.mkdir(dirViaLink,FileContext.DEFAULT_PERM,true);
  assertTrue(fc.getFileStatus(dirViaLink).isDirectory());
  FileStatus[] stats=fc.util().listStatus(dirViaLink);
  assertEquals(0,stats.length);
  RemoteIterator<FileStatus> statsItor=fc.listStatus(dirViaLink);
  assertFalse(statsItor.hasNext());
  fc.delete(dirViaLink,false);
  assertFalse(exists(fc,dirViaLink));
  assertFalse(exists(fc,dir));
}
