{
  Path file=new Path(testBaseDir1(),"file");
  Path link1=new Path(testBaseDir1(),"linkToFile1");
  Path link2=new Path(testBaseDir1(),"linkToFile2");
  createAndWriteFile(file);
  fc.createSymlink(file,link1,false);
  fc.rename(link1,link2);
  assertTrue(fc.getFileLinkStatus(link2).isSymlink());
  assertFalse(fc.getFileStatus(link2).isDir());
  readFile(link2);
  readFile(file);
  try {
    createAndWriteFile(link2);
    fail("link was not renamed");
  }
 catch (  IOException x) {
  }
}
