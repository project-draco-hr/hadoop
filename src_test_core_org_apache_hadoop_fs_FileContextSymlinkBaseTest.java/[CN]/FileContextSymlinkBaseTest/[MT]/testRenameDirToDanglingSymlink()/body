{
  Path dir=new Path(testBaseDir1());
  Path link=new Path(testBaseDir2(),"linkToFile");
  fc.createSymlink(new Path("/doesNotExist"),link,false);
  try {
    fc.rename(dir,link,Rename.OVERWRITE);
    fail("Renamed directory to a symlink");
  }
 catch (  IOException e) {
    assertTrue(unwrapException(e) instanceof IOException);
  }
  assertTrue(exists(fc,dir));
  assertTrue(fc.getFileLinkStatus(link) != null);
}
