{
  Path dir1=new Path(testBaseDir1());
  Path subDir=new Path(testBaseDir2(),"subDir");
  Path linkToDir=new Path(testBaseDir2(),"linkToDir");
  fc.mkdir(subDir,FileContext.DEFAULT_PERM,false);
  fc.createSymlink(subDir,linkToDir,false);
  try {
    fc.rename(dir1,linkToDir,Rename.OVERWRITE);
    fail("Renamed directory to a symlink");
  }
 catch (  IOException e) {
    assertTrue(unwrapException(e) instanceof IOException);
  }
  assertTrue(exists(fc,dir1));
  assertTrue(exists(fc,linkToDir));
}
