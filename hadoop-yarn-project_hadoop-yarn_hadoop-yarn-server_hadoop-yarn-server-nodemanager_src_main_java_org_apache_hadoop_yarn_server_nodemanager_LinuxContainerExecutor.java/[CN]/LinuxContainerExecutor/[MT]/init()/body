{
  Configuration conf=super.getConf();
  try {
    PrivilegedOperation checkSetupOp=new PrivilegedOperation(PrivilegedOperation.OperationType.CHECK_SETUP,(String)null);
    PrivilegedOperationExecutor privilegedOperationExecutor=PrivilegedOperationExecutor.getInstance(conf);
    privilegedOperationExecutor.executePrivilegedOperation(checkSetupOp,false);
  }
 catch (  PrivilegedOperationException e) {
    int exitCode=e.getExitCode();
    LOG.warn("Exit code from container executor initialization is : " + exitCode,e);
    throw new IOException("Linux container executor not configured properly" + " (error=" + exitCode + ")",e);
  }
  try {
    resourceHandlerChain=ResourceHandlerModule.getConfiguredResourceHandlerChain(conf);
    if (resourceHandlerChain != null) {
      resourceHandlerChain.bootstrap(conf);
    }
  }
 catch (  ResourceHandlerException e) {
    LOG.error("Failed to bootstrap configured resource subsystems! ",e);
    throw new IOException("Failed to bootstrap configured resource subsystems!");
  }
  try {
    if (linuxContainerRuntime == null) {
      LinuxContainerRuntime runtime=new DelegatingLinuxContainerRuntime();
      runtime.initialize(conf);
      this.linuxContainerRuntime=runtime;
    }
  }
 catch (  ContainerExecutionException e) {
    throw new IOException("Failed to initialize linux container runtime(s)!");
  }
  resourcesHandler.init(this);
}
