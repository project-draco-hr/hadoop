{
  File f1=new File(TestEditLog.TEST_DIR + "/normtest0");
  File f2=new File(TestEditLog.TEST_DIR + "/normtest1");
  File f3=new File(TestEditLog.TEST_DIR + "/normtest2");
  List<URI> editUris=ImmutableList.of(f1.toURI(),f2.toURI(),f3.toURI());
  NNStorage storage=setupEdits(editUris,5);
  long numJournals=0;
  for (  StorageDirectory sd : storage.dirIterable(NameNodeDirType.EDITS)) {
    FileJournalManager jm=new FileJournalManager(conf,sd,storage);
    assertEquals(6 * TXNS_PER_ROLL,getNumberOfTransactions(jm,1,true,false));
    numJournals++;
  }
  assertEquals(3,numJournals);
}
