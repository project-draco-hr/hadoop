{
  File f=new File(TestEditLog.TEST_DIR + "/filejournaltest2");
  NNStorage storage=setupEdits(Collections.<URI>singletonList(f.toURI()),10);
  StorageDirectory sd=storage.dirIterator(NameNodeDirType.EDITS).next();
  FileJournalManager jm=new FileJournalManager(conf,sd,storage);
  EditLogInputStream elis=getJournalInputStream(jm,5,true);
  FSEditLogOp op=elis.readOp();
  assertEquals("read unexpected op",op.getTransactionId(),5);
}
