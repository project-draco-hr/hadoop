{
  JobTraceReader reader=new JobTraceReader(path,conf);
  try {
    for (Iterator<LoggedJob> it=cachedTrace.iterator(); it.hasNext(); ) {
      LoggedJob jobExpected=it.next();
      LoggedJob jobRead=reader.getNext();
      assertNotNull(jobRead);
      try {
        jobRead.deepCompare(jobExpected,null);
      }
 catch (      DeepInequalityException e) {
        fail(e.toString());
      }
    }
    assertNull(reader.getNext());
  }
  finally {
    reader.close();
  }
}
