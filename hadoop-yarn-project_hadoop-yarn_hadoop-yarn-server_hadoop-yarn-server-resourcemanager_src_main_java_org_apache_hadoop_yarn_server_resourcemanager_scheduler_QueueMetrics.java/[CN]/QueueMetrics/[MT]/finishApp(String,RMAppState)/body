{
switch (rmAppFinalState) {
case KILLED:
    appsKilled.incr();
  break;
case FAILED:
appsFailed.incr();
break;
default :
appsCompleted.incr();
break;
}
QueueMetrics userMetrics=getUserMetrics(user);
if (userMetrics != null) {
userMetrics.finishApp(user,rmAppFinalState);
}
if (parent != null) {
parent.finishApp(user,rmAppFinalState);
}
}
