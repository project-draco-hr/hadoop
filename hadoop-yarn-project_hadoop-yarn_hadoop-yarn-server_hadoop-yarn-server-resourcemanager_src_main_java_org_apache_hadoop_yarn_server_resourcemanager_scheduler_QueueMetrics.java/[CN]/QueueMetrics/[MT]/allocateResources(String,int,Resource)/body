{
  allocatedContainers.incr(containers);
  aggregateContainersAllocated.incr(containers);
  allocatedMB.incr(res.getMemory() * containers);
  allocatedVCores.incr(res.getVirtualCores() * containers);
  _decrPendingResources(containers,Resources.multiply(res,containers));
  QueueMetrics userMetrics=getUserMetrics(user);
  if (userMetrics != null) {
    userMetrics.allocateResources(user,containers,res);
  }
  if (parent != null) {
    parent.allocateResources(user,containers,res);
  }
}
