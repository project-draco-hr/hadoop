{
  for (  RMContainer c : skippedAMContainerlist) {
    if (resToObtainByPartition.isEmpty()) {
      break;
    }
    if (Resources.lessThanOrEqual(rc,clusterResource,skippedAMSize,maxAMCapacityForThisQueue)) {
      break;
    }
    boolean preempted=tryPreemptContainerAndDeductResToObtain(resToObtainByPartition,c,clusterResource,preemptMap,totalPreemptionAllowed);
    if (preempted) {
      Resources.subtractFrom(skippedAMSize,c.getAllocatedResource());
    }
  }
  skippedAMContainerlist.clear();
}
