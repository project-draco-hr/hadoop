{
  MockRM rm=new MockRM();
  rm.start();
  MockNM nm1=rm.registerNode("h1:1234",5000);
  RMApp app=rm.submitApp(2000);
  nm1.nodeHeartbeat(true);
  RMAppAttempt attempt=app.getCurrentAppAttempt();
  MyAMLauncher launcher=new MyAMLauncher(rm.getRMContext(),attempt,AMLauncherEventType.LAUNCH,rm.getConfig());
  DataOutputBuffer dob=new DataOutputBuffer();
  Credentials ts=new Credentials();
  ts.writeTokenStorageToStream(dob);
  ByteBuffer securityTokens=ByteBuffer.wrap(dob.getData(),0,dob.getLength());
  ContainerLaunchContext amContainer=ContainerLaunchContext.newInstance(null,null,null,null,securityTokens,null);
  ContainerId containerId=ContainerId.newContainerId(attempt.getAppAttemptId(),0L);
  try {
    launcher.setupTokens(amContainer,containerId);
  }
 catch (  Exception e) {
  }
  try {
    launcher.setupTokens(amContainer,containerId);
  }
 catch (  java.io.EOFException e) {
    Assert.fail("EOFException should not happen.");
  }
}
