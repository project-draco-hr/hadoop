{
  Configuration conf=getConf();
  Path stagingDir=JobSubmissionFiles.getStagingDir(new Cluster(conf),conf);
  stagingDir.getFileSystem(conf).mkdirs(stagingDir);
  Path soure=createFile("tmp.txt");
  Path target=createFile("target.txt");
  try {
    String[] arg={target.toString(),soure.toString()};
    DistCp.main(arg);
    Assert.fail();
  }
 catch (  ExitException t) {
    Assert.assertTrue(fs.exists(target));
    Assert.assertEquals(t.status,0);
    Assert.assertEquals(stagingDir.getFileSystem(conf).listStatus(stagingDir).length,0);
  }
}
