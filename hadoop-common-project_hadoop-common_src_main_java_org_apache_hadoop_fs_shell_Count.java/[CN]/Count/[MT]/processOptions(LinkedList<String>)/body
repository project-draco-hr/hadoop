{
  CommandFormat cf=new CommandFormat(1,Integer.MAX_VALUE,OPTION_QUOTA,OPTION_HUMAN,OPTION_HEADER,OPTION_QUOTA_AND_USAGE,OPTION_EXCLUDE_SNAPSHOT);
  cf.addOptionWithValue(OPTION_TYPE);
  cf.parse(args);
  if (args.isEmpty()) {
    args.add(".");
  }
  showQuotas=cf.getOpt(OPTION_QUOTA);
  humanReadable=cf.getOpt(OPTION_HUMAN);
  showQuotasAndUsageOnly=cf.getOpt(OPTION_QUOTA_AND_USAGE);
  excludeSnapshots=cf.getOpt(OPTION_EXCLUDE_SNAPSHOT);
  if (showQuotas || showQuotasAndUsageOnly) {
    String types=cf.getOptValue(OPTION_TYPE);
    if (null != types) {
      showQuotabyType=true;
      storageTypes=getAndCheckStorageTypes(types);
    }
 else {
      showQuotabyType=false;
    }
    if (excludeSnapshots) {
      out.println(OPTION_QUOTA + " or " + OPTION_QUOTA_AND_USAGE+ " option "+ "is given, the -x option is ignored.");
      excludeSnapshots=false;
    }
  }
  if (cf.getOpt(OPTION_HEADER)) {
    if (showQuotabyType) {
      out.println(QuotaUsage.getStorageTypeHeader(storageTypes) + "PATHNAME");
    }
 else {
      if (showQuotasAndUsageOnly) {
        out.println(QuotaUsage.getHeader() + "PATHNAME");
      }
 else {
        out.println(ContentSummary.getHeader(showQuotas) + "PATHNAME");
      }
    }
  }
}
