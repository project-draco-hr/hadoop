{
  if (LOG.isTraceEnabled()) {
    LOG.trace("HTTP " + op.getValue().getType() + ": "+ op+ ", "+ path+ ", ugi="+ ugi+ Param.toSortedString(", ",parameters));
  }
  if (nnId == null) {
    throw new IllegalArgumentException(NamenodeAddressParam.NAME + " is not specified.");
  }
  response.setContentType(null);
  if (UserGroupInformation.isSecurityEnabled()) {
    final Token<DelegationTokenIdentifier> token=deserializeToken(delegation.getValue(),nnId);
    ugi.addToken(token);
  }
}
