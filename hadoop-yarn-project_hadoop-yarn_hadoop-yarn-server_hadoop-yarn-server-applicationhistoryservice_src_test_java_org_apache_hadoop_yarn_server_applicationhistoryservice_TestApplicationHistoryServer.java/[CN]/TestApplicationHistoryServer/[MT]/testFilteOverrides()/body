{
  String[] filterInitializers={AuthenticationFilterInitializer.class.getName(),TimelineAuthenticationFilterInitializer.class.getName(),AuthenticationFilterInitializer.class.getName() + "," + TimelineAuthenticationFilterInitializer.class.getName(),AuthenticationFilterInitializer.class.getName() + ", " + TimelineAuthenticationFilterInitializer.class.getName()};
  for (  String filterInitializer : filterInitializers) {
    historyServer=new ApplicationHistoryServer();
    Configuration config=new YarnConfiguration();
    config.set("hadoop.http.filter.initializers",filterInitializer);
    historyServer.init(config);
    historyServer.start();
    Configuration tmp=historyServer.getConfig();
    assertEquals(TimelineAuthenticationFilterInitializer.class.getName(),tmp.get("hadoop.http.filter.initializers"));
    historyServer.stop();
    AHSWebApp.resetInstance();
  }
}
