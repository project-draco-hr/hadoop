{
  Preconditions.checkNotNull(effectiveUser);
  Preconditions.checkNotNull(realUser);
  realUser.checkTGTAndReloginFromKeytab();
  UserGroupInformation ugi=UserGroupInformation.createProxyUser(effectiveUser,realUser);
  if (LOG.isDebugEnabled()) {
    LOG.debug(String.format("Created ugi:" + " %s for username: %s",ugi,effectiveUser));
  }
  return ugi;
}
