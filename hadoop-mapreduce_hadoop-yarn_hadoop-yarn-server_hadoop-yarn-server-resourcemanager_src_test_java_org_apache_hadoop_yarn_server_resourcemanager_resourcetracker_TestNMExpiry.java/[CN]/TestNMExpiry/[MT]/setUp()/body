{
  Configuration conf=new Configuration();
  Dispatcher dispatcher=new InlineDispatcher();
  dispatcher.register(SchedulerEventType.class,new InlineDispatcher.EmptyEventHandler());
  dispatcher.register(RMNodeEventType.class,new InlineDispatcher.EmptyEventHandler());
  RMContext context=new RMContextImpl(new MemStore(),dispatcher,null,null);
  NMLivelinessMonitor nmLivelinessMonitor=new TestNmLivelinessMonitor(dispatcher);
  nmLivelinessMonitor.init(conf);
  nmLivelinessMonitor.start();
  NodesListManager nodesListManager=new NodesListManager();
  nodesListManager.init(conf);
  resourceTrackerService=new ResourceTrackerService(context,nodesListManager,nmLivelinessMonitor,containerTokenSecretManager);
  resourceTrackerService.init(conf);
  resourceTrackerService.start();
}
