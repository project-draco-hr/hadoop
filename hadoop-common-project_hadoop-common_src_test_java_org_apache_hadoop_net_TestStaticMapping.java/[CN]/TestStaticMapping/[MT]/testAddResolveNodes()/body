{
  StaticMapping mapping=newInstance();
  StaticMapping.addNodeToRack("n1","r1");
  List<String> l1=new ArrayList<String>(2);
  l1.add("n1");
  l1.add("unknown");
  List<String> mappings=mapping.resolve(l1);
  assertEquals(2,mappings.size());
  assertEquals("r1",mappings.get(0));
  assertEquals(NetworkTopology.DEFAULT_RACK,mappings.get(1));
  assertFalse("Mapping is still single switch",mapping.isSingleSwitch());
}
