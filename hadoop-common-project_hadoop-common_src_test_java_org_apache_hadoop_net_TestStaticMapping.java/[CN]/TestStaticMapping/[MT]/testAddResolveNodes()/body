{
  StaticMapping mapping=newInstance();
  StaticMapping.addNodeToRack("n1","/r1");
  List<String> queryList=createQueryList();
  List<String> resolved=mapping.resolve(queryList);
  assertEquals(2,resolved.size());
  assertEquals("/r1",resolved.get(0));
  assertEquals(NetworkTopology.DEFAULT_RACK,resolved.get(1));
  Map<String,String> switchMap=mapping.getSwitchMap();
  String topology=mapping.dumpTopology();
  LOG.info(topology);
  assertEquals(topology,1,switchMap.size());
  assertEquals(topology,"/r1",switchMap.get("n1"));
}
