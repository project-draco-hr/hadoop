{
  MemoryRMStateStore memStore=new MemoryRMStateStore();
  memStore.init(conf);
  MockRM rm1=new MockRM(conf,memStore){
    @Override protected EventHandler<SchedulerEvent> createSchedulerEventDispatcher(){
      return new EventDispatcher<SchedulerEvent>(this.scheduler,this.scheduler.getClass().getName()){
        @Override public void handle(        SchedulerEvent event){
          super.handle(event);
        }
      }
;
    }
    @Override protected Dispatcher createDispatcher(){
      return dispatcher;
    }
  }
;
  rm1.start();
  return rm1;
}
