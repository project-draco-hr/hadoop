{
  ApplicationSubmissionContext asContext=mock(ApplicationSubmissionContext.class);
  when(asContext.getMaxAppAttempts()).thenReturn(1);
  RMAppImpl app=spy(new RMAppImpl(applicationId3,rmContext,config,null,null,queueName,asContext,yarnScheduler,null,System.currentTimeMillis(),"YARN"));
  ApplicationAttemptId attemptId=ApplicationAttemptId.newInstance(applicationId3,1);
  RMAppAttemptImpl rmAppAttemptImpl=new RMAppAttemptImpl(attemptId,rmContext,yarnScheduler,null,asContext,config);
  when(app.getCurrentAppAttempt()).thenReturn(rmAppAttemptImpl);
  return app;
}
