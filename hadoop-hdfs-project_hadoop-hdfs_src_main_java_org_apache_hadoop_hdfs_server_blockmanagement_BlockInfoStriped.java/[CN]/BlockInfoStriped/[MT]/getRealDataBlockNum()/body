{
  if (isComplete() || getBlockUCState() == BlockUCState.COMMITTED) {
    return (short)Math.min(getDataBlockNum(),(getNumBytes() - 1) / BLOCK_STRIPED_CELL_SIZE + 1);
  }
 else {
    return getDataBlockNum();
  }
}
