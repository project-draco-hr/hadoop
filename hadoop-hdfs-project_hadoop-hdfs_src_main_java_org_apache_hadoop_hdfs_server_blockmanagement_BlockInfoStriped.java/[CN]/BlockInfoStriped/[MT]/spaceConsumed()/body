{
  long numBytesPerStripe=dataBlockNum * BLOCK_STRIPED_CELL_SIZE;
  if (getNumBytes() % numBytesPerStripe == 0) {
    return getNumBytes() / dataBlockNum * getTotalBlockNum();
  }
  long numStripes=(getNumBytes() - 1) / numBytesPerStripe + 1;
  long lastStripeParityCellLen=Math.min(getNumBytes() % numBytesPerStripe,BLOCK_STRIPED_CELL_SIZE);
  return getTotalBlockNum() * (BLOCK_STRIPED_CELL_SIZE * (numStripes - 1)) + getNumBytes() % numBytesPerStripe + lastStripeParityCellLen * parityBlockNum;
}
