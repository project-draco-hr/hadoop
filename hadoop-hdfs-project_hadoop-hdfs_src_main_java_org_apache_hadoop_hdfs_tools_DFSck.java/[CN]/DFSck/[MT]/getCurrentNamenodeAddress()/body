{
  Configuration conf=getConf();
  FileSystem fs;
  try {
    fs=FileSystem.get(conf);
  }
 catch (  IOException ioe) {
    System.err.println("FileSystem is inaccessible due to:\n" + StringUtils.stringifyException(ioe));
    return null;
  }
  if (!(fs instanceof DistributedFileSystem)) {
    System.err.println("FileSystem is " + fs.getUri());
    return null;
  }
  fs.exists(new Path("/"));
  DistributedFileSystem dfs=(DistributedFileSystem)fs;
  DFSClient dfsClient=dfs.getClient();
  InetSocketAddress addr=RPC.getServerAddress(dfsClient.getNamenode());
  return DFSUtil.getInfoServer(addr,conf,true);
}
