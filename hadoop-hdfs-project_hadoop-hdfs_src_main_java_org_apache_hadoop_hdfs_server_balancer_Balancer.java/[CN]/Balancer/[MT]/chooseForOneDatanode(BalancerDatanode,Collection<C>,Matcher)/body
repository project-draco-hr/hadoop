{
  final Iterator<C> i=candidates.iterator();
  final C chosen=chooseCandidate(dn,i,matcher);
  if (chosen == null) {
    return false;
  }
  if (dn instanceof Source) {
    matchSourceWithTargetToMove((Source)dn,chosen);
  }
 else {
    matchSourceWithTargetToMove((Source)chosen,dn);
  }
  if (!chosen.hasSpaceForScheduling()) {
    i.remove();
  }
  return true;
}
