{
  final Iterator<C> i=candidates.iterator();
  final C chosen=chooseCandidate(g,i,matcher);
  if (chosen == null) {
    return false;
  }
  if (g instanceof Source) {
    matchSourceWithTargetToMove((Source)g,chosen);
  }
 else {
    matchSourceWithTargetToMove((Source)chosen,g);
  }
  if (!chosen.hasSpaceForScheduling()) {
    i.remove();
  }
  return true;
}
