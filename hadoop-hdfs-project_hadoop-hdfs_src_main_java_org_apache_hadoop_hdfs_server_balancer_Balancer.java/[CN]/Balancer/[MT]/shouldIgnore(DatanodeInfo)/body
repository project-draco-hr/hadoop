{
  final boolean decommissioned=dn.isDecommissioned();
  final boolean decommissioning=dn.isDecommissionInProgress();
  final boolean excluded=Util.shouldBeExcluded(nodesToBeExcluded,dn);
  final boolean notIncluded=!Util.shouldBeIncluded(nodesToBeIncluded,dn);
  if (decommissioned || decommissioning || excluded|| notIncluded) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Excluding datanode " + dn + ": "+ decommissioned+ ", "+ decommissioning+ ", "+ excluded+ ", "+ notIncluded);
    }
    return true;
  }
  return false;
}
