{
  FileSystem fs=FileSystem.get(getProxiedFSConf());
  Path path=new Path(getProxiedFSTestDir(),"foo");
  fs.mkdirs(path);
  fs.close();
  fs=getHttpFSFileSystem();
  Path oldPath=new Path(path.toUri().getPath());
  Path newPath=new Path(path.getParent(),"bar");
  fs.rename(oldPath,newPath);
  fs.close();
  fs=FileSystem.get(getProxiedFSConf());
  assertFalse(fs.exists(oldPath));
  assertTrue(fs.exists(newPath));
  fs.close();
}
