{
  Path foo=new Path(getProxiedFSTestDir(),"foo");
  Path bar=new Path(getProxiedFSTestDir(),"bar");
  Path foe=new Path(getProxiedFSTestDir(),"foe");
  FileSystem fs=FileSystem.get(getProxiedFSConf());
  fs.mkdirs(foo);
  fs.mkdirs(new Path(bar,"a"));
  fs.mkdirs(foe);
  FileSystem hoopFs=getHttpFSFileSystem();
  Assert.assertTrue(hoopFs.delete(new Path(foo.toUri().getPath()),false));
  Assert.assertFalse(fs.exists(foo));
  try {
    hoopFs.delete(new Path(bar.toUri().getPath()),false);
    Assert.fail();
  }
 catch (  IOException ex) {
  }
catch (  Exception ex) {
    Assert.fail();
  }
  Assert.assertTrue(fs.exists(bar));
  Assert.assertTrue(hoopFs.delete(new Path(bar.toUri().getPath()),true));
  Assert.assertFalse(fs.exists(bar));
  Assert.assertTrue(fs.exists(foe));
  Assert.assertTrue(hoopFs.delete(foe,true));
  Assert.assertFalse(fs.exists(foe));
  hoopFs.close();
  fs.close();
}
