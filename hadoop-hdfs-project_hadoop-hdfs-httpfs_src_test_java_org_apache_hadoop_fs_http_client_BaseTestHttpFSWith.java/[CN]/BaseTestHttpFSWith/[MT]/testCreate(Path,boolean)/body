{
  FileSystem fs=getHttpFSFileSystem();
  FsPermission permission=new FsPermission(FsAction.READ_WRITE,FsAction.NONE,FsAction.NONE);
  OutputStream os=fs.create(new Path(path.toUri().getPath()),permission,override,1024,(short)2,100 * 1024 * 1024,null);
  os.write(1);
  os.close();
  fs.close();
  fs=FileSystem.get(getProxiedFSConf());
  FileStatus status=fs.getFileStatus(path);
  if (!isLocalFS()) {
    Assert.assertEquals(status.getReplication(),2);
    Assert.assertEquals(status.getBlockSize(),100 * 1024 * 1024);
  }
  Assert.assertEquals(status.getPermission(),permission);
  InputStream is=fs.open(path);
  Assert.assertEquals(is.read(),1);
  is.close();
  fs.close();
}
