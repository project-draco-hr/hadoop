{
  if (!isLocalFS()) {
    FileSystem fs=FileSystem.get(getProxiedFSConf());
    fs.mkdirs(getProxiedFSTestDir());
    Path path=new Path(getProxiedFSTestDir(),"foo.txt");
    OutputStream os=fs.create(path);
    os.write(1);
    os.close();
    fs.close();
    fs=getHttpFSFileSystem();
    String user=HadoopUsersConfTestHelper.getHadoopUsers()[1];
    String group=HadoopUsersConfTestHelper.getHadoopUserGroups(user)[0];
    fs.setOwner(path,user,group);
    fs.close();
    fs=FileSystem.get(getProxiedFSConf());
    FileStatus status1=fs.getFileStatus(path);
    fs.close();
    assertEquals(status1.getOwner(),user);
    assertEquals(status1.getGroup(),group);
  }
}
