{
  if (jips == null || jips.isEmpty()) {
    return new JobStatus[]{};
  }
  ArrayList<JobStatus> jobStatusList=new ArrayList<JobStatus>();
  for (  JobInProgress jip : jips) {
    JobStatus status=jip.getStatus();
    status.setStartTime(jip.getStartTime());
    status.setUsername(jip.getProfile().getUser());
    if (toComplete) {
      if (status.getRunState() == JobStatus.RUNNING || status.getRunState() == JobStatus.PREP) {
        jobStatusList.add(status);
      }
    }
 else {
      jobStatusList.add(status);
    }
  }
  return jobStatusList.toArray(new JobStatus[jobStatusList.size()]);
}
