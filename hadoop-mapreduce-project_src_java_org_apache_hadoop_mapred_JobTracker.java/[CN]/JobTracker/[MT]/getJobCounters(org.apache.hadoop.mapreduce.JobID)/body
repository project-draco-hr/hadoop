{
  JobID oldJobID=JobID.downgrade(jobid);
  JobInProgress job;
synchronized (this) {
    job=jobs.get(oldJobID);
  }
  if (job != null) {
    aclsManager.checkAccess(job,UserGroupInformation.getCurrentUser(),Operation.VIEW_JOB_COUNTERS);
    if (!isJobInited(job)) {
      return EMPTY_COUNTERS;
    }
    Counters counters=job.getCounters();
    if (counters != null) {
      return new org.apache.hadoop.mapreduce.Counters(counters);
    }
    return null;
  }
  Counters counters=completedJobStatusStore.readCounters(oldJobID);
  if (counters != null) {
    return new org.apache.hadoop.mapreduce.Counters(counters);
  }
  return null;
}
