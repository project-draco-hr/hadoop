{
synchronized (JobTracker.this) {
synchronized (taskTrackers) {
synchronized (trackerExpiryQueue) {
        long now=clock.getTime();
        TaskTrackerStatus leastRecent=null;
        while ((trackerExpiryQueue.size() > 0) && (leastRecent=trackerExpiryQueue.first()) != null && ((now - leastRecent.getLastSeen()) > tasktrackerExpiryInterval)) {
          trackerExpiryQueue.remove(leastRecent);
          String trackerName=leastRecent.getTrackerName();
          TaskTracker current=getTaskTracker(trackerName);
          TaskTrackerStatus newProfile=(current == null) ? null : current.getStatus();
          if (newProfile != null) {
            if ((now - newProfile.getLastSeen()) > tasktrackerExpiryInterval) {
              removeTracker(current);
              String hostname=newProfile.getHost();
              hostnameToTaskTracker.get(hostname).remove(trackerName);
            }
 else {
              trackerExpiryQueue.add(newProfile);
            }
          }
        }
      }
    }
  }
}
