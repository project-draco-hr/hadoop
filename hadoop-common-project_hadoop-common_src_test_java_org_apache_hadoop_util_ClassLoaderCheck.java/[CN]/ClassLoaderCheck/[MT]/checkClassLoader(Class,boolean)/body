{
  boolean loadedByAppClassLoader=cls.getClassLoader() instanceof ApplicationClassLoader;
  if ((shouldBeLoadedByAppClassLoader && !loadedByAppClassLoader) || (!shouldBeLoadedByAppClassLoader && loadedByAppClassLoader)) {
    throw new RuntimeException("incorrect classloader used");
  }
}
