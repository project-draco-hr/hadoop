{
  this.methodName=method.getName();
  this.parameterClasses=method.getParameterTypes();
  this.parameters=parameters;
  rpcVersion=writableRpcVersion;
  if (method.getDeclaringClass().equals(VersionedProtocol.class)) {
    clientVersion=0;
    clientMethodsHash=0;
  }
 else {
    try {
      this.clientVersion=method.getDeclaringClass().getField("versionID").getLong(method.getDeclaringClass());
    }
 catch (    NoSuchFieldException ex) {
      throw new RuntimeException(ex);
    }
catch (    IllegalAccessException ex) {
      throw new RuntimeException(ex);
    }
    this.clientMethodsHash=ProtocolSignature.getFingerprint(method.getDeclaringClass().getMethods());
  }
}
