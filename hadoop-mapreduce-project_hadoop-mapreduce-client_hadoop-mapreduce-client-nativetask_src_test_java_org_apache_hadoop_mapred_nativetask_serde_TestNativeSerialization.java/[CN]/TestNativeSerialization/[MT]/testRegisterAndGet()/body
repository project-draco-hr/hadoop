{
  final NativeSerialization serialization=NativeSerialization.getInstance();
  serialization.reset();
  serialization.register(WritableKey.class.getName(),ComparableKeySerializer.class);
  INativeSerializer serializer=serialization.getSerializer(WritableKey.class);
  Assert.assertEquals(ComparableKeySerializer.class.getName(),serializer.getClass().getName());
  serializer=serialization.getSerializer(WritableValue.class);
  Assert.assertEquals(DefaultSerializer.class.getName(),serializer.getClass().getName());
  boolean ioExceptionThrown=false;
  try {
    serializer=serialization.getSerializer(NonWritableValue.class);
  }
 catch (  final IOException e) {
    ioExceptionThrown=true;
  }
  Assert.assertTrue(ioExceptionThrown);
}
