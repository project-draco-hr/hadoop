{
  if (newState != state) {
    LOG.info("Entering state " + newState);
    state=newState;
synchronized (callbacks) {
      for (      Callback cb : callbacks) {
        cb.enteredState(newState);
      }
    }
  }
}
