{
  modifyAndCreateSnapshot(sub1,sub1);
  modifyAndCreateSnapshot(new Path(sub1,"subsub1/subsubsub1"),sub1);
  SnapshotDiffReport diffs=fsn.getSnapshotDiffReport(sub1.toString(),"s0","s2");
  String diffStr=diffs.dump();
  System.out.println(diffStr);
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1"));
  assertTrue(diffStr.contains("+\t/TestSnapshot/sub1/file15"));
  assertTrue(diffStr.contains("-\t/TestSnapshot/sub1/file12"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/file11"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/file13"));
  assertFalse(diffStr.contains("file14"));
  diffs=fsn.getSnapshotDiffReport(sub1.toString(),"s0","s5");
  diffStr=diffs.dump();
  System.out.println(diffStr);
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1"));
  assertTrue(diffStr.contains("+\t/TestSnapshot/sub1/file15"));
  assertTrue(diffStr.contains("+\t/TestSnapshot/sub1/subsub1"));
  assertTrue(diffStr.contains("-\t/TestSnapshot/sub1/file12"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/file10"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/file11"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/file13"));
  assertFalse(diffStr.contains("file14"));
  diffs=fsn.getSnapshotDiffReport(sub1.toString(),"s0","");
  diffStr=diffs.dump();
  System.out.println(diffStr);
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1"));
  assertTrue(diffStr.contains("+\t/TestSnapshot/sub1/file15"));
  assertTrue(diffStr.contains("+\t/TestSnapshot/sub1/subsub1"));
  assertTrue(diffStr.contains("-\t/TestSnapshot/sub1/file12"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/file10"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/file11"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/file13"));
  assertFalse(diffStr.contains("file14"));
  diffs=fsn.getSnapshotDiffReport(sub1.toString(),"s2","s5");
  diffStr=diffs.dump();
  System.out.println(diffStr);
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1"));
  assertTrue(diffStr.contains("+\t/TestSnapshot/sub1/subsub1"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/file10"));
  diffs=fsn.getSnapshotDiffReport(sub1.toString(),"s3","");
  diffStr=diffs.dump();
  System.out.println(diffStr);
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/subsub1/subsubsub1"));
  assertTrue(diffStr.contains("+\t/TestSnapshot/sub1/subsub1/subsubsub1/file15"));
  assertTrue(diffStr.contains("-\t/TestSnapshot/sub1/subsub1/subsubsub1/file12"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/subsub1/subsubsub1/file10"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/subsub1/subsubsub1/file11"));
  assertTrue(diffStr.contains("M\t/TestSnapshot/sub1/subsub1/subsubsub1/file13"));
}
