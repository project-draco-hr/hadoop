{
  if (!tasksInited.get()) {
    terminateJob(jobTerminationState);
    return;
  }
  if ((status.getRunState() == JobStatus.RUNNING) || (status.getRunState() == JobStatus.PREP)) {
    LOG.info("Killing job '" + this.status.getJobID() + "'");
    if (jobTerminationState == JobStatus.FAILED) {
      if (jobFailed) {
        return;
      }
      jobFailed=true;
    }
 else     if (jobTerminationState == JobStatus.KILLED) {
      if (jobKilled) {
        return;
      }
      jobKilled=true;
    }
    clearUncleanTasks();
    for (int i=0; i < setup.length; i++) {
      setup[i].kill();
    }
    for (int i=0; i < maps.length; i++) {
      maps[i].kill();
    }
    for (int i=0; i < reduces.length; i++) {
      reduces[i].kill();
    }
    if (!jobSetupCleanupNeeded) {
      terminateJob(jobTerminationState);
    }
  }
}
