{
  if (currentINode instanceof INodeFileUnderConstructionWithSnapshot) {
    final INodeFileUnderConstruction uc=(INodeFileUnderConstruction)currentINode;
    final INodeFileUnderConstruction copy=new INodeFileUnderConstruction(uc,uc.getClientName(),uc.getClientMachine(),uc.getClientNode());
    copy.setBlocks(null);
    return copy;
  }
 else {
    final INodeFile copy=new INodeFile(currentINode);
    copy.setBlocks(null);
    return copy;
  }
}
