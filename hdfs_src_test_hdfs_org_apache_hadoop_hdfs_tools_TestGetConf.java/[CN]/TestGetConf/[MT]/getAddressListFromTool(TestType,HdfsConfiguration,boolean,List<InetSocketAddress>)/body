{
  String out=getAddressListFromTool(type,conf,expected.size() != 0);
  List<String> values=new ArrayList<String>();
  StringTokenizer tokenizer=new StringTokenizer(out);
  while (tokenizer.hasMoreTokens()) {
    String s=tokenizer.nextToken().trim();
    values.add(s);
  }
  String[] actual=values.toArray(new String[values.size()]);
  int i=0;
  String[] expectedHosts=new String[expected.size()];
  for (  InetSocketAddress addr : expected) {
    if (!checkPort) {
      expectedHosts[i++]=addr.getHostName();
    }
 else {
      expectedHosts[i++]=addr.getHostName() + ":" + addr.getPort();
    }
  }
  assertTrue(Arrays.equals(expectedHosts,actual));
}
