{
  Container container=event.getContainer();
  ContainerId containerId=container.getContainerId();
switch (event.getType()) {
case LAUNCH_CONTAINER:
    Application app=context.getApplications().get(containerId.getApplicationAttemptId().getApplicationId());
  ContainerLaunch launch=new ContainerLaunch(context,getConfig(),dispatcher,exec,app,event.getContainer(),dirsHandler,containerManager);
running.put(containerId,new RunningContainer(containerLauncher.submit(launch),launch));
break;
case CLEANUP_CONTAINER:
RunningContainer rContainerDatum=running.remove(containerId);
if (rContainerDatum == null) {
return;
}
Future<Integer> rContainer=rContainerDatum.runningcontainer;
if (rContainer != null && !rContainer.isDone()) {
if (rContainer.cancel(false)) {
if (container.getContainerState() == ContainerState.KILLING) {
dispatcher.getEventHandler().handle(new ContainerExitEvent(containerId,ContainerEventType.CONTAINER_KILLED_ON_REQUEST,Shell.WINDOWS ? ExitCode.FORCE_KILLED.getExitCode() : ExitCode.TERMINATED.getExitCode(),"Container terminated before launch."));
}
}
}
try {
rContainerDatum.launcher.cleanupContainer();
}
 catch (IOException e) {
LOG.warn("Got exception while cleaning container " + containerId + ". Ignoring.");
}
break;
}
}
