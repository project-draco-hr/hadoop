{
  Container container=event.getContainer();
  ContainerId containerId=container.getContainerId();
switch (event.getType()) {
case LAUNCH_CONTAINER:
    Application app=context.getApplications().get(containerId.getApplicationAttemptId().getApplicationId());
  ContainerLaunch launch=new ContainerLaunch(context,getConfig(),dispatcher,exec,app,event.getContainer(),dirsHandler);
running.put(containerId,new RunningContainer(containerLauncher.submit(launch),launch));
break;
case CLEANUP_CONTAINER:
RunningContainer rContainerDatum=running.remove(containerId);
if (rContainerDatum == null) {
return;
}
Future<Integer> rContainer=rContainerDatum.runningcontainer;
if (rContainer != null && !rContainer.isDone()) {
rContainer.cancel(false);
}
try {
rContainerDatum.launcher.cleanupContainer();
}
 catch (IOException e) {
LOG.warn("Got exception while cleaning container " + containerId + ". Ignoring.");
}
break;
}
}
