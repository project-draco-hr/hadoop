{
  MetricsRecordBuilder rb=getMetrics(new JvmMetrics("test","test"));
  MetricsCollector mc=rb.parent();
  verify(mc).addRecord(JvmMetrics);
  verify(rb).tag(ProcessName,"test");
  verify(rb).tag(SessionId,"test");
  for (  JvmMetricsInfo info : JvmMetricsInfo.values()) {
    if (info.name().startsWith("Mem"))     verify(rb).addGauge(eq(info),anyFloat());
 else     if (info.name().startsWith("Gc"))     verify(rb).addCounter(eq(info),anyLong());
 else     if (info.name().startsWith("Threads"))     verify(rb).addGauge(eq(info),anyInt());
 else     if (info.name().startsWith("Log"))     verify(rb).addCounter(eq(info),anyLong());
  }
}
