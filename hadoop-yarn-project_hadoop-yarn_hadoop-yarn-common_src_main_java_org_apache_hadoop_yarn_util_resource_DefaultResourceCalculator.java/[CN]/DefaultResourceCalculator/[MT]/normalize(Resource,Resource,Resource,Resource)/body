{
  int normalizedMemory=Math.min(roundUp(Math.max(r.getMemory(),minimumResource.getMemory()),stepFactor.getMemory()),maximumResource.getMemory());
  return Resources.createResource(normalizedMemory);
}
