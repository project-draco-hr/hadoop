{
  long normalizedMemory=Math.min(roundUp(Math.max(r.getMemorySize(),minimumResource.getMemorySize()),stepFactor.getMemorySize()),maximumResource.getMemorySize());
  return Resources.createResource(normalizedMemory);
}
