{
  AccessControlList viewACL=new AccessControlList("");
  viewACL.addGroup(FRIENDLY_GROUP);
  AccessControlList modifyACL=new AccessControlList("");
  modifyACL.addUser(FRIEND);
  ApplicationId applicationId=submitAppAndGetAppId(viewACL,modifyACL);
  final GetApplicationReportRequest appReportRequest=recordFactory.newRecordInstance(GetApplicationReportRequest.class);
  appReportRequest.setApplicationId(applicationId);
  final KillApplicationRequest finishAppRequest=recordFactory.newRecordInstance(KillApplicationRequest.class);
  finishAppRequest.setApplicationId(applicationId);
  ClientRMProtocol friendClient=getRMClientForUser(FRIEND);
  friendClient.getApplicationReport(appReportRequest);
  Assert.assertEquals("App view by a friend should list the apps!!",3,friendClient.getAllApplications(recordFactory.newRecordInstance(GetAllApplicationsRequest.class)).getApplicationList().size());
  friendClient.forceKillApplication(finishAppRequest);
  resourceManager.waitForState(applicationId,RMAppState.KILLED);
}
