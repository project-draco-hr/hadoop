{
  UserGroupInformation userUGI=UserGroupInformation.createRemoteUser(user);
  ClientRMProtocol userClient=userUGI.doAs(new PrivilegedExceptionAction<ClientRMProtocol>(){
    @Override public ClientRMProtocol run() throws Exception {
      return (ClientRMProtocol)rpc.getProxy(ClientRMProtocol.class,rmAddress,conf);
    }
  }
);
  return userClient;
}
