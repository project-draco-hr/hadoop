{
  int oldNumOfReplicas=results.size();
  try {
    chooseRandom(numOfReplicas,"~" + NetworkTopology.getFirstHalf(localMachine.getNetworkLocation()),excludedNodes,blocksize,maxReplicasPerRack,results,avoidStaleNodes);
  }
 catch (  NotEnoughReplicasException e) {
    chooseRandom(numOfReplicas - (results.size() - oldNumOfReplicas),localMachine.getNetworkLocation(),excludedNodes,blocksize,maxReplicasPerRack,results,avoidStaleNodes);
  }
}
