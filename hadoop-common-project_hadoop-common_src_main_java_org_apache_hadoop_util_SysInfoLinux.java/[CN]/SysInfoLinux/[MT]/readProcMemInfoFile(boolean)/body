{
  if (readMemInfoFile && !readAgain) {
    return;
  }
  BufferedReader in;
  InputStreamReader fReader;
  try {
    fReader=new InputStreamReader(new FileInputStream(procfsMemFile),Charset.forName("UTF-8"));
    in=new BufferedReader(fReader);
  }
 catch (  FileNotFoundException f) {
    LOG.warn("Couldn't read " + procfsMemFile + "; can't determine memory settings");
    return;
  }
  Matcher mat;
  try {
    String str=in.readLine();
    while (str != null) {
      mat=PROCFS_MEMFILE_FORMAT.matcher(str);
      if (mat.find()) {
        if (mat.group(1).equals(MEMTOTAL_STRING)) {
          ramSize=Long.parseLong(mat.group(2));
        }
 else         if (mat.group(1).equals(SWAPTOTAL_STRING)) {
          swapSize=Long.parseLong(mat.group(2));
        }
 else         if (mat.group(1).equals(MEMFREE_STRING)) {
          ramSizeFree=Long.parseLong(mat.group(2));
        }
 else         if (mat.group(1).equals(SWAPFREE_STRING)) {
          swapSizeFree=Long.parseLong(mat.group(2));
        }
 else         if (mat.group(1).equals(INACTIVE_STRING)) {
          inactiveSize=Long.parseLong(mat.group(2));
        }
 else         if (mat.group(1).equals(INACTIVEFILE_STRING)) {
          inactiveFileSize=Long.parseLong(mat.group(2));
        }
 else         if (mat.group(1).equals(HARDWARECORRUPTED_STRING)) {
          hardwareCorruptSize=Long.parseLong(mat.group(2));
        }
 else         if (mat.group(1).equals(HUGEPAGESTOTAL_STRING)) {
          hugePagesTotal=Long.parseLong(mat.group(2));
        }
 else         if (mat.group(1).equals(HUGEPAGESIZE_STRING)) {
          hugePageSize=Long.parseLong(mat.group(2));
        }
      }
      str=in.readLine();
    }
  }
 catch (  IOException io) {
    LOG.warn("Error reading the stream " + io);
  }
 finally {
    try {
      fReader.close();
      try {
        in.close();
      }
 catch (      IOException i) {
        LOG.warn("Error closing the stream " + in);
      }
    }
 catch (    IOException i) {
      LOG.warn("Error closing the stream " + fReader);
    }
  }
  readMemInfoFile=true;
}
