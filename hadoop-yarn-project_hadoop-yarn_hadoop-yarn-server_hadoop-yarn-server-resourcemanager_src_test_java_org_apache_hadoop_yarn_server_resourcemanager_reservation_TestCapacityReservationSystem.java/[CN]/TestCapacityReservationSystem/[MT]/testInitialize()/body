{
  ReservationSystemTestUtil testUtil=new ReservationSystemTestUtil();
  CapacityScheduler capScheduler=null;
  try {
    capScheduler=testUtil.mockCapacityScheduler(10);
  }
 catch (  IOException e) {
    Assert.fail(e.getMessage());
  }
  CapacityReservationSystem reservationSystem=new CapacityReservationSystem();
  reservationSystem.setRMContext(capScheduler.getRMContext());
  try {
    reservationSystem.reinitialize(capScheduler.getConf(),capScheduler.getRMContext());
  }
 catch (  YarnException e) {
    Assert.fail(e.getMessage());
  }
  String planQName=testUtil.getreservationQueueName();
  ReservationSystemTestUtil.validateReservationQueue(reservationSystem,planQName);
}
