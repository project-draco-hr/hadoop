{
  final byte[] expected=StripedFileTestUtil.generateBytes(fileLength);
  Path srcPath=new Path(src);
  DFSTestUtil.writeFile(fs,srcPath,new String(expected));
  verifyLength(fs,srcPath,fileLength);
  byte[] smallBuf=new byte[1024];
  byte[] largeBuf=new byte[fileLength + 100];
  verifyPread(fs,srcPath,fileLength,expected,largeBuf);
  verifyStatefulRead(fs,srcPath,fileLength,expected,largeBuf);
  verifySeek(fs,srcPath,fileLength);
  verifyStatefulRead(fs,srcPath,fileLength,expected,ByteBuffer.allocate(fileLength + 100));
  verifyStatefulRead(fs,srcPath,fileLength,expected,smallBuf);
  verifyStatefulRead(fs,srcPath,fileLength,expected,ByteBuffer.allocate(1024));
}
