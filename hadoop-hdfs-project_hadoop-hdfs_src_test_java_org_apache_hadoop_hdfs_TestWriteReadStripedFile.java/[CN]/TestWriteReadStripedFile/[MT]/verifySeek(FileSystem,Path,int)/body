{
  try (FSDataInputStream in=fs.open(srcPath)){
    int pos=fileLength / 2;
    assertSeekAndRead(in,pos,fileLength);
    pos=fileLength / 3;
    assertSeekAndRead(in,pos,fileLength);
    pos=0;
    assertSeekAndRead(in,pos,fileLength);
    if (fileLength > cellSize) {
      pos=cellSize - 1;
      assertSeekAndRead(in,pos,fileLength);
    }
    if (fileLength > cellSize * dataBlocks) {
      pos=cellSize * dataBlocks - 1;
      assertSeekAndRead(in,pos,fileLength);
    }
    if (fileLength > blockSize * dataBlocks) {
      pos=blockSize * dataBlocks - 1;
      assertSeekAndRead(in,pos,fileLength);
    }
    if (!(in.getWrappedStream() instanceof ByteRangeInputStream)) {
      try {
        in.seek(-1);
        Assert.fail("Should be failed if seek to negative offset");
      }
 catch (      EOFException e) {
      }
      try {
        in.seek(fileLength + 1);
        Assert.fail("Should be failed if seek after EOF");
      }
 catch (      EOFException e) {
      }
    }
  }
 }
