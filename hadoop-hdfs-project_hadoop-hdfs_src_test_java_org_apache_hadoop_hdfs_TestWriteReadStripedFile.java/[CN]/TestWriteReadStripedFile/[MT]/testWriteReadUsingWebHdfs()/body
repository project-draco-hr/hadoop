{
  int fileLength=blockSize * dataBlocks + cellSize + 123;
  final byte[] expected=StripedFileTestUtil.generateBytes(fileLength);
  FileSystem fs=WebHdfsTestUtil.getWebHdfsFileSystem(conf,WebHdfsConstants.WEBHDFS_SCHEME);
  Path srcPath=new Path("/testWriteReadUsingWebHdfs_stripe");
  DFSTestUtil.writeFile(fs,srcPath,new String(expected));
  verifyLength(fs,srcPath,fileLength);
  byte[] smallBuf=new byte[1024];
  byte[] largeBuf=new byte[fileLength + 100];
  verifyPread(fs,srcPath,fileLength,expected,largeBuf);
  verifyStatefulRead(fs,srcPath,fileLength,expected,largeBuf);
  verifySeek(fs,srcPath,fileLength);
  verifyStatefulRead(fs,srcPath,fileLength,expected,smallBuf);
}
