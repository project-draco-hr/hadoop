{
  LineReader lineReader=new LineReader(in);
  Text text=new Text();
  long nread=0;
  while (nread < max) {
    int n=lineReader.readLine(text);
    nread+=n;
    String line=text.toString();
    try {
      parseLine(line);
    }
 catch (    UnsupportedEncodingException e) {
      throw new IOException("UnsupportedEncodingException after reading " + nread + "bytes");
    }
  }
}
