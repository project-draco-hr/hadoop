{
  boolean isFGroup=isFrameworkGroup(groupName);
  G group=isFGroup ? fgroups.get(groupName) : groups.get(groupName);
  if (group == null) {
    group=groupFactory.newGroup(filterGroupName(groupName),limits);
    if (isFGroup) {
      fgroups.put(groupName,group);
    }
 else {
      limits.checkGroups(groups.size() + 1);
      groups.put(groupName,group);
    }
  }
  return group;
}
