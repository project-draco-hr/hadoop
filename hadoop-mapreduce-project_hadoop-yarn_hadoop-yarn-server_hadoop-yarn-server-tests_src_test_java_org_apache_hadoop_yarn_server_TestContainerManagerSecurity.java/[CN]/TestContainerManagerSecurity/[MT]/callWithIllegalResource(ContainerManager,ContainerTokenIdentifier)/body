{
  StartContainerRequest request=recordFactory.newRecordInstance(StartContainerRequest.class);
  ContainerLaunchContext context=BuilderUtils.newContainerLaunchContext(tokenId.getContainerID(),"testUser",BuilderUtils.newResource(2048),new HashMap<String,LocalResource>(),new HashMap<String,String>(),new ArrayList<String>(),new HashMap<String,ByteBuffer>(),null,new HashMap<ApplicationAccessType,String>());
  request.setContainerLaunchContext(context);
  try {
    client.startContainer(request);
    fail("Connection initiation with unauthorized " + "access is expected to fail.");
  }
 catch (  YarnRemoteException e) {
    LOG.info("Got exception : ",e);
    Assert.assertTrue(e.getMessage().contains("Unauthorized request to start container. "));
    Assert.assertTrue(e.getMessage().contains("\nExpected resource " + tokenId.getResource().toString() + " but found "+ context.getResource().toString()));
  }
}
