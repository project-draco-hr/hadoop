{
  CommandFormat cf=new CommandFormat(min,max,opts);
  List<String> parsedArgs=new ArrayList<String>(args);
  Class<?> cfError=null;
  try {
    cf.parse(parsedArgs);
  }
 catch (  IllegalArgumentException e) {
    System.out.println(e.getMessage());
    cfError=e.getClass();
  }
  assertEquals(expectedErr,cfError);
  if (expectedErr == null) {
    assertEquals(expectedArgs,parsedArgs);
    assertEquals(expectedOpts,cf.getOpts());
  }
  return cf;
}
