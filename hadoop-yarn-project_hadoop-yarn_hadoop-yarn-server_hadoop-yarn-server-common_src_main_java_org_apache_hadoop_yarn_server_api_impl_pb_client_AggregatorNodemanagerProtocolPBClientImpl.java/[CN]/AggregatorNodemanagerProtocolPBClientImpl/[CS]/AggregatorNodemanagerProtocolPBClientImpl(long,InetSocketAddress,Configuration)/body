{
  RPC.setProtocolEngine(conf,AggregatorNodemanagerProtocolPB.class,ProtobufRpcEngine.class);
  UserGroupInformation ugi=UserGroupInformation.getCurrentUser();
  int expireIntvl=conf.getInt(NM_COMMAND_TIMEOUT,DEFAULT_COMMAND_TIMEOUT);
  proxy=(AggregatorNodemanagerProtocolPB)RPC.getProxy(AggregatorNodemanagerProtocolPB.class,clientVersion,addr,ugi,conf,NetUtils.getDefaultSocketFactory(conf),expireIntvl);
}
