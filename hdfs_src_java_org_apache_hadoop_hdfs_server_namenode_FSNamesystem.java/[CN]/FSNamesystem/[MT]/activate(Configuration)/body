{
  setBlockTotal();
  blockManager.activate(conf);
  this.hbthread=new Daemon(new HeartbeatMonitor());
  this.lmthread=new Daemon(leaseManager.new Monitor());
  this.replthread=new Daemon(new ReplicationMonitor());
  hbthread.start();
  lmthread.start();
  replthread.start();
  this.nnrmthread=new Daemon(new NameNodeResourceMonitor());
  nnrmthread.start();
  registerMXBean();
  DefaultMetricsSystem.instance().register(this);
}
