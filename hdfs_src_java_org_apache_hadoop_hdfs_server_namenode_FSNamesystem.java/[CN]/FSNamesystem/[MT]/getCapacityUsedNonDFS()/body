{
  long nonDFSUsed=0;
synchronized (heartbeats) {
    nonDFSUsed=capacityTotal - capacityRemaining - capacityUsed;
  }
  return nonDFSUsed < 0 ? 0 : nonDFSUsed;
}
