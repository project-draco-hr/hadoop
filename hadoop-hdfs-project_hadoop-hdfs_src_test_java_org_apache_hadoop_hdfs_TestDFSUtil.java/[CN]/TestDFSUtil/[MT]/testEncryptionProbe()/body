{
  Configuration conf=new Configuration(false);
  conf.unset(CommonConfigurationKeysPublic.HADOOP_SECURITY_KEY_PROVIDER_PATH);
  assertFalse("encryption enabled on no provider key",DFSUtilClient.isHDFSEncryptionEnabled(conf));
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_KEY_PROVIDER_PATH,"");
  assertFalse("encryption enabled on empty provider key",DFSUtilClient.isHDFSEncryptionEnabled(conf));
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_KEY_PROVIDER_PATH,"\n\t\n");
  assertFalse("encryption enabled on whitespace provider key",DFSUtilClient.isHDFSEncryptionEnabled(conf));
  conf.set(CommonConfigurationKeysPublic.HADOOP_SECURITY_KEY_PROVIDER_PATH,"http://hadoop.apache.org");
  assertTrue("encryption disabled on valid provider key",DFSUtilClient.isHDFSEncryptionEnabled(conf));
}
