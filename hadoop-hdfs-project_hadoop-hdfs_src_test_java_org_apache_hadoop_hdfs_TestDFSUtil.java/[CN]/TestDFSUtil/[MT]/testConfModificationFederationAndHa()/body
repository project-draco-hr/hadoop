{
  final HdfsConfiguration conf=new HdfsConfiguration();
  String nsId="ns1";
  String nnId="nn1";
  conf.set(DFS_NAMESERVICES,nsId);
  conf.set(DFS_NAMESERVICE_ID,nsId);
  conf.set(DFS_HA_NAMENODES_KEY_PREFIX + "." + nsId,nnId);
  for (  String key : NameNode.NAMESERVICE_SPECIFIC_KEYS) {
    conf.set(DFSUtil.addKeySuffixes(key,nsId,nnId),key);
  }
  NameNode.initializeGenericKeys(conf,nsId,nnId);
  for (  String key : NameNode.NAMESERVICE_SPECIFIC_KEYS) {
    assertEquals(key,conf.get(key));
  }
}
