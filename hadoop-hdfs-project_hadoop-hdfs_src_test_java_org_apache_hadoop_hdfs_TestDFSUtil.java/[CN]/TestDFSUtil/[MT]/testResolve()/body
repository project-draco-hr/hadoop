{
  final String LOGICAL_HOST_NAME="ns1";
  final String NS1_NN1_HOST="ns1-nn1.example.com";
  final String NS1_NN2_HOST="ns1-nn2.example.com";
  final String NS1_NN1_ADDR="ns1-nn1.example.com:8020";
  final String NS1_NN2_ADDR="ns1-nn2.example.com:8020";
  final int DEFAULT_PORT=NameNode.DEFAULT_PORT;
  Configuration conf=createWebHDFSHAConfiguration(LOGICAL_HOST_NAME,NS1_NN1_ADDR,NS1_NN2_ADDR);
  URI uri=new URI("webhdfs://ns1");
  assertTrue(HAUtil.isLogicalUri(conf,uri));
  InetSocketAddress[] addrs=DFSUtil.resolve(uri,DEFAULT_PORT,conf);
  assertArrayEquals(new InetSocketAddress[]{new InetSocketAddress(NS1_NN1_HOST,DEFAULT_PORT),new InetSocketAddress(NS1_NN2_HOST,DEFAULT_PORT)},addrs);
}
