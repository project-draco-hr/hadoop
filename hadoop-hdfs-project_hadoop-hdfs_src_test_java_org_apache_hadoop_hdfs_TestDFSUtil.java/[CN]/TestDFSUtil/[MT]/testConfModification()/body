{
  final HdfsConfiguration conf=new HdfsConfiguration();
  conf.set(DFS_FEDERATION_NAMESERVICES,"nn1");
  conf.set(DFS_FEDERATION_NAMESERVICE_ID,"nn1");
  final String nameserviceId=DFSUtil.getNamenodeNameServiceId(conf);
  for (  String key : NameNode.NAMESERVICE_SPECIFIC_KEYS) {
    conf.set(DFSUtil.addKeySuffixes(key,nameserviceId),key);
  }
  NameNode.initializeGenericKeys(conf,nameserviceId);
  for (  String key : NameNode.NAMESERVICE_SPECIFIC_KEYS) {
    assertEquals(key,conf.get(key));
  }
}
