{
  final HdfsConfiguration conf=new HdfsConfiguration();
  String nsId="ns1";
  conf.set(DFS_FEDERATION_NAMESERVICES,nsId);
  conf.set(DFS_FEDERATION_NAMESERVICE_ID,nsId);
  for (  String key : NameNode.NAMESERVICE_SPECIFIC_KEYS) {
    conf.set(DFSUtil.addKeySuffixes(key,nsId),key);
  }
  NameNode.initializeGenericKeys(conf,nsId,null);
  for (  String key : NameNode.NAMESERVICE_SPECIFIC_KEYS) {
    assertEquals(key,conf.get(key));
  }
}
