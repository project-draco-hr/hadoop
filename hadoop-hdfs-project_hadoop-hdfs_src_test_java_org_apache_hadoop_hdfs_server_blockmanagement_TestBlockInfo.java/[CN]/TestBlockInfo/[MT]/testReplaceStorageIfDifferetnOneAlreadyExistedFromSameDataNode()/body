{
  BlockInfo blockInfo=new BlockInfo(3);
  final DatanodeStorageInfo storage1=DFSTestUtil.createDatanodeStorageInfo("storageID1","127.0.0.1");
  final DatanodeStorageInfo storage2=new DatanodeStorageInfo(storage1.getDatanodeDescriptor(),new DatanodeStorage("storageID2"));
  blockInfo.addStorage(storage1);
  boolean added=blockInfo.addStorage(storage2);
  Assert.assertFalse(added);
  Assert.assertEquals(storage2,blockInfo.getStorageInfo(0));
}
