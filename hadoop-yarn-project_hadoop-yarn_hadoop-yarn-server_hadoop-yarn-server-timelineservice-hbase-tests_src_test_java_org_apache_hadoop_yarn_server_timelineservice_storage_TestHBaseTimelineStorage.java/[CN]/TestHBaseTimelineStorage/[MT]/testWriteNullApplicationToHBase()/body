{
  TimelineEntities te=new TimelineEntities();
  ApplicationEntity entity=new ApplicationEntity();
  String appId="application_1000178881110_2002";
  entity.setId(appId);
  long cTime=1425016501000L;
  entity.setCreatedTime(cTime);
  Map<String,Object> infoMap=new HashMap<String,Object>();
  infoMap.put("in fo M apK  ey1","infoMapValue1");
  infoMap.put("infoMapKey2",10);
  entity.addInfo(infoMap);
  te.addEntity(entity);
  HBaseTimelineWriterImpl hbi=null;
  try {
    Configuration c1=util.getConfiguration();
    hbi=new HBaseTimelineWriterImpl(c1);
    hbi.init(c1);
    hbi.start();
    String cluster="cluster_check_null_application";
    String user="user1check_null_application";
    String flow=null;
    String flowVersion="AB7822C10F1111";
    long runid=1002345678919L;
    hbi.write(cluster,user,flow,flowVersion,runid,appId,te);
    hbi.stop();
    Scan scan=new Scan();
    scan.setStartRow(Bytes.toBytes(cluster));
    scan.setStopRow(Bytes.toBytes(cluster + "1"));
    Connection conn=ConnectionFactory.createConnection(c1);
    ResultScanner resultScanner=new ApplicationTable().getResultScanner(c1,conn,scan);
    assertTrue(resultScanner != null);
    int count=0;
    for (Result rr=resultScanner.next(); rr != null; rr=resultScanner.next()) {
      count++;
    }
    assertEquals(0,count);
  }
  finally {
    if (hbi != null) {
      hbi.stop();
      hbi.close();
    }
  }
}
