{
  TimelineEntity entity=reader.getEntity(new TimelineReaderContext("cluster1","user1","some_flow_name",1002345678919L,"application_1231111111_1111","world","hello"),new TimelineDataToRetrieve(null,null,EnumSet.of(Field.ALL),null));
  assertNotNull(entity);
  assertEquals(3,entity.getConfigs().size());
  assertEquals(1,entity.getIsRelatedToEntities().size());
  Set<TimelineEntity> entities=reader.getEntities(new TimelineReaderContext("cluster1","user1","some_flow_name",1002345678919L,"application_1231111111_1111","world",null),new TimelineEntityFilters(),new TimelineDataToRetrieve(null,null,EnumSet.of(Field.ALL),null));
  assertEquals(3,entities.size());
  int cfgCnt=0;
  int metricCnt=0;
  int infoCnt=0;
  int eventCnt=0;
  int relatesToCnt=0;
  int isRelatedToCnt=0;
  for (  TimelineEntity timelineEntity : entities) {
    cfgCnt+=(timelineEntity.getConfigs() == null) ? 0 : timelineEntity.getConfigs().size();
    metricCnt+=(timelineEntity.getMetrics() == null) ? 0 : timelineEntity.getMetrics().size();
    infoCnt+=(timelineEntity.getInfo() == null) ? 0 : timelineEntity.getInfo().size();
    eventCnt+=(timelineEntity.getEvents() == null) ? 0 : timelineEntity.getEvents().size();
    relatesToCnt+=(timelineEntity.getRelatesToEntities() == null) ? 0 : timelineEntity.getRelatesToEntities().size();
    isRelatedToCnt+=(timelineEntity.getIsRelatedToEntities() == null) ? 0 : timelineEntity.getIsRelatedToEntities().size();
  }
  assertEquals(5,cfgCnt);
  assertEquals(3,metricCnt);
  assertEquals(5,infoCnt);
  assertEquals(4,eventCnt);
  assertEquals(4,relatesToCnt);
  assertEquals(4,isRelatedToCnt);
}
