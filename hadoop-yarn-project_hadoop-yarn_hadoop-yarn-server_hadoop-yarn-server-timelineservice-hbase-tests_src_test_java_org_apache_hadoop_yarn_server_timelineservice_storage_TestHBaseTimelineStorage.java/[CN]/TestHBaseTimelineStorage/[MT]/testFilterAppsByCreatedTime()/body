{
  Set<TimelineEntity> entities=reader.getEntities(new TimelineReaderContext("cluster1","user1","some_flow_name",1002345678919L,null,TimelineEntityType.YARN_APPLICATION.toString(),null),new TimelineEntityFilters(null,1425016502000L,1425016502040L,null,null,null,null,null,null),new TimelineDataToRetrieve());
  assertEquals(3,entities.size());
  for (  TimelineEntity entity : entities) {
    if (!entity.getId().equals("application_1111111111_2222") && !entity.getId().equals("application_1111111111_3333") && !entity.getId().equals("application_1111111111_4444")) {
      Assert.fail("Entities with ids' application_1111111111_2222, " + "application_1111111111_3333 and application_1111111111_4444" + " should be present");
    }
  }
  entities=reader.getEntities(new TimelineReaderContext("cluster1","user1","some_flow_name",1002345678919L,null,TimelineEntityType.YARN_APPLICATION.toString(),null),new TimelineEntityFilters(null,1425016502015L,null,null,null,null,null,null,null),new TimelineDataToRetrieve());
  assertEquals(2,entities.size());
  for (  TimelineEntity entity : entities) {
    if (!entity.getId().equals("application_1111111111_3333") && !entity.getId().equals("application_1111111111_4444")) {
      Assert.fail("Apps with ids' application_1111111111_3333 and" + " application_1111111111_4444 should be present");
    }
  }
  entities=reader.getEntities(new TimelineReaderContext("cluster1","user1","some_flow_name",1002345678919L,null,TimelineEntityType.YARN_APPLICATION.toString(),null),new TimelineEntityFilters(null,null,1425016502015L,null,null,null,null,null,null),new TimelineDataToRetrieve());
  assertEquals(1,entities.size());
  for (  TimelineEntity entity : entities) {
    if (!entity.getId().equals("application_1111111111_2222")) {
      Assert.fail("App with id application_1111111111_2222 should" + " be present");
    }
  }
}
