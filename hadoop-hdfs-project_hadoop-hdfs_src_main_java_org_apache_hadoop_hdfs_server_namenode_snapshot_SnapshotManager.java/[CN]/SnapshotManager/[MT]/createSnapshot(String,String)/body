{
  final INodeDirectorySnapshottable srcRoot=INodeDirectorySnapshottable.valueOf(fsdir.getINode(path),path);
synchronized (this) {
    final Snapshot s=srcRoot.addSnapshot(snapshotID,snapshotName);
    new SnapshotCreation().processRecursively(srcRoot,s.getRoot());
    snapshotID++;
  }
  numSnapshots.getAndIncrement();
}
