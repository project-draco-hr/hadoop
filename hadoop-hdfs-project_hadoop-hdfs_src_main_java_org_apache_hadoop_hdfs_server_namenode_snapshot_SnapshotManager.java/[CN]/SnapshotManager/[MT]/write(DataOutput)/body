{
  out.writeInt(snapshotCounter);
  out.writeInt(numSnapshottableDirs.get());
  out.writeInt(numSnapshots.get());
  for (  INodeDirectorySnapshottable snapshottableDir : snapshottables) {
    for (    Snapshot s : snapshottableDir.getSnapshotsByNames()) {
      s.write(out);
    }
  }
}
