{
  final INodesInPath iip=fsdir.getINodesInPath(path);
  final INodeDirectory d=INodeDirectory.valueOf(iip.getINode(0),path);
  if (d.isSnapshottable()) {
    ((INodeDirectorySnapshottable)d).setSnapshotQuota(INodeDirectorySnapshottable.SNAPSHOT_LIMIT);
    return;
  }
  final INodeDirectorySnapshottable s=d.replaceSelf4INodeDirectorySnapshottable(iip.getLatestSnapshot());
  snapshottables.add(s);
  numSnapshottableDirs.getAndIncrement();
}
