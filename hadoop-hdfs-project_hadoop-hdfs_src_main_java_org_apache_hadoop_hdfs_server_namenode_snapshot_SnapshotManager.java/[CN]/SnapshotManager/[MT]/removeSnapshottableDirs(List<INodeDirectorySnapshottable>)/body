{
  if (toRemoveList != null) {
    Iterator<INodeDirectorySnapshottable> iter=snapshottables.iterator();
    while (iter.hasNext()) {
      INodeDirectorySnapshottable next=iter.next();
      for (      INodeDirectorySnapshottable toRemove : toRemoveList) {
        if (next == toRemove) {
          iter.remove();
          break;
        }
      }
    }
    numSnapshottableDirs.addAndGet(-toRemoveList.size());
  }
}
