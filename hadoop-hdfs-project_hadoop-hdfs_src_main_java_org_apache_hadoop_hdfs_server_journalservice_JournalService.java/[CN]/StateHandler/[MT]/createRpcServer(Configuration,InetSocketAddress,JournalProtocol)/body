{
  RPC.setProtocolEngine(conf,JournalProtocolPB.class,ProtobufRpcEngine.class);
  JournalProtocolServerSideTranslatorPB xlator=new JournalProtocolServerSideTranslatorPB(impl);
  BlockingService service=JournalProtocolService.newReflectiveBlockingService(xlator);
  return new RPC.Builder(conf).setProtocol(JournalProtocolPB.class).setInstance(service).setBindAddress(address.getHostName()).setPort(address.getPort()).setNumHandlers(1).setVerbose(false).build();
}
