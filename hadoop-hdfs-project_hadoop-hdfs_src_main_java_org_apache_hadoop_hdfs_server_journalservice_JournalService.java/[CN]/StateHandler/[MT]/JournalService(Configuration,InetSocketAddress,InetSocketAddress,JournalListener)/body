{
  this.nnAddress=nnAddr;
  this.listener=listener;
  this.namenode=NameNodeProxies.createNonHAProxy(conf,nnAddr,NamenodeProtocol.class,UserGroupInformation.getCurrentUser(),true).getProxy();
  this.rpcServer=createRpcServer(conf,serverAddress,this);
  String addr=NetUtils.getHostPortString(rpcServer.getListenerAddress());
  StorageInfo storage=new StorageInfo(LayoutVersion.getCurrentLayoutVersion(),0,"",0);
  registration=new NamenodeRegistration(addr,"",storage,NamenodeRole.BACKUP);
}
