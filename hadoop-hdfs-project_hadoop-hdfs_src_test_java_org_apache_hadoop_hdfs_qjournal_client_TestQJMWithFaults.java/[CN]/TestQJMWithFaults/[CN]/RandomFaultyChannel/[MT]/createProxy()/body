{
  QJournalProtocol realProxy=super.createProxy();
  return mockProxy(new WrapEveryCall<Object>(realProxy){
    @Override void beforeCall(    InvocationOnMock invocation) throws Exception {
      if (random.nextFloat() < injectionProbability) {
        isUp=!isUp;
        LOG.info("transitioned " + addr + " to "+ (isUp ? "up" : "down"));
      }
      if (!isUp) {
        throw new IOException("Injected - faking being down");
      }
    }
  }
);
}
