{
  final DatanodeStorageInfo storage=dnd.getStorageInfos()[0];
  final long lastCount=storage.getBlockReportCount();
  dn.triggerBlockReport(new BlockReportOptions.Factory().setIncremental(false).build());
  try {
    GenericTestUtils.waitFor(new Supplier<Boolean>(){
      @Override public Boolean get(){
        return lastCount != storage.getBlockReportCount();
      }
    }
,10,100);
  }
 catch (  TimeoutException te) {
    return false;
  }
  return true;
}
