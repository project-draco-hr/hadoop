{
  ApplicationId appId=ApplicationId.newInstance(CLUSTER_TIMESTAMP,id);
  ApplicationSubmissionContext submissionContext=ApplicationSubmissionContext.newInstance(appId,"test","default",Priority.newInstance(0),null,false,true,2,Resource.newInstance(10,2),"test");
  return new RMAppImpl(appId,rmContext,conf,"test",System.getProperty("user.name"),"default",submissionContext,rmContext.getScheduler(),rmContext.getApplicationMasterService(),System.currentTimeMillis(),"test",null,null){
    @Override public ApplicationReport createAndGetApplicationReport(    String clientUserName,    boolean allowAccess){
      ApplicationReport report=super.createAndGetApplicationReport(clientUserName,allowAccess);
      report.setLogAggregationStatus(aggStatus);
      return report;
    }
  }
;
}
