{
  RMApp app=mock(RMAppImpl.class);
  when(app.getApplicationId()).thenReturn(ApplicationId.newInstance(100L,1));
  when(app.getName()).thenReturn("Multiline\n\n\r\rAppName");
  when(app.getUser()).thenReturn("Multiline\n\n\r\rUserName");
  when(app.getQueue()).thenReturn("Multiline\n\n\r\rQueueName");
  when(app.getState()).thenReturn(RMAppState.RUNNING);
  RMAppManager.ApplicationSummary.SummaryBuilder summary=new RMAppManager.ApplicationSummary().createAppSummary(app);
  String msg=summary.toString();
  LOG.info("summary: " + msg);
  Assert.assertFalse(msg.contains("\n"));
  Assert.assertFalse(msg.contains("\r"));
  String escaped="\\n\\n\\r\\r";
  Assert.assertTrue(msg.contains("Multiline" + escaped + "AppName"));
  Assert.assertTrue(msg.contains("Multiline" + escaped + "UserName"));
  Assert.assertTrue(msg.contains("Multiline" + escaped + "QueueName"));
}
