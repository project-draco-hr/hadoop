{
  ResettableBoundedByteArrayOutputStream stream=new ResettableBoundedByteArrayOutputStream(SIZE);
  stream.write(INPUT,0,SIZE);
  assertTrue("Array Contents Mismatch",Arrays.equals(INPUT,stream.getBuffer()));
  boolean caughtException=false;
  try {
    stream.write(INPUT[0]);
  }
 catch (  Exception e) {
    caughtException=true;
  }
  assertTrue("Writing beyond limit did not throw an exception",caughtException);
  byte[] newBuf=new byte[SIZE];
  stream.resetBuffer(newBuf,0,newBuf.length);
  assertTrue("Limit did not get reset correctly",(stream.getLimit() == SIZE));
  stream.write(INPUT,0,SIZE);
  assertTrue("Array Contents Mismatch",Arrays.equals(INPUT,stream.getBuffer()));
  caughtException=false;
  try {
    stream.write(INPUT[0]);
  }
 catch (  Exception e) {
    caughtException=true;
  }
  assertTrue("Writing beyond limit did not throw an exception",caughtException);
}
