{
  if (path == null) {
    throw new IOException("Trying to access process id from a null path");
  }
  LOG.debug("Accessing pid from pid file " + path);
  String processId=null;
  FileReader fileReader=null;
  BufferedReader bufReader=null;
  try {
    File file=new File(path.toString());
    if (file.exists()) {
      fileReader=new FileReader(file);
      bufReader=new BufferedReader(fileReader);
      while (true) {
        String line=bufReader.readLine();
        if (line == null) {
          break;
        }
        String temp=line.trim();
        if (!temp.isEmpty()) {
          try {
            Long pid=Long.valueOf(temp);
            if (pid > 0) {
              processId=temp;
              break;
            }
          }
 catch (          Exception e) {
          }
        }
      }
    }
  }
  finally {
    if (fileReader != null) {
      fileReader.close();
    }
    if (bufReader != null) {
      bufReader.close();
    }
  }
  LOG.debug("Got pid " + (processId != null ? processId : "null") + " from path "+ path);
  return processId;
}
