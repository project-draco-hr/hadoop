{
  conf=jconf;
  try {
    String TEST_ROOT_DIR=jconf.get("test.build.data","/tmp");
    Path file=new Path("file:///",TEST_ROOT_DIR);
    FileSystem fs=FileSystem.getLocal(conf);
    if (!fs.mkdirs(file)) {
      throw new IOException("Mkdirs failed to create " + file.toString());
    }
    Path fileOut=new Path(file,"test.txt");
    fs.delete(fileOut,true);
    DataOutputStream out=fs.create(fileOut);
    String[] symlinks=new String[6];
    symlinks[0]=".";
    symlinks[1]="testjar";
    symlinks[2]="testzip";
    symlinks[3]="testtgz";
    symlinks[4]="testtargz";
    symlinks[5]="testtar";
    for (int i=0; i < symlinks.length; i++) {
      File f=new File(symlinks[i]);
      File txt=new File(f,"test.txt");
      FileInputStream fin=new FileInputStream(txt);
      BufferedReader reader=new BufferedReader(new InputStreamReader(fin));
      String str=reader.readLine();
      reader.close();
      out.writeBytes(str);
      out.writeBytes("\n");
    }
    out.close();
  }
 catch (  IOException ie) {
    System.out.println(StringUtils.stringifyException(ie));
  }
}
