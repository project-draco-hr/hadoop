{
  while (!doneTraversal()) {
    while (!stack.isEmpty()) {
      Node node=stack.peek();
      if (node.hasNext()) {
        FileStatus element=node.next();
        if (!element.isDir()) {
          return element;
        }
        try {
          pushNewNode(element);
        }
 catch (        FileNotFoundException e) {
        }
        continue;
      }
 else {
        stack.pop();
        continue;
      }
    }
    while (!paths.isEmpty()) {
      FileStatus next=paths.remove(0);
      pathIdx++;
      if (!next.isDir()) {
        return next;
      }
      try {
        pushNewNode(next);
      }
 catch (      FileNotFoundException e) {
        continue;
      }
      break;
    }
  }
  return null;
}
