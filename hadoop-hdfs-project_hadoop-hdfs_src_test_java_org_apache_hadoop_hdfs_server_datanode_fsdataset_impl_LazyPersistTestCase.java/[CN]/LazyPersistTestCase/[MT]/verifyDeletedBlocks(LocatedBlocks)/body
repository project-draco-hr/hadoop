{
  LOG.info("Verifying replica has no saved copy after deletion.");
  triggerBlockReport();
  while (DataNodeTestUtils.getPendingAsyncDeletions(cluster.getDataNodes().get(0)) > 0L) {
    Thread.sleep(1000);
  }
  final String bpid=cluster.getNamesystem().getBlockPoolId();
  final FsDatasetSpi<?> dataset=cluster.getDataNodes().get(0).getFSDataset();
  try (FsDatasetSpi.FsVolumeReferences volumes=dataset.getFsVolumeReferences()){
    for (    FsVolumeSpi vol : volumes) {
      FsVolumeImpl volume=(FsVolumeImpl)vol;
      File targetDir=(volume.isTransientStorage()) ? volume.getBlockPoolSlice(bpid).getFinalizedDir() : volume.getBlockPoolSlice(bpid).getLazypersistDir();
      if (verifyBlockDeletedFromDir(targetDir,locatedBlocks) == false) {
        return false;
      }
    }
  }
   return true;
}
