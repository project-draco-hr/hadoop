{
  for (  LocatedBlock lb : locatedBlocks.getLocatedBlocks()) {
    File targetDir=DatanodeUtil.idToBlockDir(dir,lb.getBlock().getBlockId());
    File blockFile=new File(targetDir,lb.getBlock().getBlockName());
    if (blockFile.exists()) {
      LOG.warn("blockFile: " + blockFile.getAbsolutePath() + " exists after deletion.");
      return false;
    }
    File metaFile=new File(targetDir,DatanodeUtil.getMetaName(lb.getBlock().getBlockName(),lb.getBlock().getGenerationStamp()));
    if (metaFile.exists()) {
      LOG.warn("metaFile: " + metaFile.getAbsolutePath() + " exists after deletion.");
      return false;
    }
  }
  return true;
}
