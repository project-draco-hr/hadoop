{
  assertEquals(HdfsConstants.LAYOUT_VERSION,actor.retrieveNamespaceInfo().getLayoutVersion());
  doReturn(HdfsConstants.LAYOUT_VERSION * 1000).when(fakeNsInfo).getLayoutVersion();
  try {
    actor.retrieveNamespaceInfo();
    fail("Should have failed to retrieve NS info from DN with bad layout version");
  }
 catch (  IncorrectVersionException ive) {
    GenericTestUtils.assertExceptionContains("Unexpected version of namenode",ive);
    LOG.info("Got expected exception",ive);
  }
}
