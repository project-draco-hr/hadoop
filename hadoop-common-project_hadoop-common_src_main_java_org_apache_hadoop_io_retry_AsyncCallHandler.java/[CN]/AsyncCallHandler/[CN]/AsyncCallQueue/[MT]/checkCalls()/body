{
  final long startTime=Time.monotonicNow();
  long minWaitTime=Processor.MAX_WAIT_PERIOD;
  for (final Iterator<AsyncCall> i=queue.iterator(); i.hasNext(); ) {
    final AsyncCall c=i.next();
    if (c.isDone()) {
      i.remove();
      queue.checkEmpty();
    }
 else {
      final Long waitTime=c.getWaitTime(startTime);
      if (waitTime != null && waitTime > 0 && waitTime < minWaitTime) {
        minWaitTime=waitTime;
      }
    }
  }
  return minWaitTime;
}
