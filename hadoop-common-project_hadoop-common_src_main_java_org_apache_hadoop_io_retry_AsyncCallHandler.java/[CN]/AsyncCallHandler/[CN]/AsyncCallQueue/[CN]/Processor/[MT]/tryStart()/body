{
  final Thread current=Thread.currentThread();
  if (running.compareAndSet(null,current)) {
    final Daemon daemon=new Daemon(){
      @Override public void run(){
        for (; isRunning(this); ) {
          try {
            Thread.sleep(SLEEP_PERIOD);
          }
 catch (          InterruptedException e) {
            kill(this);
            return;
          }
          checkCalls();
          tryStop(this);
        }
      }
    }
;
    final boolean set=running.compareAndSet(current,daemon);
    Preconditions.checkState(set);
    if (LOG.isDebugEnabled()) {
      LOG.debug("Starting AsyncCallQueue.Processor " + daemon);
    }
    daemon.start();
  }
}
