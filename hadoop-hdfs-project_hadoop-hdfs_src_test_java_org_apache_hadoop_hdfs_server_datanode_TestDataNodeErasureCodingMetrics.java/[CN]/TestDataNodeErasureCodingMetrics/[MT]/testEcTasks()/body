{
  DataNode workerDn=doTest("/testEcTasks");
  MetricsRecordBuilder rb=getMetrics(workerDn.getMetrics().name());
  LOG.info("Waiting to finish EC reconstruction metric updates in DN");
  int retries=0;
  while (retries < 20) {
    long taskMetricValue=getLongCounter("EcReconstructionTasks",rb);
    if (taskMetricValue > 0) {
      break;
    }
    Thread.sleep(500);
    retries++;
    rb=getMetrics(workerDn.getMetrics().name());
  }
  assertCounter("EcReconstructionTasks",(long)1,rb);
  assertCounter("EcFailedReconstructionTasks",(long)0,rb);
}
