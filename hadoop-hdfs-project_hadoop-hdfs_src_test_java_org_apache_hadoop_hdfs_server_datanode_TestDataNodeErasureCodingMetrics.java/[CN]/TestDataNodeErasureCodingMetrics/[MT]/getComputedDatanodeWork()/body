{
  final BlockManager bm=cluster.getNamesystem().getBlockManager();
  int workCount=0;
  int retries=20;
  while (retries > 0) {
    workCount=BlockManagerTestUtil.getComputedDatanodeWork(bm);
    if (workCount > 0) {
      break;
    }
    retries--;
    Thread.sleep(500);
  }
  LOG.info("Computed datanode work: " + workCount + ", retries: "+ retries);
  return workCount;
}
