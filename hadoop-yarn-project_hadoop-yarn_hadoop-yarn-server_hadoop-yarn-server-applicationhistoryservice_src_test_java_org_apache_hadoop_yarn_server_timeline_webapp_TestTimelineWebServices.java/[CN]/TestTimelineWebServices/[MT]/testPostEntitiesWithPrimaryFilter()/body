{
  TimelineEntities entities=new TimelineEntities();
  TimelineEntity entity=new TimelineEntity();
  Map<String,Set<Object>> filters=new HashMap<String,Set<Object>>();
  filters.put(TimelineStore.SystemFilter.ENTITY_OWNER.toString(),new HashSet<Object>());
  entity.setPrimaryFilters(filters);
  entity.setEntityId("test id 6");
  entity.setEntityType("test type 6");
  entity.setStartTime(System.currentTimeMillis());
  entities.addEntity(entity);
  WebResource r=resource();
  ClientResponse response=r.path("ws").path("v1").path("timeline").queryParam("user.name","tester").accept(MediaType.APPLICATION_JSON).type(MediaType.APPLICATION_JSON).post(ClientResponse.class,entities);
  TimelinePutResponse putResposne=response.getEntity(TimelinePutResponse.class);
  Assert.assertEquals(1,putResposne.getErrors().size());
  List<TimelinePutError> errors=putResposne.getErrors();
  Assert.assertEquals(TimelinePutResponse.TimelinePutError.SYSTEM_FILTER_CONFLICT,errors.get(0).getErrorCode());
}
