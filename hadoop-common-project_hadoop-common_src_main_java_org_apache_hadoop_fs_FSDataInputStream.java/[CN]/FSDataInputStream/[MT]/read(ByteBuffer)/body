{
  if (in instanceof ByteBufferReadable) {
    return ((ByteBufferReadable)in).read(buf);
  }
  throw new UnsupportedOperationException("Byte-buffer read unsupported by input stream");
}
