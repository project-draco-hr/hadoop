{
  NodeManager nm=getNodeManager();
  nm.init(createNMConfig());
  nm.start();
  startContainers(nm);
  final int MAX_TRIES=20;
  int numTries=0;
  while (!processStartFile.exists() && numTries < MAX_TRIES) {
    try {
      Thread.sleep(500);
    }
 catch (    InterruptedException ex) {
      ex.printStackTrace();
    }
    numTries++;
  }
  nm.stop();
  BufferedReader reader=new BufferedReader(new FileReader(processStartFile));
  boolean foundSigTermMessage=false;
  while (true) {
    String line=reader.readLine();
    if (line == null) {
      break;
    }
    if (line.contains("SIGTERM")) {
      foundSigTermMessage=true;
      break;
    }
  }
  Assert.assertTrue("Did not find sigterm message",foundSigTermMessage);
  reader.close();
}
