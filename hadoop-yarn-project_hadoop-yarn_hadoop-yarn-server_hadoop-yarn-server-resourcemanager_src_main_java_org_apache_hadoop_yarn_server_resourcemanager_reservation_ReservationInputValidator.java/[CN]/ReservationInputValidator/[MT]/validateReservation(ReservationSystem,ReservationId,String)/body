{
  String message="";
  if (reservationId == null) {
    message="Missing reservation id." + " Please try again by specifying a reservation id.";
    RMAuditLogger.logFailure("UNKNOWN",auditConstant,"validate reservation input","ClientRMService",message);
    throw RPCUtil.getRemoteException(message);
  }
  String queueName=reservationSystem.getQueueForReservation(reservationId);
  if (queueName == null) {
    message="The specified reservation with ID: " + reservationId + " is unknown. Please try again with a valid reservation.";
    RMAuditLogger.logFailure("UNKNOWN",auditConstant,"validate reservation input","ClientRMService",message);
    throw RPCUtil.getRemoteException(message);
  }
  Plan plan=reservationSystem.getPlan(queueName);
  if (plan == null) {
    message="The specified reservation: " + reservationId + " is not associated with any valid plan."+ " Please try again with a valid reservation.";
    RMAuditLogger.logFailure("UNKNOWN",auditConstant,"validate reservation input","ClientRMService",message);
    throw RPCUtil.getRemoteException(message);
  }
  return plan;
}
