{
  lfs.delete(targetDir,true);
  lfs.mkdirs(targetDir);
  lfs.setWorkingDirectory(targetDir);
  final Path dstPath=new Path("path");
  final Path childPath=new Path(dstPath,"childPath");
  lfs.setWorkingDirectory(targetDir);
  prepPut(dstPath,false,false);
  checkPut(0,srcPath,dstPath,useWindowsPath);
  if (lfs.isFile(srcPath)) {
    checkPut(1,srcPath,dstPath,useWindowsPath);
  }
 else {
    prepPut(dstPath,true,true);
    checkPut(0,srcPath,dstPath,useWindowsPath);
  }
  prepPut(childPath,false,false);
  checkPut(1,srcPath,dstPath,useWindowsPath);
  prepPut(dstPath,true,true);
  checkPut(0,srcPath,dstPath,useWindowsPath);
  prepPut(childPath,true,true);
  checkPut(0,srcPath,childPath,useWindowsPath);
  prepPut(targetDir,true,true);
  checkPut(0,srcPath,null,useWindowsPath);
  prepPut(targetDir,true,true);
  checkPut(0,srcPath,new Path("."),useWindowsPath);
  prepPut(dstPath,false,true);
  lfs.setWorkingDirectory(dstPath);
  checkPut(1,srcPath,null,useWindowsPath);
  prepPut(dstPath,false,true);
  checkPut(1,srcPath,new Path("."),useWindowsPath);
}
