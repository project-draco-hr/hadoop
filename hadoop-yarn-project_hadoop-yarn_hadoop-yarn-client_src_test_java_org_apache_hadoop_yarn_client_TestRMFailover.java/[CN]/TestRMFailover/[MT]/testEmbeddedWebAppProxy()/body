{
  conf.setBoolean(YarnConfiguration.AUTO_FAILOVER_ENABLED,false);
  cluster.init(conf);
  cluster.start();
  assertFalse("RM never turned active",-1 == cluster.getActiveRMIndex());
  verifyConnections();
  URL wrongUrl=new URL("http://0.0.0.0:18088/proxy/" + fakeAppId);
  HttpURLConnection proxyConn=(HttpURLConnection)wrongUrl.openConnection();
  proxyConn.connect();
  verifyResponse(proxyConn);
  explicitFailover();
  verifyConnections();
  proxyConn.connect();
  verifyResponse(proxyConn);
}
