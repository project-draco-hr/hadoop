{
  ECSchema defaultSchema=ErasureCodingSchemaManager.getSystemDefaultSchema();
  INodeFile inf=createStripedINodeFile();
  inf.addStripedBlocksFeature();
  Block blk=new Block(1);
  BlockInfoStriped blockInfoStriped=new BlockInfoStriped(blk,(short)defaultSchema.getNumDataUnits(),(short)defaultSchema.getNumParityUnits());
  blockInfoStriped.setNumBytes(100);
  inf.addBlock(blockInfoStriped);
  BlockStoragePolicySuite suite=BlockStoragePolicySuite.createDefaultSuite();
  QuotaCounts counts=inf.computeQuotaUsageWithStriped(suite,new QuotaCounts.Builder().build());
  assertEquals(1,counts.getNameSpace());
  assertEquals(400,counts.getStorageSpace());
}
