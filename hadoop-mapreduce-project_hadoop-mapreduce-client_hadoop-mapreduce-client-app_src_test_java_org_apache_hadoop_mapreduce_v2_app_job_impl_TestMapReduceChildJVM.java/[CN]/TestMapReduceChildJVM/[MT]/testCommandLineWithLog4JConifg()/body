{
  MyMRApp app=new MyMRApp(1,0,true,this.getClass().getName(),true);
  Configuration conf=new Configuration();
  conf.setBoolean(MRConfig.MAPREDUCE_APP_SUBMISSION_CROSS_PLATFORM,true);
  String testLogPropertyFile="test-log4j.properties";
  String testLogPropertyPath="../" + "test-log4j.properties";
  conf.set(MRJobConfig.MAPREDUCE_JOB_LOG4J_PROPERTIES_FILE,testLogPropertyPath);
  Job job=app.submit(conf);
  app.waitForState(job,JobState.SUCCEEDED);
  app.verifyCompleted();
  for (  String content : expectedContents) {
    Assert.assertTrue("Missing argument",app.launchCmdList.get(0).contains(content));
  }
  Assert.assertTrue("Missing argument",app.launchCmdList.get(0).contains("-Dlog4j.configuration=" + testLogPropertyFile));
}
