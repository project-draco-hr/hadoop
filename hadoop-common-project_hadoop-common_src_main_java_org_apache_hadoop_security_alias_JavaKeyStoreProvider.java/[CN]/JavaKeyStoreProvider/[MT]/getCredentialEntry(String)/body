{
  readLock.lock();
  try {
    SecretKeySpec key=null;
    try {
      if (cache.containsKey(alias)) {
        return cache.get(alias);
      }
      if (!keyStore.containsAlias(alias)) {
        return null;
      }
      key=(SecretKeySpec)keyStore.getKey(alias,password);
    }
 catch (    KeyStoreException e) {
      throw new IOException("Can't get credential " + alias + " from "+ path,e);
    }
catch (    NoSuchAlgorithmException e) {
      throw new IOException("Can't get algorithm for credential " + alias + " from "+ path,e);
    }
catch (    UnrecoverableKeyException e) {
      throw new IOException("Can't recover credential " + alias + " from "+ path,e);
    }
    return new CredentialEntry(alias,bytesToChars(key.getEncoded()));
  }
  finally {
    readLock.unlock();
  }
}
