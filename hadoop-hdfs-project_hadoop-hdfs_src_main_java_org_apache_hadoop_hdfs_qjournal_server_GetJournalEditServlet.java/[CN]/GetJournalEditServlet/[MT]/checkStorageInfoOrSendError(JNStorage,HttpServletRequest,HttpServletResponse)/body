{
  int myNsId=storage.getNamespaceID();
  String myClusterId=storage.getClusterID();
  String theirStorageInfoString=StringEscapeUtils.escapeHtml(request.getParameter(STORAGEINFO_PARAM));
  if (theirStorageInfoString != null) {
    int theirNsId=StorageInfo.getNsIdFromColonSeparatedString(theirStorageInfoString);
    String theirClusterId=StorageInfo.getClusterIdFromColonSeparatedString(theirStorageInfoString);
    if (myNsId != theirNsId || !myClusterId.equals(theirClusterId)) {
      String msg="This node has namespaceId '" + myNsId + " and clusterId '"+ myClusterId+ "' but the requesting node expected '"+ theirNsId+ "' and '"+ theirClusterId+ "'";
      response.sendError(HttpServletResponse.SC_FORBIDDEN,msg);
      LOG.warn("Received an invalid request file transfer request from " + request.getRemoteAddr() + ": "+ msg);
      return false;
    }
  }
  return true;
}
