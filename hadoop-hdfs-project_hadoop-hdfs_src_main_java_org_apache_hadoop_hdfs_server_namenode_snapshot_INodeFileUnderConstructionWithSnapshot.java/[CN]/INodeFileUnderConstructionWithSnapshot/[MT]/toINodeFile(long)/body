{
  assertAllBlocksComplete();
  final long atime=getModificationTime();
  final INodeFileWithSnapshot f=new INodeFileWithSnapshot(this,getDiffs());
  f.setModificationTime(mtime,null);
  f.setAccessTime(atime,null);
  return f;
}
