{
  UserGroupInformation ugi=UserGroupInformation.getCurrentUser();
  assertEquals(UserGroupInformation.getCurrentUser(),UserGroupInformation.getLoginUser());
  assertTrue(ugi.getGroupNames().length >= 1);
  UserGroupInformation userGroupInfo=UserGroupInformation.createUserForTesting(USER_NAME,GROUP_NAMES);
  UserGroupInformation curUGI=userGroupInfo.doAs(new PrivilegedExceptionAction<UserGroupInformation>(){
    public UserGroupInformation run() throws IOException {
      return UserGroupInformation.getCurrentUser();
    }
  }
);
  assertEquals(curUGI,userGroupInfo);
  assertFalse(curUGI.equals(UserGroupInformation.getLoginUser()));
}
