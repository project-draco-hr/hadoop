{
  Configuration conf=getConfig();
  ServerBootstrap bootstrap=new ServerBootstrap(selector);
  HttpPipelineFactory pipelineFact=new HttpPipelineFactory(conf);
  bootstrap.setPipelineFactory(pipelineFact);
  port=conf.getInt(SHUFFLE_PORT_CONFIG_KEY,DEFAULT_SHUFFLE_PORT);
  Channel ch=bootstrap.bind(new InetSocketAddress(port));
  accepted.add(ch);
  port=((InetSocketAddress)ch.getLocalAddress()).getPort();
  conf.set(SHUFFLE_PORT_CONFIG_KEY,Integer.toString(port));
  pipelineFact.SHUFFLE.setPort(port);
  LOG.info(getName() + " listening on port " + port);
  super.start();
}
