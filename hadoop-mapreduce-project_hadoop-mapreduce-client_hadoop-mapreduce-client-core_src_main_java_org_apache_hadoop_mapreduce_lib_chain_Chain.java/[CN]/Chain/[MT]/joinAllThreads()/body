{
  for (  Thread thread : threads) {
    thread.join();
  }
  Throwable th=getThrowable();
  if (th != null) {
    if (th instanceof IOException) {
      throw (IOException)th;
    }
 else     if (th instanceof InterruptedException) {
      throw (InterruptedException)th;
    }
 else {
      throw new RuntimeException(th);
    }
  }
}
