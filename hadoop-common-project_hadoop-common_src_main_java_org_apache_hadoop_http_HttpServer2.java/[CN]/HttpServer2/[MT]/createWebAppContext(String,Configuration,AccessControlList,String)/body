{
  WebAppContext ctx=new WebAppContext();
  ctx.setDefaultsDescriptor(null);
  ServletHolder holder=new ServletHolder(new DefaultServlet());
  Map<String,String> params=ImmutableMap.<String,String>builder().put("acceptRanges","true").put("dirAllowed","false").put("gzip","true").put("useFileMappedBuffer","true").build();
  holder.setInitParameters(params);
  ctx.setWelcomeFiles(new String[]{"index.html"});
  ctx.addServlet(holder,"/");
  ctx.setDisplayName(name);
  ctx.setContextPath("/");
  ctx.setWar(appDir + "/" + name);
  ctx.getServletContext().setAttribute(CONF_CONTEXT_ATTRIBUTE,conf);
  ctx.getServletContext().setAttribute(ADMINS_ACL,adminsAcl);
  addNoCacheFilter(ctx);
  return ctx;
}
