{
  String host=null;
  if (useIpForTokenService) {
    if (addr.isUnresolved()) {
      throw new IllegalArgumentException(new UnknownHostException(addr.getHostName()));
    }
    host=addr.getAddress().getHostAddress();
  }
 else {
    host=addr.getHostName().toLowerCase();
  }
  return new Text(host + ":" + addr.getPort());
}
