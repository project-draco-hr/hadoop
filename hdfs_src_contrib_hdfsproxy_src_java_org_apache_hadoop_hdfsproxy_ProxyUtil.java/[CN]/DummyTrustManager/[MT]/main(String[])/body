{
  if (args.length < 1 || (!UtilityOption.RELOAD.getName().equalsIgnoreCase(args[0]) && !UtilityOption.GET.getName().equalsIgnoreCase(args[0]) && !UtilityOption.CHECKCERTS.getName().equalsIgnoreCase(args[0])) || (UtilityOption.GET.getName().equalsIgnoreCase(args[0]) && args.length != 4) || (UtilityOption.CHECKCERTS.getName().equalsIgnoreCase(args[0]) && args.length != 3)) {
    System.err.println("Usage: ProxyUtil [" + UtilityOption.RELOAD.getName() + "] | ["+ UtilityOption.GET.getName()+ " <hostname> <#port> <path> ] | ["+ UtilityOption.CHECKCERTS.getName()+ " <hostname> <#port> ]");
    System.exit(0);
  }
  Configuration conf=new HdfsConfiguration(false);
  conf.addResource("ssl-client.xml");
  conf.addResource("hdfsproxy-default.xml");
  if (UtilityOption.RELOAD.getName().equalsIgnoreCase(args[0])) {
    sendCommand(conf,"/reloadPermFiles");
  }
 else   if (UtilityOption.CHECKCERTS.getName().equalsIgnoreCase(args[0])) {
    checkServerCertsExpirationDays(conf,args[1],Integer.parseInt(args[2]));
  }
 else {
    String hostname=args[1];
    int port=Integer.parseInt(args[2]);
    String path=args[3];
    InputStream in=open(conf,hostname,port,path);
    IOUtils.copyBytes(in,System.out,conf,false);
    in.close();
  }
}
