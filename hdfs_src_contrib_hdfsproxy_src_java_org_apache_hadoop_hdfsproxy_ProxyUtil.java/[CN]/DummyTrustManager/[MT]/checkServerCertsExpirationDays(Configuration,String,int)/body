{
  setupSslProps(conf);
  HttpsURLConnection connection=null;
  connection=openConnection(hostname,port,null);
  connection.connect();
  X509Certificate[] serverCerts=(X509Certificate[])connection.getServerCertificates();
  Date curDate=new Date();
  long curTime=curDate.getTime();
  if (serverCerts != null) {
    for (    X509Certificate cert : serverCerts) {
      StringBuilder sb=new StringBuilder();
      sb.append("\n Server certificate Subject Name: " + cert.getSubjectX500Principal().getName());
      Date expDate=cert.getNotAfter();
      long expTime=expDate.getTime();
      int dayOffSet=(int)((expTime - curTime) / MM_SECONDS_PER_DAY);
      sb.append(" have " + dayOffSet + " days to expire");
      if (dayOffSet < CERT_EXPIRATION_WARNING_THRESHOLD)       LOG.warn(sb.toString());
 else       LOG.info(sb.toString());
    }
  }
 else {
    LOG.info("\n No Server certs was found");
  }
  if (connection != null) {
    connection.disconnect();
  }
}
