{
  final String path="/testValueOf";
  final short replication=3;
{
    final INode from=null;
    try {
      INodeFile.valueOf(from,path);
      fail();
    }
 catch (    FileNotFoundException fnfe) {
      assertTrue(fnfe.getMessage().contains("File does not exist"));
    }
    try {
      INodeFileUnderConstruction.valueOf(from,path);
      fail();
    }
 catch (    FileNotFoundException fnfe) {
      assertTrue(fnfe.getMessage().contains("File does not exist"));
    }
    try {
      INodeDirectory.valueOf(from,path);
      fail();
    }
 catch (    FileNotFoundException e) {
      assertTrue(e.getMessage().contains("Directory does not exist"));
    }
  }
{
    final INode from=createINodeFile(replication,preferredBlockSize);
    final INodeFile f=INodeFile.valueOf(from,path);
    assertTrue(f == from);
    try {
      INodeFileUnderConstruction.valueOf(from,path);
      fail();
    }
 catch (    IOException ioe) {
      assertTrue(ioe.getMessage().contains("File is not under construction"));
    }
    try {
      INodeDirectory.valueOf(from,path);
      fail();
    }
 catch (    PathIsNotDirectoryException e) {
    }
  }
{
    final INode from=new INodeFileUnderConstruction(INodeId.GRANDFATHER_INODE_ID,perm,replication,0L,0L,"client","machine",null);
    final INodeFile f=INodeFile.valueOf(from,path);
    assertTrue(f == from);
    final INodeFileUnderConstruction u=INodeFileUnderConstruction.valueOf(from,path);
    assertTrue(u == from);
    try {
      INodeDirectory.valueOf(from,path);
      fail();
    }
 catch (    PathIsNotDirectoryException expected) {
    }
  }
{
    final INode from=new INodeDirectory(INodeId.GRANDFATHER_INODE_ID,null,perm,0L);
    try {
      INodeFile.valueOf(from,path);
      fail();
    }
 catch (    FileNotFoundException fnfe) {
      assertTrue(fnfe.getMessage().contains("Path is not a file"));
    }
    try {
      INodeFileUnderConstruction.valueOf(from,path);
      fail();
    }
 catch (    FileNotFoundException fnfe) {
      assertTrue(fnfe.getMessage().contains("Path is not a file"));
    }
    final INodeDirectory d=INodeDirectory.valueOf(from,path);
    assertTrue(d == from);
  }
}
