{
  replication=3;
  preferredBlockSize=128 * 1024 * 1024;
  INodeFile inf=createINodeFile(replication,preferredBlockSize);
  inf.setLocalName("f");
  INodeDirectory root=new INodeDirectory(INodeId.GRANDFATHER_INODE_ID,INodeDirectory.ROOT_NAME,perm,0L);
  INodeDirectory dir=new INodeDirectory(INodeId.GRANDFATHER_INODE_ID,DFSUtil.string2Bytes("d"),perm,0L);
  assertEquals("f",inf.getFullPathName());
  assertEquals("",inf.getLocalParentDir());
  dir.addChild(inf);
  assertEquals("d" + Path.SEPARATOR + "f",inf.getFullPathName());
  assertEquals("d",inf.getLocalParentDir());
  root.addChild(dir);
  assertEquals(Path.SEPARATOR + "d" + Path.SEPARATOR+ "f",inf.getFullPathName());
  assertEquals(Path.SEPARATOR + "d",dir.getFullPathName());
  assertEquals(Path.SEPARATOR,root.getFullPathName());
  assertEquals(Path.SEPARATOR,root.getLocalParentDir());
}
