{
  PermissionStatus perms=new PermissionStatus(userName,null,FsPermission.getDefault());
  replication=3;
  preferredBlockSize=128 * 1024 * 1024;
  INodeFile inf=new INodeFile(INodeId.GRANDFATHER_INODE_ID,perms,null,replication,0L,0L,preferredBlockSize);
  inf.setLocalName("f");
  INodeDirectory root=new INodeDirectory(INodeId.GRANDFATHER_INODE_ID,INodeDirectory.ROOT_NAME,perms);
  INodeDirectory dir=new INodeDirectory(INodeId.GRANDFATHER_INODE_ID,"d",perms);
  assertEquals("f",inf.getFullPathName());
  assertEquals("",inf.getLocalParentDir());
  dir.addChild(inf,false,null);
  assertEquals("d" + Path.SEPARATOR + "f",inf.getFullPathName());
  assertEquals("d",inf.getLocalParentDir());
  root.addChild(dir,false,null);
  assertEquals(Path.SEPARATOR + "d" + Path.SEPARATOR+ "f",inf.getFullPathName());
  assertEquals(Path.SEPARATOR + "d",dir.getFullPathName());
  assertEquals(Path.SEPARATOR,root.getFullPathName());
  assertEquals(Path.SEPARATOR,root.getLocalParentDir());
}
