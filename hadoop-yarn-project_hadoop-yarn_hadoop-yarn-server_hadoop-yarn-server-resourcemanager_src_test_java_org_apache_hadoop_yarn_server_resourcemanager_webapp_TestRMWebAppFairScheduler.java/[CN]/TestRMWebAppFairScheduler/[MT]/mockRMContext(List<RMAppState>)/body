{
  final ConcurrentMap<ApplicationId,RMApp> applicationsMaps=Maps.newConcurrentMap();
  int i=0;
  for (  RMAppState state : states) {
    MockRMApp app=new MockRMApp(i,i,state);
    applicationsMaps.put(app.getApplicationId(),app);
    i++;
  }
  return new RMContextImpl(null,null,null,null,null,null,null,null,null,null){
    @Override public ConcurrentMap<ApplicationId,RMApp> getRMApps(){
      return applicationsMaps;
    }
  }
;
}
