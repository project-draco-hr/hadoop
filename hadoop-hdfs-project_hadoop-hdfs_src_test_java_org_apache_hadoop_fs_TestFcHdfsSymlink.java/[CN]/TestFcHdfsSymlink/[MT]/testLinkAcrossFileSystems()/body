{
  FileContext localFc=FileContext.getLocalFSFileContext();
  Path localDir=new Path("file://" + fileContextTestHelper.getAbsoluteTestRootDir(localFc) + "/test");
  Path localFile=new Path("file://" + fileContextTestHelper.getAbsoluteTestRootDir(localFc) + "/test/file");
  Path link=new Path(testBaseDir1(),"linkToFile");
  localFc.delete(localDir,true);
  localFc.mkdir(localDir,FileContext.DEFAULT_PERM,true);
  localFc.setWorkingDirectory(localDir);
  assertEquals(localDir,localFc.getWorkingDirectory());
  createAndWriteFile(localFc,localFile);
  fc.createSymlink(localFile,link,false);
  readFile(link);
  assertEquals(fileSize,fc.getFileStatus(link).getLen());
}
