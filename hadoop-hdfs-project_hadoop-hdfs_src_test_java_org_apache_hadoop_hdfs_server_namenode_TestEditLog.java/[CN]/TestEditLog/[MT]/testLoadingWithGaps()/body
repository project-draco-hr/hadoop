{
  File f1=new File(TEST_DIR + "/gaptest0");
  List<URI> editUris=ImmutableList.of(f1.toURI());
  NNStorage storage=setupEdits(editUris,3);
  final long startGapTxId=1 * TXNS_PER_ROLL + 1;
  final long endGapTxId=2 * TXNS_PER_ROLL;
  File[] files=new File(f1,"current").listFiles(new FilenameFilter(){
    public boolean accept(    File dir,    String name){
      if (name.startsWith(NNStorage.getFinalizedEditsFileName(startGapTxId,endGapTxId))) {
        return true;
      }
      return false;
    }
  }
);
  assertEquals(1,files.length);
  assertTrue(files[0].delete());
  FSEditLog editlog=new FSEditLog(storage);
  editlog.initJournalsForWrite();
  long startTxId=1;
  try {
    editlog.selectInputStreams(startTxId,4 * TXNS_PER_ROLL);
    fail("Should have thrown exception");
  }
 catch (  IOException ioe) {
    GenericTestUtils.assertExceptionContains("No non-corrupt logs for txid " + startGapTxId,ioe);
  }
}
