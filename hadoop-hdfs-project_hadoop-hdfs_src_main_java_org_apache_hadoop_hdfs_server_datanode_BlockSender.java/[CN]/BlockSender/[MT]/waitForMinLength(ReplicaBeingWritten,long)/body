{
  for (int i=0; i < 30 && rbw.getBytesOnDisk() < len; i++) {
    try {
      Thread.sleep(100);
    }
 catch (    InterruptedException ie) {
      throw new IOException(ie);
    }
  }
  long bytesOnDisk=rbw.getBytesOnDisk();
  if (bytesOnDisk < len) {
    throw new IOException(String.format("Need %d bytes, but only %d bytes available",len,bytesOnDisk));
  }
}
