{
  if (checksumSize <= 0 && checksumIn == null) {
    return;
  }
  try {
    checksumIn.readFully(buf,checksumOffset,checksumLen);
  }
 catch (  IOException e) {
    LOG.warn(" Could not read or failed to verify checksum for data" + " at offset " + offset + " for block "+ block,e);
    IOUtils.closeStream(checksumIn);
    checksumIn=null;
    if (corruptChecksumOk) {
      if (checksumOffset < checksumLen) {
        Arrays.fill(buf,checksumOffset,checksumLen,(byte)0);
      }
    }
 else {
      throw e;
    }
  }
}
