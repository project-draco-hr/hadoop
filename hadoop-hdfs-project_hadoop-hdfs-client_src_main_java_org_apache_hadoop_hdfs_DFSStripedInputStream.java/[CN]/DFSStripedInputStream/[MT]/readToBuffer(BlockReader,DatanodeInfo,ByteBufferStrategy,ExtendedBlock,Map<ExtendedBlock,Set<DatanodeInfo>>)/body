{
  final int targetLength=strategy.buf.remaining();
  int length=0;
  try {
    while (length < targetLength) {
      int ret=strategy.doRead(blockReader,0,0);
      if (ret < 0) {
        throw new IOException("Unexpected EOS from the reader");
      }
      length+=ret;
    }
    return length;
  }
 catch (  ChecksumException ce) {
    DFSClient.LOG.warn("Found Checksum error for " + currentBlock + " from "+ currentNode+ " at "+ ce.getPos());
    addIntoCorruptedBlockMap(currentBlock,currentNode,corruptedBlockMap);
    throw ce;
  }
catch (  IOException e) {
    DFSClient.LOG.warn("Exception while reading from " + currentBlock + " of "+ src+ " from "+ currentNode,e);
    throw e;
  }
}
