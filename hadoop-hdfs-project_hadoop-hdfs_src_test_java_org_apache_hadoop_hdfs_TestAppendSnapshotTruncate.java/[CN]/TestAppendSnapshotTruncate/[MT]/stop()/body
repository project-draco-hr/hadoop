{
  if (state.get() == State.ERROR) {
    return;
  }
  state.set(State.STOPPED);
  thread.get().join();
}
