{
  final RandomAccessFile raf=new RandomAccessFile(localFile,"rw");
  raf.setLength(newLength);
  raf.close();
  final boolean isReady=dfs.truncate(file,newLength);
  b.append(", newLength=").append(newLength).append(", isReady=").append(isReady);
  if (!isReady) {
    TestFileTruncate.checkBlockRecovery(file,dfs);
  }
  return isReady;
}
