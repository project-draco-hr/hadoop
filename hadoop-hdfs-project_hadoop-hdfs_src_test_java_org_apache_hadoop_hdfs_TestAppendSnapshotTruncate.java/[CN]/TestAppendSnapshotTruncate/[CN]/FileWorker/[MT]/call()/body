{
  final Random r=DFSUtil.getRandom();
  final int op=r.nextInt(9);
  if (op == 0) {
    return checkFullFile();
  }
 else {
    final int nBlocks=r.nextInt(4) + 1;
    final int lastBlockSize=r.nextInt(BLOCK_SIZE) + 1;
    final int nBytes=nBlocks * BLOCK_SIZE + lastBlockSize;
    if (op <= 4) {
      return append(nBytes);
    }
 else     if (op <= 6) {
      return truncateArbitrarily(nBytes);
    }
 else {
      return truncateToBlockBoundary(nBlocks);
    }
  }
}
