{
  ClusterMetrics metrics=ClusterMetrics.getMetrics();
  metrics.incrNumActiveNodes();
switch (previousNodeState) {
case LOST:
    metrics.decrNumLostNMs();
  break;
case REBOOTED:
metrics.decrNumRebootedNMs();
break;
case DECOMMISSIONED:
metrics.decrDecommisionedNMs();
break;
case UNHEALTHY:
metrics.decrNumUnhealthyNMs();
break;
case SHUTDOWN:
metrics.decrNumShutdownNMs();
break;
default :
LOG.debug("Unexpected previous node state");
}
}
