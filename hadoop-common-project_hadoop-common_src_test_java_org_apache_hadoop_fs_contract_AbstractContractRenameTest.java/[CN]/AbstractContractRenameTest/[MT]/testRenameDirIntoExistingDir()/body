{
  describe("Verify renaming a dir into an existing dir puts it underneath" + " and leaves existing files alone");
  FileSystem fs=getFileSystem();
  String sourceSubdir="source";
  Path srcDir=path(sourceSubdir);
  Path srcFilePath=new Path(srcDir,"source-256.txt");
  byte[] srcDataset=dataset(256,'a','z');
  writeDataset(fs,srcFilePath,srcDataset,srcDataset.length,1024,false);
  Path destDir=path("dest");
  Path destFilePath=new Path(destDir,"dest-512.txt");
  byte[] destDateset=dataset(512,'A','Z');
  writeDataset(fs,destFilePath,destDateset,destDateset.length,1024,false);
  assertIsFile(destFilePath);
  boolean rename=rename(srcDir,destDir);
  Path renamedSrc=new Path(destDir,sourceSubdir);
  assertIsFile(destFilePath);
  assertIsDirectory(renamedSrc);
  ContractTestUtils.verifyFileContents(fs,destFilePath,destDateset);
  assertTrue("rename returned false though the contents were copied",rename);
}
