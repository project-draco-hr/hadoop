{
  DFSTestUtil.createFile(hdfs,file1,BLOCKSIZE,REPLICATION,seed);
  SnapshotTestHelper.createSnapshot(hdfs,sub1,"s1");
  SnapshotTestHelper.createSnapshot(hdfs,sub1,"s2");
  exception.expect(RemoteException.class);
  String error="The snapshot s2 already exists for directory " + sub1.toString();
  exception.expectMessage(error);
  hdfs.renameSnapshot(sub1.toString(),"s1","s2");
}
