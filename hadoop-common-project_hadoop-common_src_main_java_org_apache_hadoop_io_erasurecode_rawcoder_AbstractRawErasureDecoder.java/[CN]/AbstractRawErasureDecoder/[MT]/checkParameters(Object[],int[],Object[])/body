{
  if (inputs.length != getNumParityUnits() + getNumDataUnits()) {
    throw new IllegalArgumentException("Invalid inputs length");
  }
  if (erasedIndexes.length != outputs.length) {
    throw new HadoopIllegalArgumentException("erasedIndexes and outputs mismatch in length");
  }
  if (erasedIndexes.length > getNumParityUnits()) {
    throw new HadoopIllegalArgumentException("Too many erased, not recoverable");
  }
  int validInputs=0;
  for (int i=0; i < inputs.length; ++i) {
    if (inputs[i] != null) {
      validInputs+=1;
    }
  }
  if (validInputs < getNumDataUnits()) {
    throw new HadoopIllegalArgumentException("No enough valid inputs are provided, not recoverable");
  }
}
