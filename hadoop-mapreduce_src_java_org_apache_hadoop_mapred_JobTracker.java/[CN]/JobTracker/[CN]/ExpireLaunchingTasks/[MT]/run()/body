{
  while (true) {
    try {
      Thread.sleep(tasktrackerExpiryInterval / 3);
      long now=clock.getTime();
      if (LOG.isDebugEnabled()) {
        LOG.debug("Starting launching task sweep");
      }
synchronized (JobTracker.this) {
synchronized (launchingTasks) {
          Iterator<Map.Entry<TaskAttemptID,Long>> itr=launchingTasks.entrySet().iterator();
          while (itr.hasNext()) {
            Map.Entry<TaskAttemptID,Long> pair=itr.next();
            TaskAttemptID taskId=pair.getKey();
            long age=now - (pair.getValue()).longValue();
            LOG.info(taskId + " is " + age+ " ms debug.");
            if (age > tasktrackerExpiryInterval) {
              LOG.info("Launching task " + taskId + " timed out.");
              TaskInProgress tip=null;
              tip=taskidToTIPMap.get(taskId);
              if (tip != null) {
                JobInProgress job=tip.getJob();
                String trackerName=getAssignedTracker(taskId);
                TaskTrackerStatus trackerStatus=getTaskTrackerStatus(trackerName);
                if (trackerStatus != null)                 job.failedTask(tip,taskId,"Error launching task",tip.isMapTask() ? TaskStatus.Phase.MAP : TaskStatus.Phase.STARTING,TaskStatus.State.FAILED,trackerName);
              }
              itr.remove();
            }
 else {
              break;
            }
          }
        }
      }
    }
 catch (    InterruptedException ie) {
      break;
    }
catch (    Exception e) {
      LOG.error("Expire Launching Task Thread got exception: " + StringUtils.stringifyException(e));
    }
  }
}
