{
  FilenameFilter filter=new FilenameFilter(){
    @Override public boolean accept(    File dir,    String name){
      return name.matches(NameNodeFile.EDITS_TMP.getName() + "_(\\d+)-(\\d+)_(\\d+)");
    }
  }
;
  Iterator<StorageDirectory> it=storage.dirIterator(NameNodeDirType.EDITS);
  for (; it.hasNext(); ) {
    StorageDirectory dir=it.next();
    File[] tempEdits=dir.getCurrentDir().listFiles(filter);
    if (tempEdits != null) {
      for (      File t : tempEdits) {
        boolean success=t.delete();
        if (!success) {
          LOG.warn("Failed to delete temporary edits file: " + t.getAbsolutePath());
        }
      }
    }
  }
}
