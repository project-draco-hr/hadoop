{
  requireWinutils();
  File a=new File(TEST_DIR,"a");
  a.createNewFile();
  chmod("377",a);
  try {
    readFile(a);
    assertFalse("readFile should have failed!",true);
  }
 catch (  IOException ex) {
    LOG.info("Expected: Failed read from a file with permissions 377");
  }
  chmod("700",a);
  chmod("577",a);
  try {
    writeFile(a,"test");
    fail("writeFile should have failed!");
  }
 catch (  IOException ex) {
    LOG.info("Expected: Failed write to a file with permissions 577");
  }
  chmod("700",a);
  assertTrue(a.delete());
  File winutilsFile=Shell.getWinutilsFile();
  File aExe=new File(TEST_DIR,"a.exe");
  FileUtils.copyFile(winutilsFile,aExe);
  chmod("677",aExe);
  try {
    Shell.execCommand(aExe.getCanonicalPath(),"ls");
    fail("executing " + aExe + " should have failed!");
  }
 catch (  IOException ex) {
    LOG.info("Expected: Failed to execute a file with permissions 677");
  }
  assertTrue(aExe.delete());
}
