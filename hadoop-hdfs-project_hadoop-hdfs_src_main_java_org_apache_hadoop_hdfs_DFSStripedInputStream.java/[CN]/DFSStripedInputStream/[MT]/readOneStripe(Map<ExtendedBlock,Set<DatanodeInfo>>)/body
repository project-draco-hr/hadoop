{
  resetCurStripeBuffer();
  final long offsetInBlockGroup=getOffsetInBlockGroup();
  final long stripeLen=cellSize * dataBlkNum;
  final int stripeIndex=(int)(offsetInBlockGroup / stripeLen);
  final int stripeBufOffset=(int)(offsetInBlockGroup % stripeLen);
  final int stripeLimit=(int)Math.min(currentLocatedBlock.getBlockSize() - (stripeIndex * stripeLen),stripeLen);
  curStripeRange=new StripeRange(offsetInBlockGroup,stripeLimit - stripeBufOffset);
  LocatedStripedBlock blockGroup=(LocatedStripedBlock)currentLocatedBlock;
  AlignedStripe[] stripes=StripedBlockUtil.divideOneStripe(schema,cellSize,blockGroup,offsetInBlockGroup,offsetInBlockGroup + curStripeRange.length - 1,curStripeBuf);
  final LocatedBlock[] blks=StripedBlockUtil.parseStripedBlockGroup(blockGroup,cellSize,dataBlkNum,parityBlkNum);
  for (  AlignedStripe stripe : stripes) {
    StripeReader sreader=new StatefulStripeReader(readingService,stripe,blks);
    sreader.readStripe(blks,corruptedBlockMap);
  }
  curStripeBuf.position(stripeBufOffset);
  curStripeBuf.limit(stripeLimit);
}
