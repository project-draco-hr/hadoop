{
  if (decodeInputs == null) {
    decodeInputs=new ByteBuffer[dataBlkNum + parityBlkNum];
    final ByteBuffer cur;
synchronized (DFSStripedInputStream.this) {
      cur=curStripeBuf.duplicate();
    }
    StripedBlockUtil.VerticalRange range=alignedStripe.range;
    for (int i=0; i < dataBlkNum; i++) {
      cur.limit(cur.capacity());
      int pos=(int)(range.offsetInBlock % cellSize + cellSize * i);
      cur.position(pos);
      cur.limit((int)(pos + range.spanInBlock));
      final int decodeIndex=StripedBlockUtil.convertIndex4Decode(i,dataBlkNum,parityBlkNum);
      decodeInputs[decodeIndex]=cur.slice();
      if (alignedStripe.chunks[i] == null) {
        alignedStripe.chunks[i]=new StripingChunk(decodeInputs[decodeIndex]);
      }
    }
  }
}
