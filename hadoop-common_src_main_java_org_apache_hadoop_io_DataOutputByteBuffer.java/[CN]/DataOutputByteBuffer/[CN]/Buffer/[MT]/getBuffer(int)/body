{
  if (inactive.isEmpty()) {
    size=Math.max(size << 1,newsize);
    current=direct ? ByteBuffer.allocateDirect(size) : ByteBuffer.allocate(size);
  }
 else {
    current=inactive.remove(0);
  }
  return current.remaining();
}
