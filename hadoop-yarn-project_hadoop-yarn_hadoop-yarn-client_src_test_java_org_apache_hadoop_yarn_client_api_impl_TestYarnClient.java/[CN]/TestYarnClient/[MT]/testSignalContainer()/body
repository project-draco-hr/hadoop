{
  Configuration conf=new Configuration();
  @SuppressWarnings("resource") final YarnClient client=new MockYarnClient();
  client.init(conf);
  client.start();
  ApplicationId applicationId=ApplicationId.newInstance(1234,5);
  ApplicationAttemptId appAttemptId=ApplicationAttemptId.newInstance(applicationId,1);
  ContainerId containerId=ContainerId.newContainerId(appAttemptId,1);
  SignalContainerCommand command=SignalContainerCommand.OUTPUT_THREAD_DUMP;
  client.signalToContainer(containerId,command);
  final ArgumentCaptor<SignalContainerRequest> signalReqCaptor=ArgumentCaptor.forClass(SignalContainerRequest.class);
  verify(((MockYarnClient)client).getRMClient()).signalToContainer(signalReqCaptor.capture());
  SignalContainerRequest request=signalReqCaptor.getValue();
  Assert.assertEquals(containerId,request.getContainerId());
  Assert.assertEquals(command,request.getCommand());
}
