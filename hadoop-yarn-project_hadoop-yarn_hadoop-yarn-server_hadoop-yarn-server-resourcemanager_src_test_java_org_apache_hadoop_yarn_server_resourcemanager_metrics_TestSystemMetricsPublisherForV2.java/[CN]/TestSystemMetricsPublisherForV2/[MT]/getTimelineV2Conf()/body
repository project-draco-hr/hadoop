{
  Configuration conf=new Configuration();
  conf.setBoolean(YarnConfiguration.TIMELINE_SERVICE_ENABLED,true);
  conf.setFloat(YarnConfiguration.TIMELINE_SERVICE_VERSION,2.0f);
  conf.setBoolean(YarnConfiguration.SYSTEM_METRICS_PUBLISHER_ENABLED,true);
  conf.setInt(YarnConfiguration.RM_SYSTEM_METRICS_PUBLISHER_DISPATCHER_POOL_SIZE,2);
  conf.setBoolean(YarnConfiguration.RM_PUBLISH_CONTAINER_EVENTS_ENABLED,true);
  try {
    conf.set(FileSystemTimelineWriterImpl.TIMELINE_SERVICE_STORAGE_DIR_ROOT,testRootDir.getCanonicalPath());
  }
 catch (  IOException e) {
    e.printStackTrace();
    Assert.fail("Exception while setting the TIMELINE_SERVICE_STORAGE_DIR_ROOT ");
  }
  return conf;
}
