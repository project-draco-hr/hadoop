{
  KeyFieldBasedPartitioner<Text,Text> kfbp=new KeyFieldBasedPartitioner<Text,Text>();
  JobConf conf=new JobConf();
  conf.set(KeyFieldBasedPartitioner.PARTITIONER_OPTIONS,"-k1,1");
  kfbp.setConf(conf);
  Text key=new Text("foo\tbar");
  Text val=new Text("val");
  int partNum=kfbp.getPartition(key,val,4096);
  kfbp.configure(conf);
  assertEquals(partNum,kfbp.getPartition(key,val,4096));
}
