{
  NodeReport report=recordFactory.newRecordInstance(NodeReport.class);
  report.setNodeId(rmNode.getNodeID());
  report.setRackName(rmNode.getRackName());
  report.setCapability(rmNode.getTotalCapability());
  report.setNodeHealthStatus(rmNode.getNodeHealthStatus());
  SchedulerNodeReport schedulerNodeReport=scheduler.getNodeReport(rmNode.getNodeID());
  Resource used=BuilderUtils.newResource(0);
  int numContainers=0;
  if (schedulerNodeReport != null) {
    used=schedulerNodeReport.getUsedResource();
    numContainers=schedulerNodeReport.getNumContainers();
  }
  report.setUsed(used);
  report.setNumContainers(numContainers);
  return report;
}
