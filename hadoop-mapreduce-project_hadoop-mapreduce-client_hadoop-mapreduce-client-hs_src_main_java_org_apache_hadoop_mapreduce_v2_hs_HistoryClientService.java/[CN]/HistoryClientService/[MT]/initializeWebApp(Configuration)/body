{
  webApp=new HsWebApp(history);
  InetSocketAddress bindAddress=MRWebAppUtil.getJHSWebBindAddress(conf);
  WebApps.$for("jobhistory",HistoryClientService.class,this,"ws").with(conf).withHttpSpnegoKeytabKey(JHAdminConfig.MR_WEBAPP_SPNEGO_KEYTAB_FILE_KEY).withHttpSpnegoPrincipalKey(JHAdminConfig.MR_WEBAPP_SPNEGO_USER_NAME_KEY).at(NetUtils.getHostPortString(bindAddress)).start(webApp);
  MRWebAppUtil.setJHSWebappURLWithoutScheme(conf,NetUtils.getHostPortString(webApp.getListenerAddress()));
}
