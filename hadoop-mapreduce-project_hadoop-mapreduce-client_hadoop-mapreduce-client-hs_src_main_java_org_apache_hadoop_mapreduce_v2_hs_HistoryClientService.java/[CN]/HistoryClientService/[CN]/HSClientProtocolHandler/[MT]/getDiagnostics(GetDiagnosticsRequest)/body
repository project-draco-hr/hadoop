{
  TaskAttemptId taskAttemptId=request.getTaskAttemptId();
  Job job=verifyAndGetJob(taskAttemptId.getTaskId().getJobId(),true);
  GetDiagnosticsResponse response=recordFactory.newRecordInstance(GetDiagnosticsResponse.class);
  response.addAllDiagnostics(job.getTask(taskAttemptId.getTaskId()).getAttempt(taskAttemptId).getDiagnostics());
  return response;
}
