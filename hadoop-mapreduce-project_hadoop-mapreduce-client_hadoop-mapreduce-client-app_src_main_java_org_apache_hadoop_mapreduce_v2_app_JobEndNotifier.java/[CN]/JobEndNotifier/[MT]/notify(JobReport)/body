{
  if (userUrl == null) {
    Log.info("Job end notification URL not set, skipping.");
    return;
  }
  if (userUrl.contains(JOB_ID)) {
    userUrl=userUrl.replace(JOB_ID,jobReport.getJobId().toString());
  }
  if (userUrl.contains(JOB_STATUS)) {
    userUrl=userUrl.replace(JOB_STATUS,jobReport.getJobState().toString());
  }
  try {
    urlToNotify=new URL(userUrl);
  }
 catch (  MalformedURLException mue) {
    Log.warn("Job end notification couldn't parse " + userUrl,mue);
    return;
  }
  boolean success=false;
  while (numTries-- > 0 && !success) {
    Log.info("Job end notification attempts left " + numTries);
    success=notifyURLOnce();
    if (!success) {
      Thread.sleep(waitInterval);
    }
  }
  if (!success) {
    Log.warn("Job end notification failed to notify : " + urlToNotify);
  }
 else {
    Log.info("Job end notification succeeded for " + jobReport.getJobId());
  }
}
