{
  if (needEnter()) {
    enter();
    if (canInitializeReplQueues() && !isPopulatingReplQueues()) {
      initializeReplQueues();
    }
    reportStatus("STATE* Safe mode ON.",false);
    return;
  }
  if (!isOn() || extension <= 0 || threshold <= 0) {
    this.leave(true);
    return;
  }
  if (reached > 0) {
    reportStatus("STATE* Safe mode ON.",false);
    return;
  }
  reached=now();
  smmthread=new Daemon(new SafeModeMonitor());
  smmthread.start();
  reportStatus("STATE* Safe mode extension entered.",true);
  if (canInitializeReplQueues() && !isPopulatingReplQueues()) {
    initializeReplQueues();
  }
}
