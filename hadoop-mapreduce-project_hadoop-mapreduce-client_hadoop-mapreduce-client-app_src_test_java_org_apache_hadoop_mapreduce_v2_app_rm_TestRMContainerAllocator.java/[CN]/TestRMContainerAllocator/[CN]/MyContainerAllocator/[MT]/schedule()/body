{
  GenericTestUtils.waitFor(new Supplier<Boolean>(){
    public Boolean get(){
      return eventQueue.isEmpty();
    }
  }
,100,10000);
  super.heartbeat();
  List<TaskAttemptContainerAssignedEvent> result=new ArrayList<TaskAttemptContainerAssignedEvent>(events);
  events.clear();
  return result;
}
