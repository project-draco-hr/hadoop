{
  TaskAttempt attempt=task.getAttempts().values().iterator().next();
  List<ContainerStatus> contStatus=new ArrayList<ContainerStatus>(1);
  contStatus.add(ContainerStatus.newInstance(attempt.getAssignedContainerID(),ContainerState.COMPLETE,"",0));
  Map<ApplicationId,List<ContainerStatus>> statusUpdate=new HashMap<ApplicationId,List<ContainerStatus>>(1);
  statusUpdate.put(mrApp.getAppID(),contStatus);
  node.nodeHeartbeat(statusUpdate,true);
  rmDispatcher.await();
  mrApp.getContext().getEventHandler().handle(new TaskAttemptEvent(attempt.getID(),TaskAttemptEventType.TA_DONE));
  mrApp.waitForState(task,TaskState.SUCCEEDED);
}
