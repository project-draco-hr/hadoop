{
  for (int i=0; i < pids.length; i++) {
    File statFile=new File(new File(procfsRootDir,pids[i]),ProcfsBasedProcessTree.PROCFS_STAT_FILE);
    BufferedWriter bw=null;
    try {
      FileWriter fw=new FileWriter(statFile);
      bw=new BufferedWriter(fw);
      bw.write(procs[i].getStatLine());
      LOG.info("wrote stat file for " + pids[i] + " with contents: "+ procs[i].getStatLine());
    }
  finally {
      if (bw != null) {
        bw.close();
      }
    }
    if (smaps != null) {
      File smapFile=new File(new File(procfsRootDir,pids[i]),ProcfsBasedProcessTree.SMAPS);
      bw=null;
      try {
        FileWriter fw=new FileWriter(smapFile);
        bw=new BufferedWriter(fw);
        bw.write(smaps[i].toString());
        bw.flush();
        LOG.info("wrote smap file for " + pids[i] + " with contents: "+ smaps[i].toString());
      }
  finally {
        if (bw != null) {
          bw.close();
        }
      }
    }
  }
}
