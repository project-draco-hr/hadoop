{
  if (verbose) {
    System.err.println("JarBuilder.addNamedStream " + name);
  }
  try {
    dst.putNextEntry(new JarEntry(name));
    int bytesRead=0;
    while ((bytesRead=in.read(buffer,0,BUFF_SIZE)) != -1) {
      dst.write(buffer,0,bytesRead);
    }
  }
 catch (  ZipException ze) {
    if (ze.getMessage().indexOf("duplicate entry") >= 0) {
      if (verbose) {
        System.err.println(ze + " Skip duplicate entry " + name);
      }
    }
 else {
      throw ze;
    }
  }
 finally {
    in.close();
    dst.flush();
    dst.closeEntry();
  }
}
