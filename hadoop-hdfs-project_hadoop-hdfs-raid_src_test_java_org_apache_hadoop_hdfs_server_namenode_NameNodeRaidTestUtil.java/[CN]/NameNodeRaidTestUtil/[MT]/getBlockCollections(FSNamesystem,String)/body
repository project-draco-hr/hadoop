{
  final BlockCollection[] inodes=new BlockCollection[files.length];
  final FSDirectory dir=namesystem.dir;
  dir.readLock();
  try {
    for (int i=0; i < files.length; i++) {
      inodes[i]=(BlockCollection)dir.rootDir.getNode(files[i],true);
    }
    return inodes;
  }
  finally {
    dir.readUnlock();
  }
}
