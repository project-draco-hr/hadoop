{
  if (currentShouldExist) {
    for (int i=0; i < baseDirs.length; i++) {
      assertTrue(new File(baseDirs[i],"current").isDirectory());
      assertTrue(new File(baseDirs[i],"current/VERSION").isFile());
      assertTrue(new File(baseDirs[i],"current/edits").isFile());
      assertTrue(new File(baseDirs[i],"current/fsimage").isFile());
      assertTrue(new File(baseDirs[i],"current/fstime").isFile());
    }
  }
  if (previousShouldExist) {
    for (int i=0; i < baseDirs.length; i++) {
      assertTrue(new File(baseDirs[i],"previous").isDirectory());
      assertEquals(UpgradeUtilities.checksumContents(NAME_NODE,new File(baseDirs[i],"previous")),UpgradeUtilities.checksumMasterNameNodeContents());
    }
  }
}
