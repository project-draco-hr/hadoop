{
  if (genericRight instanceof CounterGroup) {
    Iterator<Counter> right=((CounterGroup)genericRight).counters.values().iterator();
    Iterator<Counter> left=counters.values().iterator();
    while (left.hasNext()) {
      if (!right.hasNext() || !left.next().equals(right.next())) {
        return false;
      }
    }
    return !right.hasNext();
  }
  return false;
}
