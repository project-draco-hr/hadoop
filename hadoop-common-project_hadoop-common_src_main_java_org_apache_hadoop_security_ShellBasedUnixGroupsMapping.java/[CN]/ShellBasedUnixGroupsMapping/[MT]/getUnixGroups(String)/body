{
  String result="";
  try {
    result=Shell.execCommand(Shell.getGroupsForUserCommand(user));
  }
 catch (  ExitCodeException e) {
    LOG.warn("got exception trying to get groups for user " + user + ": "+ e.getMessage());
    return new LinkedList<String>();
  }
  StringTokenizer tokenizer=new StringTokenizer(result,Shell.TOKEN_SEPARATOR_REGEX);
  List<String> groups=new LinkedList<String>();
  while (tokenizer.hasMoreTokens()) {
    groups.add(tokenizer.nextToken());
  }
  if (!Shell.WINDOWS) {
    for (int i=1; i < groups.size(); i++) {
      if (groups.get(i).equals(groups.get(0))) {
        groups.remove(i);
        break;
      }
    }
  }
  return groups;
}
