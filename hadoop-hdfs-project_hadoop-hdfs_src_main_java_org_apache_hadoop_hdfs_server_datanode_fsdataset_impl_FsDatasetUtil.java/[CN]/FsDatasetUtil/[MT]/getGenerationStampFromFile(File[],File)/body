{
  String blockName=blockFile.getName();
  for (int j=0; j < listdir.length; j++) {
    String path=listdir[j].getName();
    if (!path.startsWith(blockName)) {
      continue;
    }
    if (blockFile == listdir[j]) {
      continue;
    }
    return Block.getGenerationStamp(listdir[j].getName());
  }
  FsDatasetImpl.LOG.warn("Block " + blockFile + " does not have a metafile!");
  return HdfsConstantsClient.GRANDFATHER_GENERATION_STAMP;
}
