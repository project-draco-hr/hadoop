def test_get_mappings_string_for_role(self):
    input = StringIO(json.dumps(spec))
    volume_spec_manager = JsonVolumeSpecManager(input)
    master_mappings = volume_spec_manager.get_mappings_string_for_role('master')
    self.assertEqual('/,/dev/sdj', master_mappings)
    slave_mappings = volume_spec_manager.get_mappings_string_for_role('slave')
    self.assertEqual('/,/dev/sdj;/data1,/dev/sdk', slave_mappings)
    self.assertRaises(KeyError, volume_spec_manager.get_mappings_string_for_role, 'no-such-role')
