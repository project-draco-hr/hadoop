{
  final INodeFile inodeOfCurrentFile=getINodeFile(currentFile);
  assertEquals(expectedBlockRep,inodeOfCurrentFile.getBlockReplication());
  for (  Path ss : snapshotRepMap.keySet()) {
    final INodesInPath iip=fsdir.getLastINodeInPath(ss.toString());
    final INodeFile ssInode=(INodeFile)iip.getLastINode();
    assertEquals(expectedBlockRep,ssInode.getBlockReplication());
    assertEquals(snapshotRepMap.get(ss).shortValue(),ssInode.getFileReplication(iip.getPathSnapshotId()));
  }
}
