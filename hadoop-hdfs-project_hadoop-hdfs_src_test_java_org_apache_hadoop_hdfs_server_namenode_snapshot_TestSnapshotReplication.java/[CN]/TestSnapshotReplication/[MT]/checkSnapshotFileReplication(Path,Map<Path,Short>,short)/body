{
  final INodeFile inodeOfCurrentFile=getINodeFile(currentFile);
  assertEquals(expectedBlockRep,inodeOfCurrentFile.getPreferredBlockReplication());
  for (  Path ss : snapshotRepMap.keySet()) {
    final INodesInPath iip=fsdir.getINodesInPath(ss.toString(),true);
    final INodeFile ssInode=iip.getLastINode().asFile();
    assertEquals(expectedBlockRep,ssInode.getPreferredBlockReplication());
    assertEquals(snapshotRepMap.get(ss).shortValue(),ssInode.getFileReplication(iip.getPathSnapshotId()));
  }
}
