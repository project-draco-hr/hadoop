{
  final FSPermissionChecker pc=getFsPermissionChecker(fsn);
  if (directive.getId() != null) {
    throw new IOException("addDirective: you cannot specify an ID " + "for this operation.");
  }
  CacheDirectiveInfo effectiveDirective=cacheManager.addDirective(directive,pc,flags);
  fsn.getEditLog().logAddCacheDirectiveInfo(effectiveDirective,logRetryCache);
  return effectiveDirective;
}
