{
  for (  Set<RMContainer> containers : selectedCandidates.values()) {
    for (    RMContainer c : containers) {
      SchedulerNode schedulerNode=context.getScheduler().getSchedulerNode(c.getAllocatedNode());
      if (null == schedulerNode) {
        continue;
      }
      String partition=schedulerNode.getPartition();
      String queue=c.getQueueName();
      TempQueuePerPartition tq=context.getQueueByPartition(queue,partition);
      Resource res=c.getReservedResource();
      if (null == res) {
        res=c.getAllocatedResource();
      }
      if (null != res) {
        tq.deductActuallyToBePreempted(context.getResourceCalculator(),tq.totalPartitionResource,res);
      }
    }
  }
}
