{
  mockClientResponse(client,ClientResponse.Status.OK,true,false);
  try {
    TimelinePutResponse response=client.putEntities(generateEntity());
    Assert.assertEquals(1,response.getErrors().size());
    Assert.assertEquals("test entity id",response.getErrors().get(0).getEntityId());
    Assert.assertEquals("test entity type",response.getErrors().get(0).getEntityType());
    Assert.assertEquals(TimelinePutResponse.TimelinePutError.IO_EXCEPTION,response.getErrors().get(0).getErrorCode());
  }
 catch (  YarnException e) {
    Assert.fail("Exception is not expected");
  }
}
