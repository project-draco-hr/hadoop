{
  sendAttemptUpdateSavedEvent(applicationAttempt);
  assertEquals(RMAppAttemptState.KILLED,applicationAttempt.getAppAttemptState());
  assertEquals(diagnostics,applicationAttempt.getDiagnostics());
  assertEquals(0,applicationAttempt.getJustFinishedContainers().size());
  assertEquals(amContainer,applicationAttempt.getMasterContainer());
  assertEquals(0.0,(double)applicationAttempt.getProgress(),0.0001);
  assertEquals(0,applicationAttempt.getRanNodes().size());
  assertNull(applicationAttempt.getFinalApplicationStatus());
  verifyTokenCount(applicationAttempt.getAppAttemptId(),1);
  verify(writer).applicationAttemptFinished(any(RMAppAttempt.class));
  verifyAttemptFinalStateSaved();
  assertFalse(transferStateFromPreviousAttempt);
}
