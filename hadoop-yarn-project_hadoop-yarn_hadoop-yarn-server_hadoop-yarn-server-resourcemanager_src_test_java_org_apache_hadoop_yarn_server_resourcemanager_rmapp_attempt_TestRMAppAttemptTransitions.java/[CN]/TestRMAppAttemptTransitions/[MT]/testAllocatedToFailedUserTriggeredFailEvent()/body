{
  Container amContainer=allocateApplicationAttempt();
  assertEquals(YarnApplicationAttemptState.ALLOCATED,applicationAttempt.createApplicationAttemptState());
  applicationAttempt.handle(new RMAppAttemptFailedEvent(applicationAttempt.getAppAttemptId(),FAILED_DIAGNOSTICS));
  testAppAttemptFailedState(amContainer,FAILED_DIAGNOSTICS);
}
