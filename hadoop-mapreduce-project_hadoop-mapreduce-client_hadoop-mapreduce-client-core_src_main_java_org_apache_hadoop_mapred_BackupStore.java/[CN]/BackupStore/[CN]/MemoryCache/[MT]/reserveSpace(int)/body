{
  int availableSize=blockSize - usedSize;
  if (availableSize >= length + EOF_MARKER_SIZE) {
    return true;
  }
  assert(!inReset);
  createInMemorySegment();
  int tmp=Math.max(length + EOF_MARKER_SIZE,defaultBlockSize);
  availableSize=createNewMemoryBlock(tmp,(length + EOF_MARKER_SIZE));
  return (availableSize == 0) ? false : true;
}
