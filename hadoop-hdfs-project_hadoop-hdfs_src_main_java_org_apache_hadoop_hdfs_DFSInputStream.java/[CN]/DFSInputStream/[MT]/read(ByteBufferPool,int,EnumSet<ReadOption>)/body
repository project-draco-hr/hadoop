{
  assert(maxLength > 0);
  if (((blockReader == null) || (blockEnd == -1)) && (pos < getFileLength())) {
    if ((!seekToBlockSource(pos)) || (blockReader == null)) {
      throw new IOException("failed to allocate new BlockReader " + "at position " + pos);
    }
  }
  ByteBuffer buffer=null;
  if (dfsClient.getConf().shortCircuitMmapEnabled) {
    buffer=tryReadZeroCopy(maxLength,opts);
  }
  if (buffer != null) {
    return buffer;
  }
  buffer=ByteBufferUtil.fallbackRead(this,bufferPool,maxLength);
  if (buffer != null) {
    extendedReadBuffers.put(buffer,bufferPool);
  }
  return buffer;
}
