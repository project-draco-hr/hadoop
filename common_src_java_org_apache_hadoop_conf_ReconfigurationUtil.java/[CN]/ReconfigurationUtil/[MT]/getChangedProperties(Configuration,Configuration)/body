{
  Map<String,PropertyChange> changes=new HashMap<String,PropertyChange>();
  for (  Map.Entry<String,String> oldEntry : oldConf) {
    String prop=oldEntry.getKey();
    String oldVal=oldEntry.getValue();
    String newVal=newConf.getRaw(prop);
    if (newVal == null || !newVal.equals(oldVal)) {
      changes.put(prop,new PropertyChange(prop,newVal,oldVal));
    }
  }
  for (  Map.Entry<String,String> newEntry : newConf) {
    String prop=newEntry.getKey();
    String newVal=newEntry.getValue();
    if (oldConf.get(prop) == null) {
      changes.put(prop,new PropertyChange(prop,newVal,null));
    }
  }
  return changes.values();
}
