{
  Long startTime=entity.getStartTime();
  if (startTime == null) {
    startTime=System.currentTimeMillis();
  }
  byte[] startTimeBytes=GenericObjectMapper.writeReverseOrderedLong(startTime);
  try {
    byte[] valueBytes=GenericObjectMapper.write(entity);
    entityDb.put(getEntityKey(entityId,startTimeBytes),valueBytes);
  }
 catch (  IOException e) {
    LOG.error("GenericObjectMapper cannot write " + entity.getClass().getName() + " into a byte array. Write aborted! ");
    LOG.error(e.getMessage());
  }
  entityDb.put(getStartTimeKey(entityId),startTimeBytes);
}
