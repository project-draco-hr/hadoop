{
  IOUtils.cleanup(LOG,entityDb);
  Path dbPath=new Path(configuration.get(YarnConfiguration.TIMELINE_SERVICE_LEVELDB_PATH),dbId + CACHED_LDB_FILE_PREFIX);
  FileSystem localFS=null;
  try {
    localFS=FileSystem.getLocal(configuration);
    if (!localFS.delete(dbPath,true)) {
      throw new IOException("Couldn't delete data file for leveldb " + "timeline store " + dbPath);
    }
  }
  finally {
    IOUtils.cleanup(LOG,localFS);
  }
  super.serviceStop();
}
