{
  ResourceCalculator resourceCalculator=new DefaultResourceCalculator();
  final int minMemory=1024;
  Resource minResource=Resources.createResource(minMemory,0);
  ResourceRequest ask=new ResourceRequestPBImpl();
  ask.setCapability(Resources.createResource(-1024));
  SchedulerUtils.normalizeRequest(ask,resourceCalculator,null,minResource);
  assertEquals(minMemory,ask.getCapability().getMemory());
  ask.setCapability(Resources.createResource(0));
  SchedulerUtils.normalizeRequest(ask,resourceCalculator,null,minResource);
  assertEquals(minMemory,ask.getCapability().getMemory());
  ask.setCapability(Resources.createResource(2 * minMemory));
  SchedulerUtils.normalizeRequest(ask,resourceCalculator,null,minResource);
  assertEquals(2 * minMemory,ask.getCapability().getMemory());
  ask.setCapability(Resources.createResource(minMemory + 10));
  SchedulerUtils.normalizeRequest(ask,resourceCalculator,null,minResource);
  assertEquals(2 * minMemory,ask.getCapability().getMemory());
}
