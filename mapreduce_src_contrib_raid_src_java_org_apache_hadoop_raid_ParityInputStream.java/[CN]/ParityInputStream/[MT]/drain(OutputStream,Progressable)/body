{
  while (true) {
    makeAvailable();
    if (available == 0) {
      break;
    }
    sink.write(xor,readPos,available);
    available=0;
    if (reporter != null) {
      reporter.progress();
    }
  }
}
