{
  ZKDelegationTokenSecretManager.setCurator((CuratorFramework)filterConfig.getServletContext().getAttribute(ZKSignerSecretProvider.ZOOKEEPER_SIGNER_SECRET_PROVIDER_CURATOR_CLIENT_ATTRIBUTE));
  super.init(filterConfig);
  ZKDelegationTokenSecretManager.setCurator(null);
  AuthenticationHandler handler=getAuthenticationHandler();
  AbstractDelegationTokenSecretManager dtSecretManager=(AbstractDelegationTokenSecretManager)filterConfig.getServletContext().getAttribute(DELEGATION_TOKEN_SECRET_MANAGER_ATTR);
  if (dtSecretManager != null && handler instanceof DelegationTokenAuthenticationHandler) {
    DelegationTokenAuthenticationHandler dtHandler=(DelegationTokenAuthenticationHandler)getAuthenticationHandler();
    dtHandler.setExternalDelegationTokenSecretManager(dtSecretManager);
  }
  if (handler instanceof PseudoAuthenticationHandler || handler instanceof PseudoDelegationTokenAuthenticationHandler) {
    setHandlerAuthMethod(SaslRpcServer.AuthMethod.SIMPLE);
  }
  if (handler instanceof KerberosAuthenticationHandler || handler instanceof KerberosDelegationTokenAuthenticationHandler) {
    setHandlerAuthMethod(SaslRpcServer.AuthMethod.KERBEROS);
  }
  Configuration conf=getProxyuserConfiguration(filterConfig);
  ProxyUsers.refreshSuperUserGroupsConfiguration(conf,PROXYUSER_PREFIX);
}
