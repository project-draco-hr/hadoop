{
  super.init(filterConfig);
  AbstractDelegationTokenSecretManager dtSecretManager=(AbstractDelegationTokenSecretManager)filterConfig.getServletContext().getAttribute(DELEGATION_TOKEN_SECRET_MANAGER_ATTR);
  if (dtSecretManager != null && getAuthenticationHandler() instanceof DelegationTokenAuthenticationHandler) {
    DelegationTokenAuthenticationHandler handler=(DelegationTokenAuthenticationHandler)getAuthenticationHandler();
    handler.setExternalDelegationTokenSecretManager(dtSecretManager);
  }
}
