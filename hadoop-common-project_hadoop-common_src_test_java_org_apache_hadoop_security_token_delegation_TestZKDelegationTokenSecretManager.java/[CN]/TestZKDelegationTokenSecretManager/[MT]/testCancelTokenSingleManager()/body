{
  DelegationTokenManager tm1=null;
  String connectString=zkServer.getConnectString();
  Configuration conf=getSecretConf(connectString);
  tm1=new DelegationTokenManager(conf,new Text("foo"));
  tm1.init();
  Token<DelegationTokenIdentifier> token=(Token<DelegationTokenIdentifier>)tm1.createToken(UserGroupInformation.getCurrentUser(),"foo");
  Assert.assertNotNull(token);
  tm1.cancelToken(token,"foo");
  try {
    tm1.verifyToken(token);
    fail("Expected InvalidToken");
  }
 catch (  SecretManager.InvalidToken it) {
    it.printStackTrace();
  }
}
