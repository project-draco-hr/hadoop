{
  user.doAs(new PrivilegedExceptionAction<Object>(){
    @Override public Object run() throws IOException {
      FileContext myfc=FileContext.getFileContext(conf);
      Path newlink=new Path(linkParent,"newlink");
      myfc.rename(link,newlink,Rename.NONE);
      Path linkTarget=myfc.getLinkTarget(newlink);
      assertEquals("Expected link's target to match target!",target,linkTarget);
      return null;
    }
  }
);
  assertTrue("Expected target to exist",wrapper.exists(target));
}
