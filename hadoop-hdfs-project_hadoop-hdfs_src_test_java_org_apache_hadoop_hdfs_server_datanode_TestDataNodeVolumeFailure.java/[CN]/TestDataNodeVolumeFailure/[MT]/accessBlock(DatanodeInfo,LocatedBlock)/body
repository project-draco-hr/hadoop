{
  InetSocketAddress targetAddr=null;
  Socket s=null;
  ExtendedBlock block=lblock.getBlock();
  targetAddr=NetUtils.createSocketAddr(datanode.getName());
  s=NetUtils.getDefaultSocketFactory(conf).createSocket();
  s.connect(targetAddr,HdfsServerConstants.READ_TIMEOUT);
  s.setSoTimeout(HdfsServerConstants.READ_TIMEOUT);
  String file=BlockReaderFactory.getFileName(targetAddr,"test-blockpoolid",block.getBlockId());
  BlockReaderFactory.newBlockReader(conf,s,file,block,lblock.getBlockToken(),0,-1);
}
