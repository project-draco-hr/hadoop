{
  if (snapshotId != Snapshot.INVALID_ID) {
    Collections.sort(withNameList,new Comparator<WithName>(){
      @Override public int compare(      WithName w1,      WithName w2){
        return w1.lastSnapshotId - w2.lastSnapshotId;
      }
    }
);
    for (    INodeReference.WithName withName : withNameList) {
      if (withName.getLastSnapshotId() >= snapshotId) {
        withName.addSpaceConsumed(nsDelta,dsDelta,verify,snapshotId);
        break;
      }
    }
  }
}
