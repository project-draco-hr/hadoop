{
  DatanodeStorageInfo[] storages=new DatanodeStorageInfo[n];
  for (int i=storages.length; i > 0; ) {
    final String storageID="s" + i;
    final String ip=i + "." + i+ "."+ i+ "."+ i;
    i--;
    final String rack=(racks != null && i < racks.length) ? racks[i] : "defaultRack";
    final String hostname=(hostnames != null && i < hostnames.length) ? hostnames[i] : "host";
    final StorageType type=(types != null && i < types.length) ? types[i] : StorageType.DEFAULT;
    storages[i]=createDatanodeStorageInfo(storageID,ip,rack,hostname,type,null);
  }
  return storages;
}
