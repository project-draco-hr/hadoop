{
  final FSDataInputStream in1=fs.open(p1);
  final FSDataInputStream in2=fs.open(p2);
  try {
    for (int i=0; i < len; i++) {
      if (in1.read() != in2.read()) {
        return;
      }
    }
    fail("files are equal, but should not be");
  }
  finally {
    in1.close();
    in2.close();
  }
}
