{
  TaskReporter mockTaskReporter=mock(TaskReporter.class);
  Writer<String,Integer> mockWriter=mock(Writer.class);
  Configuration conf=new Configuration();
  conf.set(MRJobConfig.COMBINE_RECORDS_BEFORE_PROGRESS,"2");
  coc=new CombineOutputCollector<String,Integer>(outCounter,mockTaskReporter,conf);
  coc.setWriter(mockWriter);
  verify(mockTaskReporter,never()).progress();
  coc.collect("dummy",1);
  verify(mockTaskReporter,never()).progress();
  coc.collect("dummy",2);
  verify(mockTaskReporter,times(1)).progress();
}
