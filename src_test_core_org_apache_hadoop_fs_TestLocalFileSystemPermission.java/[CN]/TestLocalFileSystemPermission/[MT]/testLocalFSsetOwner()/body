{
  if (Path.WINDOWS) {
    System.out.println("Cannot run test for Windows");
    return;
  }
  Configuration conf=new Configuration();
  LocalFileSystem localfs=FileSystem.getLocal(conf);
  String filename="bar";
  Path f=writeFile(localfs,filename);
  List<String> groups=null;
  try {
    groups=getGroups();
    System.out.println(filename + ": " + getPermission(localfs,f));
  }
 catch (  IOException e) {
    System.out.println(StringUtils.stringifyException(e));
    System.out.println("Cannot run test");
    return;
  }
  if (groups == null || groups.size() < 1) {
    System.out.println("Cannot run test: need at least one group.  groups=" + groups);
    return;
  }
  try {
    String g0=groups.get(0);
    localfs.setOwner(f,null,g0);
    assertEquals(g0,getGroup(localfs,f));
    if (groups.size() > 1) {
      String g1=groups.get(1);
      localfs.setOwner(f,null,g1);
      assertEquals(g1,getGroup(localfs,f));
    }
 else {
      System.out.println("Not testing changing the group since user " + "belongs to only one group.");
    }
  }
  finally {
    cleanupFile(localfs,f);
  }
}
