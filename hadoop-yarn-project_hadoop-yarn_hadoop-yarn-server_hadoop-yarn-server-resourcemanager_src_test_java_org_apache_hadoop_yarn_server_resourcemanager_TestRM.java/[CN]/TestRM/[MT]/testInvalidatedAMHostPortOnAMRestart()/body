{
  YarnConfiguration conf=new YarnConfiguration();
  MockRM rm1=new MockRM(conf);
  rm1.start();
  MockNM nm1=new MockNM("127.0.0.1:1234",15120,rm1.getResourceTrackerService());
  nm1.registerNode();
  RMApp app2=rm1.submitApp(200);
  MockAM am2=launchAM(app2,rm1,nm1);
  nm1.nodeHeartbeat(am2.getApplicationAttemptId(),1,ContainerState.COMPLETE);
  am2.waitForState(RMAppAttemptState.FAILED);
  rm1.waitForState(app2.getApplicationId(),RMAppState.ACCEPTED);
  GetApplicationReportRequest request1=GetApplicationReportRequest.newInstance(app2.getApplicationId());
  ApplicationReport report1=rm1.getClientRMService().getApplicationReport(request1).getApplicationReport();
  Assert.assertEquals("N/A",report1.getHost());
  Assert.assertEquals(-1,report1.getRpcPort());
}
