{
  if (cancelled) {
    return;
  }
  Token<?> token=dttr.token;
  try {
    renewToken(dttr);
    if (LOG.isDebugEnabled()) {
      LOG.debug("Renewing delegation-token for:" + token.getService() + "; new expiration;"+ dttr.expirationDate);
    }
    setTimerForTokenRenewal(dttr);
  }
 catch (  Exception e) {
    LOG.error("Exception renewing token" + token + ". Not rescheduled",e);
    removeFailedDelegationToken(dttr);
  }
}
