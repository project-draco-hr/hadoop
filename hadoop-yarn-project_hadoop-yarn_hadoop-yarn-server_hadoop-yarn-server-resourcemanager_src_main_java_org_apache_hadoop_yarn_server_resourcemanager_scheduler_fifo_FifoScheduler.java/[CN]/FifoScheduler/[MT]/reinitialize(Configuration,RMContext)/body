{
  setConf(conf);
  if (!this.initialized) {
    validateConf(conf);
    this.rmContext=rmContext;
    this.minimumAllocation=Resources.createResource(conf.getInt(YarnConfiguration.RM_SCHEDULER_MINIMUM_ALLOCATION_MB,YarnConfiguration.DEFAULT_RM_SCHEDULER_MINIMUM_ALLOCATION_MB));
    this.maximumAllocation=Resources.createResource(conf.getInt(YarnConfiguration.RM_SCHEDULER_MAXIMUM_ALLOCATION_MB,YarnConfiguration.DEFAULT_RM_SCHEDULER_MAXIMUM_ALLOCATION_MB));
    this.metrics=QueueMetrics.forQueue(DEFAULT_QUEUE_NAME,null,false,conf);
    this.activeUsersManager=new ActiveUsersManager(metrics);
    this.initialized=true;
  }
}
