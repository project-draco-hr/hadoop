{
  setConf(conf);
  if (!this.initialized) {
    validateConf(conf);
    this.rmContext=rmContext;
    this.applications=new ConcurrentSkipListMap<ApplicationId,SchedulerApplication<FiCaSchedulerApp>>();
    this.minimumAllocation=Resources.createResource(conf.getInt(YarnConfiguration.RM_SCHEDULER_MINIMUM_ALLOCATION_MB,YarnConfiguration.DEFAULT_RM_SCHEDULER_MINIMUM_ALLOCATION_MB));
    this.maximumAllocation=Resources.createResource(conf.getInt(YarnConfiguration.RM_SCHEDULER_MAXIMUM_ALLOCATION_MB,YarnConfiguration.DEFAULT_RM_SCHEDULER_MAXIMUM_ALLOCATION_MB));
    this.usePortForNodeName=conf.getBoolean(YarnConfiguration.RM_SCHEDULER_INCLUDE_PORT_IN_NODE_NAME,YarnConfiguration.DEFAULT_RM_SCHEDULER_USE_PORT_FOR_NODE_NAME);
    this.metrics=QueueMetrics.forQueue(DEFAULT_QUEUE_NAME,null,false,conf);
    this.activeUsersManager=new ActiveUsersManager(metrics);
    this.initialized=true;
  }
}
