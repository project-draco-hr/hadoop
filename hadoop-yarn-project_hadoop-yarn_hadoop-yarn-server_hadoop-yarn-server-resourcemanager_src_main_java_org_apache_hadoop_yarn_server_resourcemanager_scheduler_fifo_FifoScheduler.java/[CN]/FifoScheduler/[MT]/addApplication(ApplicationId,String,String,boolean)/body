{
  SchedulerApplication<FiCaSchedulerApp> application=new SchedulerApplication<FiCaSchedulerApp>(DEFAULT_QUEUE,user);
  applications.put(applicationId,application);
  metrics.submitApp(user);
  LOG.info("Accepted application " + applicationId + " from user: "+ user+ ", currently num of applications: "+ applications.size());
  if (isAppRecovering) {
    if (LOG.isDebugEnabled()) {
      LOG.debug(applicationId + " is recovering. Skip notifying APP_ACCEPTED");
    }
  }
 else {
    rmContext.getDispatcher().getEventHandler().handle(new RMAppEvent(applicationId,RMAppEventType.APP_ACCEPTED));
  }
}
