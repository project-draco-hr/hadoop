{
  SchedulerApplication application=applications.get(appAttemptId.getApplicationId());
  String user=application.getUser();
  FiCaSchedulerApp schedulerApp=new FiCaSchedulerApp(appAttemptId,user,DEFAULT_QUEUE,activeUsersManager,this.rmContext);
  appAttempts.put(appAttemptId,schedulerApp);
  metrics.submitApp(user,appAttemptId.getAttemptId());
  LOG.info("Added Application Attempt " + appAttemptId + " to scheduler from user "+ application.getUser()+ ", currently active: "+ appAttempts.size());
  rmContext.getDispatcher().getEventHandler().handle(new RMAppAttemptEvent(appAttemptId,RMAppAttemptEventType.ATTEMPT_ADDED));
}
