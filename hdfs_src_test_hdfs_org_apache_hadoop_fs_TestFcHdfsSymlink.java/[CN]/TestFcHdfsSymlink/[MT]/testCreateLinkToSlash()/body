{
  Path dir=new Path(testBaseDir1());
  Path file=new Path(testBaseDir1(),"file");
  Path link=new Path(testBaseDir1(),"linkToSlash");
  Path fileViaLink=new Path(testBaseDir1() + "/linkToSlash" + testBaseDir1()+ "/file");
  createAndWriteFile(file);
  fc.setWorkingDirectory(dir);
  fc.createSymlink(new Path("/"),link,false);
  readFile(fileViaLink);
  assertEquals(fileSize,fc.getFileStatus(fileViaLink).getLen());
  FileContext localFc=FileContext.getLocalFSFileContext();
  Path linkQual=new Path(cluster.getURI(0).toString(),fileViaLink);
  assertEquals(fileSize,localFc.getFileStatus(linkQual).getLen());
}
