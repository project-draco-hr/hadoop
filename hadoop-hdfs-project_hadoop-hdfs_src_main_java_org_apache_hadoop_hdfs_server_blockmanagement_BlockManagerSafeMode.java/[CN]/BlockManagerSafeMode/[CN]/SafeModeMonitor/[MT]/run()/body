{
  while (namesystem.isRunning()) {
    try {
      namesystem.writeLock();
      if (status == BMSafeModeStatus.OFF) {
        break;
      }
      if (canLeave()) {
        leaveSafeMode(false);
        break;
      }
    }
  finally {
      namesystem.writeUnlock();
    }
    try {
      Thread.sleep(RECHECK_INTERVAL);
    }
 catch (    InterruptedException ignored) {
    }
  }
  if (!namesystem.isRunning()) {
    LOG.info("NameNode is being shutdown, exit SafeModeMonitor thread");
  }
}
