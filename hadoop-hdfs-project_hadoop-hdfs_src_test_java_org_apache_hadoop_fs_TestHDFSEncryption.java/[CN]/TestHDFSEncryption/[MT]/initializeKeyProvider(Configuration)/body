{
  final List<KeyProvider> providers=KeyProviderFactory.getProviders(conf);
  if (providers == null) {
    return;
  }
  if (providers.size() == 0) {
    return;
  }
  if (providers.size() > 1) {
    final String err="Multiple KeyProviders found. Only one is permitted.";
    throw new RuntimeException(err);
  }
  provider=providers.get(0);
  if (provider.isTransient()) {
    final String err="A KeyProvider was found but it is a transient provider.";
    throw new RuntimeException(err);
  }
}
