{
  writeSomeData(doHFlush,doHSync);
  final FSDataInputStream in=fc.open(src1);
  try {
    final byte[] readBuf=new byte[getDefaultBlockSize() * NUM_BLOCKS];
    in.readFully(readBuf);
    assertTrue("Expected read-back data to be equal (hflush=" + doHFlush + " hfsync="+ doHSync+ ")",Arrays.equals(data,readBuf));
  }
  finally {
    in.close();
  }
}
