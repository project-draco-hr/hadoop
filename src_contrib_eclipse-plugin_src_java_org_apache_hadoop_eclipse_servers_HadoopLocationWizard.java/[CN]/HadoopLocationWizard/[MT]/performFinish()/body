{
  try {
    if (this.original == null) {
      Display.getDefault().syncExec(new Runnable(){
        public void run(){
          ServerRegistry.getInstance().addServer(HadoopLocationWizard.this.location);
        }
      }
);
      return this.location;
    }
 else {
      final String originalName=this.original.getLocationName();
      this.original.load(this.location);
      Display.getDefault().syncExec(new Runnable(){
        public void run(){
          ServerRegistry.getInstance().updateServer(originalName,HadoopLocationWizard.this.location);
        }
      }
);
      return this.original;
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
    setMessage("Invalid server location values",IMessageProvider.ERROR);
    return null;
  }
}
