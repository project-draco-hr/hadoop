{
  TaskType taskType=taskAttempt.getID().getTaskId().getTaskType();
  JobCounterUpdateEvent jce=new JobCounterUpdateEvent(taskAttempt.getID().getTaskId().getJobId());
  long slotMillisIncrement=computeSlotMillis(taskAttempt);
  if (taskType == TaskType.MAP) {
    jce.addCounterUpdate(JobCounter.NUM_KILLED_MAPS,1);
    if (!taskAlreadyCompleted) {
      jce.addCounterUpdate(JobCounter.SLOTS_MILLIS_MAPS,slotMillisIncrement);
    }
  }
 else {
    jce.addCounterUpdate(JobCounter.NUM_KILLED_REDUCES,1);
    if (!taskAlreadyCompleted) {
      jce.addCounterUpdate(JobCounter.SLOTS_MILLIS_REDUCES,slotMillisIncrement);
    }
  }
  return jce;
}
