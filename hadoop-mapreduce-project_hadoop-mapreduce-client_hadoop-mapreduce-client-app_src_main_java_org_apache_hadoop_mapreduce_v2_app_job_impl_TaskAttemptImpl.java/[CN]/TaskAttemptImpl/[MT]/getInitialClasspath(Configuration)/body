{
synchronized (classpathLock) {
    if (initialClasspathFlag.get()) {
      return initialClasspath;
    }
    Map<String,String> env=new HashMap<String,String>();
    MRApps.setClasspath(env,conf);
    initialClasspath=env.get(Environment.CLASSPATH.name());
    initialAppClasspath=env.get(Environment.APP_CLASSPATH.name());
    initialClasspathFlag.set(true);
    return initialClasspath;
  }
}
