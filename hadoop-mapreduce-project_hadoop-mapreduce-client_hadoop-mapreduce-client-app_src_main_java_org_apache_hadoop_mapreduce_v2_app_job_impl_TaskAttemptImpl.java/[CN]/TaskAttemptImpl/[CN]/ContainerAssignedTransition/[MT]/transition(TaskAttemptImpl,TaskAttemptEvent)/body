{
  final TaskAttemptContainerAssignedEvent cEvent=(TaskAttemptContainerAssignedEvent)event;
  taskAttempt.containerID=cEvent.getContainer().getId();
  taskAttempt.containerNodeId=cEvent.getContainer().getNodeId();
  taskAttempt.containerMgrAddress=StringInterner.weakIntern(taskAttempt.containerNodeId.toString());
  taskAttempt.nodeHttpAddress=StringInterner.weakIntern(cEvent.getContainer().getNodeHttpAddress());
  taskAttempt.nodeRackName=RackResolver.resolve(taskAttempt.containerNodeId.getHost()).getNetworkLocation();
  taskAttempt.containerToken=cEvent.getContainer().getContainerToken();
  taskAttempt.assignedCapability=cEvent.getContainer().getResource();
  taskAttempt.remoteTask=taskAttempt.createRemoteTask();
  taskAttempt.jvmID=new WrappedJvmID(taskAttempt.remoteTask.getTaskID().getJobID(),taskAttempt.remoteTask.isMapTask(),taskAttempt.containerID.getId());
  taskAttempt.taskAttemptListener.registerPendingTask(taskAttempt.remoteTask,taskAttempt.jvmID);
  taskAttempt.locality=Locality.OFF_SWITCH;
  if (taskAttempt.dataLocalHosts.size() > 0) {
    String cHost=taskAttempt.resolveHost(taskAttempt.containerNodeId.getHost());
    if (taskAttempt.dataLocalHosts.contains(cHost)) {
      taskAttempt.locality=Locality.NODE_LOCAL;
    }
  }
  if (taskAttempt.locality == Locality.OFF_SWITCH) {
    if (taskAttempt.dataLocalRacks.contains(taskAttempt.nodeRackName)) {
      taskAttempt.locality=Locality.RACK_LOCAL;
    }
  }
  ContainerLaunchContext launchContext=createContainerLaunchContext(cEvent.getApplicationACLs(),taskAttempt.containerID,taskAttempt.conf,taskAttempt.jobToken,taskAttempt.remoteTask,taskAttempt.oldJobId,taskAttempt.assignedCapability,taskAttempt.jvmID,taskAttempt.taskAttemptListener,taskAttempt.credentials);
  taskAttempt.eventHandler.handle(new ContainerRemoteLaunchEvent(taskAttempt.attemptId,taskAttempt.containerID,taskAttempt.containerMgrAddress,taskAttempt.containerToken,launchContext,taskAttempt.remoteTask));
  taskAttempt.eventHandler.handle(new SpeculatorEvent(taskAttempt.getID().getTaskId(),-1));
}
