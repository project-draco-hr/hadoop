{
  taskAttempt.setFinishTime();
  String taskType=TypeConverter.fromYarn(taskAttempt.attemptId.getTaskId().getTaskType()).toString();
  LOG.info("In TaskAttemptImpl taskType: " + taskType);
  long slotMillis=computeSlotMillis(taskAttempt);
  JobCounterUpdateEvent jce=new JobCounterUpdateEvent(taskAttempt.attemptId.getTaskId().getJobId());
  jce.addCounterUpdate(taskAttempt.attemptId.getTaskId().getTaskType() == TaskType.MAP ? JobCounter.SLOTS_MILLIS_MAPS : JobCounter.SLOTS_MILLIS_REDUCES,slotMillis);
  taskAttempt.eventHandler.handle(jce);
  taskAttempt.logAttemptFinishedEvent(TaskAttemptState.SUCCEEDED);
  taskAttempt.eventHandler.handle(new TaskTAttemptEvent(taskAttempt.attemptId,TaskEventType.T_ATTEMPT_SUCCEEDED));
  taskAttempt.eventHandler.handle(new SpeculatorEvent(taskAttempt.reportedStatus,taskAttempt.clock.getTime()));
}
