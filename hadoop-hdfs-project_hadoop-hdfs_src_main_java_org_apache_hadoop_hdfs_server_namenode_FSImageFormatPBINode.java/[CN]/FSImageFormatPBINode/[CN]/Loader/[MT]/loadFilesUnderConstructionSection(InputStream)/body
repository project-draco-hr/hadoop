{
  while (true) {
    FileUnderConstructionEntry entry=FileUnderConstructionEntry.parseDelimitedFrom(in);
    if (entry == null) {
      break;
    }
    INodeFile file=dir.getInode(entry.getInodeId()).asFile();
    FileUnderConstructionFeature uc=file.getFileUnderConstructionFeature();
    Preconditions.checkState(uc != null);
    fsn.leaseManager.addLease(uc.getClientName(),entry.getFullPath());
  }
}
