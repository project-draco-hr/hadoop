{
  QuotaByStorageTypeFeatureProto.Builder b=QuotaByStorageTypeFeatureProto.newBuilder();
  for (  StorageType t : StorageType.getTypesSupportingQuota()) {
    if (q.getTypeSpace(t) >= 0) {
      QuotaByStorageTypeEntryProto.Builder eb=QuotaByStorageTypeEntryProto.newBuilder().setStorageType(PBHelper.convertStorageType(t)).setQuota(q.getTypeSpace(t));
      b.addQuotas(eb);
    }
  }
  return b;
}
