{
  Path dirPath=new Path(path,"dir");
  FileSystem.mkdirs(fs,dirPath,FsPermission.createImmutable((short)0750));
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER,"foo",ALL));
  fs.setAcl(dirPath,aclSpec);
  Path filePath=new Path(path,"file1");
  fs.create(filePath).close();
  fs.setPermission(filePath,FsPermission.createImmutable((short)0640));
  Path renamedFilePath=new Path(dirPath,"file1");
  fs.rename(filePath,renamedFilePath);
  AclEntry[] expected=new AclEntry[]{};
  AclStatus s=fs.getAclStatus(renamedFilePath);
  AclEntry[] returned=s.getEntries().toArray(new AclEntry[0]);
  assertArrayEquals(expected,returned);
  assertPermission(renamedFilePath,(short)0640);
  assertAclFeature(renamedFilePath,false);
}
