{
  RMContainer container=getResourceScheduler().getRMContainer(containerId);
  Assert.assertNotNull("Container shouldn't be null",container);
  int timeoutSecs=0;
  while (!containerState.equals(container.getState()) && timeoutSecs++ < 40) {
    System.out.println("Container : " + containerId + " State is : "+ container.getState()+ " Waiting for state : "+ containerState);
    nm.nodeHeartbeat(true);
    Thread.sleep(300);
  }
  System.out.println("Container State is : " + container.getState());
  Assert.assertEquals("Container state is not correct (timedout)",containerState,container.getState());
}
