{
  int timeoutSecs=0;
  while (getResourceScheduler().getRMContainer(containerId) == null && timeoutSecs++ < 40) {
    System.out.println("Waiting for" + containerId + " to be allocated.");
    nm.nodeHeartbeat(true);
    Thread.sleep(200);
  }
  Assert.assertNotNull("Failed in waiting for " + containerId + " "+ "allocation.",getResourceScheduler().getRMContainer(containerId));
}
