{
  if (this.rmContext.getYarnConfiguration().getBoolean(YarnConfiguration.OPPORTUNISTIC_CONTAINER_ALLOCATION_ENABLED,YarnConfiguration.OPPORTUNISTIC_CONTAINER_ALLOCATION_ENABLED_DEFAULT)) {
    return new OpportunisticContainerAllocatorAMService(getRMContext(),scheduler){
      @Override protected void serviceStart(){
      }
      @Override protected void serviceStop(){
      }
    }
;
  }
  return new ApplicationMasterService(getRMContext(),scheduler){
    @Override protected void serviceStart(){
    }
    @Override protected void serviceStop(){
    }
  }
;
}
