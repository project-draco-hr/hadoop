{
  Map<String,InetSocketAddress> nnAddresses=DFSUtil.getRpcAddressesForNameserviceId(conf,nsId,null);
  List<ClientProtocol> namenodes=new ArrayList<ClientProtocol>();
  for (  InetSocketAddress nnAddress : nnAddresses.values()) {
    NameNodeProxies.ProxyAndInfo<ClientProtocol> proxyInfo=null;
    proxyInfo=NameNodeProxies.createNonHAProxy(conf,nnAddress,ClientProtocol.class,UserGroupInformation.getCurrentUser(),false);
    namenodes.add(proxyInfo.getProxy());
  }
  return namenodes;
}
