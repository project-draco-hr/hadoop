{
  Class<FailoverProxyProvider<?>> failoverProxyProviderClass=HAUtil.getFailoverProxyProviderClass(conf,nameNodeUri,xface);
  if (failoverProxyProviderClass != null) {
    FailoverProxyProvider<?> failoverProxyProvider=HAUtil.createFailoverProxyProvider(conf,failoverProxyProviderClass,xface);
    Conf config=new Conf(conf);
    return RetryProxy.create(xface,failoverProxyProvider,RetryPolicies.failoverOnNetworkException(RetryPolicies.TRY_ONCE_THEN_FAIL,config.maxFailoverAttempts,config.failoverSleepBaseMillis,config.failoverSleepMaxMillis));
  }
  return null;
}
