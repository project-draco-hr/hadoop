{
  BlockStoragePolicySuite bsps=BlockStoragePolicySuite.createDefaultSuite();
  StoragePolicySummary sts=new StoragePolicySummary(bsps.getAllPolicies());
  BlockStoragePolicy hot=bsps.getPolicy("HOT");
  sts.add(new StorageType[]{StorageType.DISK},hot);
  sts.add(new StorageType[]{StorageType.DISK,StorageType.DISK},hot);
  sts.add(new StorageType[]{StorageType.DISK,StorageType.DISK,StorageType.DISK},hot);
  sts.add(new StorageType[]{StorageType.DISK,StorageType.DISK,StorageType.DISK,StorageType.DISK},hot);
  Map<String,Long> actualOutput=convertToStringMap(sts);
  Assert.assertEquals(4,actualOutput.size());
  Map<String,Long> expectedOutput=new HashMap<>();
  expectedOutput.put("HOT|DISK:1(HOT)",1l);
  expectedOutput.put("HOT|DISK:2(HOT)",1l);
  expectedOutput.put("HOT|DISK:3(HOT)",1l);
  expectedOutput.put("HOT|DISK:4(HOT)",1l);
  Assert.assertEquals(expectedOutput,actualOutput);
}
