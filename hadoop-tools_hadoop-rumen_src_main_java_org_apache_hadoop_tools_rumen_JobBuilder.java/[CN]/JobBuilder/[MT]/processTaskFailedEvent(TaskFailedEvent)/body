{
  ParsedTask task=getOrMakeTask(event.getTaskType(),event.getTaskId().toString(),false);
  if (task == null) {
    return;
  }
  task.setFinishTime(event.getFinishTime());
  task.setTaskStatus(getPre21Value(event.getTaskStatus()));
  TaskFailed t=(TaskFailed)(event.getDatum());
  task.putDiagnosticInfo(t.error.toString());
  task.putFailedDueToAttemptId(t.failedDueToAttempt.toString());
  org.apache.hadoop.mapreduce.jobhistory.JhCounters counters=((TaskFailed)event.getDatum()).counters;
  task.incorporateCounters(counters == null ? EMPTY_COUNTERS : counters);
}
