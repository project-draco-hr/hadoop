{
  JobInProgress job=jobs.get(jobid);
  if (job instanceof FakeJobInProgress && killTasks) {
    FakeJobInProgress fJob=(FakeJobInProgress)job;
    for (    String tipID : taskStatuses.keySet()) {
      finishTask(tipID,fJob,TaskStatus.State.KILLED);
    }
  }
  finalizeJob(job,JobStatus.KILLED);
  job.kill();
}
