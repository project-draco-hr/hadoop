{
  final HttpURLConnection conn;
  if (ugi.hasKerberosCredentials()) {
    conn=new AuthenticatedURL(AUTH).openConnection(url,authToken);
  }
 else {
    conn=(HttpURLConnection)url.openConnection();
  }
  return conn;
}
