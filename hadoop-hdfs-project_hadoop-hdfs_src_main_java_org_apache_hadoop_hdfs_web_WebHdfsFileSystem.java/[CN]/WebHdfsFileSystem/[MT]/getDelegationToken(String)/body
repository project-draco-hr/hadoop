{
  final HttpOpParam.Op op=GetOpParam.Op.GETDELEGATIONTOKEN;
  Token<DelegationTokenIdentifier> token=new FsPathResponseRunner<Token<DelegationTokenIdentifier>>(op,null,new RenewerParam(renewer)){
    @Override Token<DelegationTokenIdentifier> decodeResponse(    Map<?,?> json) throws IOException {
      return JsonUtilClient.toDelegationToken(json);
    }
  }
.run();
  if (token != null) {
    token.setService(tokenServiceName);
  }
 else {
    if (disallowFallbackToInsecureCluster) {
      throw new AccessControlException(CANT_FALLBACK_TO_INSECURE_MSG);
    }
  }
  return token;
}
