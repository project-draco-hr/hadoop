{
  final int code=conn.getResponseCode();
  if (code != op.getExpectedHttpResponseCode()) {
    final Map<?,?> m;
    try {
      m=jsonParse(conn,true);
    }
 catch (    IOException e) {
      throw new IOException("Unexpected HTTP response: code=" + code + " != "+ op.getExpectedHttpResponseCode()+ ", "+ op.toQueryString()+ ", message="+ conn.getResponseMessage(),e);
    }
    if (m.get(RemoteException.class.getSimpleName()) == null) {
      return m;
    }
    final RemoteException re=JsonUtil.toRemoteException(m);
    throw re.unwrapRemoteException(AccessControlException.class,InvalidToken.class,AuthenticationException.class,AuthorizationException.class,FileAlreadyExistsException.class,FileNotFoundException.class,ParentNotDirectoryException.class,UnresolvedPathException.class,SafeModeException.class,DSQuotaExceededException.class,NSQuotaExceededException.class);
  }
  return null;
}
