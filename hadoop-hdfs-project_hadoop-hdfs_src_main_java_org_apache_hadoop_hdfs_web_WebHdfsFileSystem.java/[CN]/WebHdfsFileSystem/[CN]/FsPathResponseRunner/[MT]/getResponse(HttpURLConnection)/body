{
  try {
    final Map<?,?> json=jsonParse(conn,false);
    if (json == null) {
      throw new IllegalStateException("Missing response");
    }
    return decodeResponse(json);
  }
 catch (  IOException ioe) {
    throw ioe;
  }
catch (  Exception e) {
    final IOException ioe=new IOException("Response decoding failure: " + e.toString(),e);
    if (LOG.isDebugEnabled()) {
      LOG.debug(ioe);
    }
    throw ioe;
  }
 finally {
    conn.disconnect();
  }
}
