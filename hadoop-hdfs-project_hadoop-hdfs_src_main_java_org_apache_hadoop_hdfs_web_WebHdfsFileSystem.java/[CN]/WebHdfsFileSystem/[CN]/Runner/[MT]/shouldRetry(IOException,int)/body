{
  if (checkRetry) {
    try {
      final RetryPolicy.RetryAction a=retryPolicy.shouldRetry(ioe,retry,0,true);
      if (a.action == RetryPolicy.RetryAction.RetryDecision.RETRY) {
        LOG.info("Retrying connect to namenode: " + nnAddr + ". Already tried "+ retry+ " time(s); retry policy is "+ retryPolicy+ ", delay "+ a.delayMillis+ "ms.");
        Thread.sleep(a.delayMillis);
        return;
      }
    }
 catch (    Exception e) {
      LOG.warn("Original exception is ",ioe);
      throw toIOException(e);
    }
  }
  throw toIOException(ioe);
}
