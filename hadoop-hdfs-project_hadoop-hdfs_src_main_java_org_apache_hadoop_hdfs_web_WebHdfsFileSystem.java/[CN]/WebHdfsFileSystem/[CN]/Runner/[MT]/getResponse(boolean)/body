{
  try {
    connect();
    final int code=conn.getResponseCode();
    if (!redirected && op.getRedirect() && code != op.getExpectedHttpResponseCode()) {
      final String redirect=conn.getHeaderField("Location");
      json=validateResponse(HttpOpParam.TemporaryRedirectOp.valueOf(op),conn,false);
      disconnect();
      checkRetry=false;
      conn=(HttpURLConnection)URLUtils.openConnection(new URL(redirect));
      connect();
    }
    json=validateResponse(op,conn,false);
    if (json == null && getJsonAndDisconnect) {
      json=jsonParse(conn,false);
    }
  }
  finally {
    if (getJsonAndDisconnect) {
      disconnect();
    }
  }
}
