{
  CapacitySchedulerContext csContext=mock(CapacitySchedulerContext.class);
  when(csContext.getConfiguration()).thenReturn(csConf);
  when(csContext.getConf()).thenReturn(new YarnConfiguration());
  when(csContext.getResourceCalculator()).thenReturn(resourceCalculator);
  when(csContext.getClusterResource()).thenReturn(clusterResource);
  when(csContext.getMinimumResourceCapability()).thenReturn(Resources.createResource(GB,1));
  when(csContext.getMaximumResourceCapability()).thenReturn(Resources.createResource(2 * GB,2));
  when(csContext.getPreemptionManager()).thenReturn(new PreemptionManager());
  return csContext;
}
