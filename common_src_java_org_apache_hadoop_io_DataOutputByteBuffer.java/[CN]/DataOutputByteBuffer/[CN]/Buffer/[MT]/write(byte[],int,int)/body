{
  int rem=current.remaining();
  while (len > rem) {
    current.put(b,off,rem);
    length+=rem;
    current.flip();
    active.add(current);
    off+=rem;
    len-=rem;
    rem=getBuffer(len);
  }
  current.put(b,off,len);
  length+=len;
}
