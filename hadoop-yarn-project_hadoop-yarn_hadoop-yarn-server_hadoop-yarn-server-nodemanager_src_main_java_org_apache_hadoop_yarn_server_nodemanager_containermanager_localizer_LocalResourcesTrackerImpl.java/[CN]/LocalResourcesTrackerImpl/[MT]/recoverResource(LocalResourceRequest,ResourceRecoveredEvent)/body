{
  Path localDir=event.getLocalPath().getParent();
  long rsrcId=Long.parseLong(localDir.getName());
  while (true) {
    long currentRsrcId=uniqueNumberGenerator.get();
    long nextRsrcId=Math.max(currentRsrcId,rsrcId);
    if (uniqueNumberGenerator.compareAndSet(currentRsrcId,nextRsrcId)) {
      break;
    }
  }
  incrementFileCountForLocalCacheDirectory(localDir.getParent());
  return new LocalizedResource(req,dispatcher);
}
