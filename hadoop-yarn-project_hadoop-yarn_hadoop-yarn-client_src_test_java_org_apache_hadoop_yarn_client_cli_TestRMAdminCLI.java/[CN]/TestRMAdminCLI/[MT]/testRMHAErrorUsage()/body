{
  ByteArrayOutputStream errOutBytes=new ByteArrayOutputStream();
  rmAdminCLIWithHAEnabled.setErrOut(new PrintStream(errOutBytes));
  try {
    String[] args={"-failover"};
    assertEquals(-1,rmAdminCLIWithHAEnabled.run(args));
    String errOut=new String(errOutBytes.toByteArray(),Charsets.UTF_8);
    errOutBytes.reset();
    assertTrue(errOut.contains("Usage: rmadmin"));
  }
  finally {
    rmAdminCLIWithHAEnabled.setErrOut(System.err);
  }
}
