{
  RMContext rmContext=mock(RMContext.class);
  when(rmContext.getStateStore()).thenReturn(new NullRMStateStore());
  dtsm=new RMDelegationTokenSecretManager(60000,60000,60000,60000,rmContext);
  dtsm.startThreads();
  Configuration conf=new Configuration();
  conf.set("hadoop.security.authentication","kerberos");
  conf.set("hadoop.security.auth_to_local",kerberosRule);
  UserGroupInformation.setConfiguration(conf);
}
