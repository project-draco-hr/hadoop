{
  EditLogFileInputStream in;
  try {
    in=new EditLogFileInputStream(file);
  }
 catch (  LogHeaderCorruptException corrupt) {
    FSImage.LOG.warn("Log at " + file + " has no valid header",corrupt);
    return new FSEditLogLoader.EditLogValidation(0,HdfsConstants.INVALID_TXID,HdfsConstants.INVALID_TXID,true);
  }
  try {
    return FSEditLogLoader.validateEditLog(in);
  }
  finally {
    IOUtils.closeStream(in);
  }
}
