{
  org.apache.hadoop.mapreduce.v2.api.records.JobId jobId=TypeConverter.toYarn(oldJobID);
  KillJobRequest killRequest=recordFactory.newRecordInstance(KillJobRequest.class);
  MRClientProtocol protocol=getProxy(oldJobID);
  if (protocol == null) {
    return false;
  }
  try {
    killRequest.setJobId(jobId);
    protocol.killJob(killRequest);
    return true;
  }
 catch (  YarnRemoteException yre) {
    LOG.warn(RPCUtil.toString(yre));
    throw yre;
  }
catch (  Exception e) {
    LOG.debug("Failed to contact application master ",e);
    MRClientProtocol proxy=getRefreshedProxy(oldJobID);
    if (proxy == null) {
      return false;
    }
    try {
      killRequest.setJobId(jobId);
      protocol.killJob(killRequest);
      return true;
    }
 catch (    YarnRemoteException yre) {
      LOG.warn(RPCUtil.toString(yre));
      throw yre;
    }
  }
}
