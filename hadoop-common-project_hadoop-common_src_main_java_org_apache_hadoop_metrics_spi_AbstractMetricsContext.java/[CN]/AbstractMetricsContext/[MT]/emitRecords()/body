{
  for (  Map.Entry<String,RecordMap> recordEntry : bufferedData.entrySet()) {
    RecordMap recordMap=recordEntry.getValue();
synchronized (recordMap) {
      Set<Entry<TagMap,MetricMap>> entrySet=recordMap.entrySet();
      for (      Entry<TagMap,MetricMap> entry : entrySet) {
        OutputRecord outRec=new OutputRecord(entry.getKey(),entry.getValue());
        emitRecord(contextName,recordEntry.getKey(),outRec);
      }
    }
  }
  flush();
}
