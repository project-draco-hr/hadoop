{
  String ip=resolver.resolve(hostName);
synchronized (hostsReader) {
    Set<String> hostsList=hostsReader.getHosts();
    Set<String> excludeList=hostsReader.getExcludedHosts();
    return (hostsList.isEmpty() || hostsList.contains(hostName) || hostsList.contains(ip)) && !(excludeList.contains(hostName) || excludeList.contains(ip));
  }
}
