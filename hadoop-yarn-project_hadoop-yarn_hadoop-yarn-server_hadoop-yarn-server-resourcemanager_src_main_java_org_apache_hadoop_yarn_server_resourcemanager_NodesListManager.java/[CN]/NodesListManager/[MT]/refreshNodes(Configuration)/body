{
synchronized (hostsReader) {
    if (null == yarnConf) {
      yarnConf=new YarnConfiguration();
    }
    includesFile=yarnConf.get(YarnConfiguration.RM_NODES_INCLUDE_FILE_PATH,YarnConfiguration.DEFAULT_RM_NODES_INCLUDE_FILE_PATH);
    excludesFile=yarnConf.get(YarnConfiguration.RM_NODES_EXCLUDE_FILE_PATH,YarnConfiguration.DEFAULT_RM_NODES_EXCLUDE_FILE_PATH);
    hostsReader.updateFileNames(includesFile,excludesFile);
    hostsReader.refresh(includesFile.isEmpty() ? null : this.rmContext.getConfigurationProvider().getConfigurationInputStream(this.conf,includesFile),excludesFile.isEmpty() ? null : this.rmContext.getConfigurationProvider().getConfigurationInputStream(this.conf,excludesFile));
    printConfiguredHosts();
  }
  for (  NodeId nodeId : rmContext.getRMNodes().keySet()) {
    if (!isValidNode(nodeId.getHost())) {
      this.rmContext.getDispatcher().getEventHandler().handle(new RMNodeEvent(nodeId,RMNodeEventType.DECOMMISSION));
    }
  }
}
