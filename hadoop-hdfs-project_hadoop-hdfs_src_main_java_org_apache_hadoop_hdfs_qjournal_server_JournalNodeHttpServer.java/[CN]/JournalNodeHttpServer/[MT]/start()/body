{
  final InetSocketAddress httpAddr=getAddress(conf);
  final String httpsAddrString=conf.get(DFSConfigKeys.DFS_JOURNALNODE_HTTPS_ADDRESS_KEY,DFSConfigKeys.DFS_JOURNALNODE_HTTPS_ADDRESS_DEFAULT);
  InetSocketAddress httpsAddr=NetUtils.createSocketAddr(httpsAddrString);
  HttpServer2.Builder builder=DFSUtil.httpServerTemplateForNNAndJN(conf,httpAddr,httpsAddr,"journal",DFSConfigKeys.DFS_JOURNALNODE_INTERNAL_SPNEGO_USER_NAME_KEY,DFSConfigKeys.DFS_JOURNALNODE_KEYTAB_FILE_KEY);
  httpServer=builder.build();
  httpServer.setAttribute(JN_ATTRIBUTE_KEY,localJournalNode);
  httpServer.setAttribute(JspHelper.CURRENT_CONF,conf);
  httpServer.addInternalServlet("getJournal","/getJournal",GetJournalEditServlet.class,true);
  httpServer.start();
}
