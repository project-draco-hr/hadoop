{
  final InetSocketAddress bindAddr=getAddress(conf);
  LOG.info("Starting web server as: " + SecurityUtil.getServerPrincipal(conf.get(DFS_JOURNALNODE_INTERNAL_SPNEGO_USER_NAME_KEY),bindAddr.getHostName()));
  int tmpInfoPort=bindAddr.getPort();
  httpServer=new HttpServer("journal",bindAddr.getHostName(),tmpInfoPort,tmpInfoPort == 0,conf,new AccessControlList(conf.get(DFS_ADMIN," "))){
{
      if (UserGroupInformation.isSecurityEnabled()) {
        initSpnego(conf,DFS_JOURNALNODE_INTERNAL_SPNEGO_USER_NAME_KEY,DFSUtil.getSpnegoKeytabKey(conf,DFS_JOURNALNODE_KEYTAB_FILE_KEY));
      }
    }
  }
;
  httpServer.setAttribute(JN_ATTRIBUTE_KEY,localJournalNode);
  httpServer.setAttribute(JspHelper.CURRENT_CONF,conf);
  httpServer.addInternalServlet("getJournal","/getJournal",GetJournalEditServlet.class,true);
  httpServer.start();
  infoPort=httpServer.getPort();
  LOG.info("Journal Web-server up at: " + bindAddr + ":"+ infoPort);
}
