{
  factory.registerCommands(TestRegistrar.class);
  Command instance;
  instance=factory.getInstance("blarg");
  assertNull(instance);
  instance=factory.getInstance("tc1");
  assertNotNull(instance);
  assertEquals(TestCommand1.class,instance.getClass());
  assertEquals("tc1",instance.getCommandName());
  instance=factory.getInstance("tc2");
  assertNotNull(instance);
  assertEquals(TestCommand2.class,instance.getClass());
  assertEquals("tc2",instance.getCommandName());
  instance=factory.getInstance("tc2.1");
  assertNotNull(instance);
  assertEquals(TestCommand2.class,instance.getClass());
  assertEquals("tc2.1",instance.getCommandName());
}
