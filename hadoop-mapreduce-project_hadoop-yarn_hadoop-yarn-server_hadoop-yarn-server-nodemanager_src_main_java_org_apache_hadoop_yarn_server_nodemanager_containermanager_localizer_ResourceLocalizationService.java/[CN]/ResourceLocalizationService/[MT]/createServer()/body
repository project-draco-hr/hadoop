{
  Configuration conf=getConfig();
  YarnRPC rpc=YarnRPC.create(conf);
  LocalizerTokenSecretManager secretManager=null;
  if (UserGroupInformation.isSecurityEnabled()) {
    secretManager=new LocalizerTokenSecretManager();
  }
  return rpc.getServer(LocalizationProtocol.class,this,localizationServerAddress,conf,secretManager,conf.getInt(YarnConfiguration.NM_LOCALIZER_CLIENT_THREAD_COUNT,YarnConfiguration.DEFAULT_NM_LOCALIZER_CLIENT_THREAD_COUNT));
}
