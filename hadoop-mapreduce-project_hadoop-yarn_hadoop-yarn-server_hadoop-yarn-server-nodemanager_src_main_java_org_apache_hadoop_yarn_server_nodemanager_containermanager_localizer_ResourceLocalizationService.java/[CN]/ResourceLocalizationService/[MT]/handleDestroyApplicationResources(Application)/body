{
  String userName;
  String appIDStr;
  LocalResourcesTracker appLocalRsrcsTracker=appRsrc.remove(ConverterUtils.toString(application.getAppId()));
  if (null == appLocalRsrcsTracker) {
    LOG.warn("Removing uninitialized application " + application);
  }
  userName=application.getUser();
  appIDStr=application.toString();
  for (  Path localDir : localDirs) {
    Path usersdir=new Path(localDir,ContainerLocalizer.USERCACHE);
    Path userdir=new Path(usersdir,userName);
    Path allAppsdir=new Path(userdir,ContainerLocalizer.APPCACHE);
    Path appDir=new Path(allAppsdir,appIDStr);
    delService.delete(userName,appDir,new Path[]{});
    Path sysDir=new Path(localDir,NM_PRIVATE_DIR);
    Path appSysDir=new Path(sysDir,appIDStr);
    delService.delete(null,appSysDir,new Path[]{});
  }
  dispatcher.getEventHandler().handle(new ApplicationEvent(application.getAppId(),ApplicationEventType.APPLICATION_RESOURCES_CLEANEDUP));
}
