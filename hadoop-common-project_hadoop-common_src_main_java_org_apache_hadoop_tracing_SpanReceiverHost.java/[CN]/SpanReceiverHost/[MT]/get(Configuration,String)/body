{
synchronized (SpanReceiverHost.class) {
    SpanReceiverHost host=hosts.get(confPrefix);
    if (host != null) {
      return host;
    }
    final SpanReceiverHost newHost=new SpanReceiverHost(confPrefix);
    newHost.loadSpanReceivers(conf);
    ShutdownHookManager.get().addShutdownHook(new Runnable(){
      public void run(){
        newHost.closeReceivers();
      }
    }
,0);
    hosts.put(confPrefix,newHost);
    return newHost;
  }
}
