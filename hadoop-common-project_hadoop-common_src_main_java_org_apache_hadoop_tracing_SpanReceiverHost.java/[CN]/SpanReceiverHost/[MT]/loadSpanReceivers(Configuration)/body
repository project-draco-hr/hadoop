{
  config=new Configuration(conf);
  String[] receiverNames=config.getTrimmedStrings(SPAN_RECEIVERS_CONF_KEY);
  if (receiverNames == null || receiverNames.length == 0) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("No span receiver names found in " + SPAN_RECEIVERS_CONF_KEY + ".");
    }
    return;
  }
  if (config.get(LOCAL_FILE_SPAN_RECEIVER_PATH) == null) {
    String uniqueFile=getUniqueLocalTraceFileName();
    config.set(LOCAL_FILE_SPAN_RECEIVER_PATH,uniqueFile);
    if (LOG.isTraceEnabled()) {
      LOG.trace("Set " + LOCAL_FILE_SPAN_RECEIVER_PATH + " to "+ uniqueFile);
    }
  }
  for (  String className : receiverNames) {
    try {
      SpanReceiver rcvr=loadInstance(className,EMPTY);
      Trace.addReceiver(rcvr);
      receivers.put(highestId++,rcvr);
      LOG.info("Loaded SpanReceiver " + className + " successfully.");
    }
 catch (    IOException e) {
      LOG.error("Failed to load SpanReceiver",e);
    }
  }
}
