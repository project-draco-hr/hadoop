{
  config=new Configuration(conf);
  String[] receiverNames=config.getTrimmedStrings(SPAN_RECEIVERS_CONF_KEY);
  if (receiverNames == null || receiverNames.length == 0) {
    return;
  }
  if (config.get(LOCAL_FILE_SPAN_RECEIVER_PATH) == null) {
    config.set(LOCAL_FILE_SPAN_RECEIVER_PATH,getUniqueLocalTraceFileName());
  }
  for (  String className : receiverNames) {
    className=className.trim();
    if (!className.contains(".")) {
      className="org.htrace.impl." + className;
    }
    try {
      SpanReceiver rcvr=loadInstance(className,EMPTY);
      Trace.addReceiver(rcvr);
      receivers.put(highestId++,rcvr);
      LOG.info("SpanReceiver " + className + " was loaded successfully.");
    }
 catch (    IOException e) {
      LOG.error("Failed to load SpanReceiver",e);
    }
  }
}
