{
  config=new Configuration(conf);
  String receiverKey=confPrefix + SPAN_RECEIVERS_CONF_SUFFIX;
  String[] receiverNames=config.getTrimmedStrings(receiverKey);
  if (receiverNames == null || receiverNames.length == 0) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("No span receiver names found in " + receiverKey + ".");
    }
    return;
  }
  String pathKey=confPrefix + LOCAL_FILE_SPAN_RECEIVER_PATH_SUFFIX;
  if (config.get(pathKey) == null) {
    String uniqueFile=getUniqueLocalTraceFileName();
    config.set(pathKey,uniqueFile);
    if (LOG.isTraceEnabled()) {
      LOG.trace("Set " + pathKey + " to "+ uniqueFile);
    }
  }
  for (  String className : receiverNames) {
    try {
      SpanReceiver rcvr=loadInstance(className,EMPTY);
      Trace.addReceiver(rcvr);
      receivers.put(highestId++,rcvr);
      LOG.info("Loaded SpanReceiver " + className + " successfully.");
    }
 catch (    IOException e) {
      LOG.error("Failed to load SpanReceiver",e);
    }
  }
}
