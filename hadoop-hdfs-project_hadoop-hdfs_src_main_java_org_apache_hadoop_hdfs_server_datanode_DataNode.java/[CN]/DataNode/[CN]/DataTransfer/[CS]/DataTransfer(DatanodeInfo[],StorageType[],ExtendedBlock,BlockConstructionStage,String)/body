{
  if (DataTransferProtocol.LOG.isDebugEnabled()) {
    DataTransferProtocol.LOG.debug(getClass().getSimpleName() + ": " + b+ " (numBytes="+ b.getNumBytes()+ ")"+ ", stage="+ stage+ ", clientname="+ clientname+ ", targests="+ Arrays.asList(targets));
  }
  this.targets=targets;
  this.targetStorageTypes=targetStorageTypes;
  this.b=b;
  this.stage=stage;
  BPOfferService bpos=blockPoolManager.get(b.getBlockPoolId());
  bpReg=bpos.bpRegistration;
  this.clientname=clientname;
  this.cachingStrategy=new CachingStrategy(true,getDnConf().readaheadLength);
}
