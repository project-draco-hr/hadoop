{
  final String storageID=data.updateReplicaUnderRecovery(oldBlock,recoveryId,newBlockId,newLength);
  ExtendedBlock newBlock=new ExtendedBlock(oldBlock);
  newBlock.setGenerationStamp(recoveryId);
  newBlock.setBlockId(newBlockId);
  newBlock.setNumBytes(newLength);
  notifyNamenodeReceivedBlock(newBlock,"",storageID);
  return storageID;
}
