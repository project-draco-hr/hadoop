{
  ReplicaInfo r=data.updateReplicaUnderRecovery(oldBlock,recoveryId,newLength);
  ExtendedBlock newBlock=new ExtendedBlock(oldBlock);
  newBlock.setGenerationStamp(recoveryId);
  newBlock.setNumBytes(newLength);
  notifyNamenodeReceivedBlock(newBlock,"");
  return new ExtendedBlock(oldBlock.getBlockPoolId(),r);
}
