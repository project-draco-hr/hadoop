{
  TestDelegationTokenSecretManager secretManager=new TestDelegationTokenSecretManager(0,0,0,0);
  secretManager.startThreads();
  TestDelegationTokenIdentifier id=new TestDelegationTokenIdentifier(new Text("owner"),new Text("renewer"),new Text("realUser"));
  Token<TestDelegationTokenIdentifier> token=new Token<TestDelegationTokenIdentifier>(id,secretManager);
  TokenIdentifier idCopy=token.decodeIdentifier();
  assertNotSame(id,idCopy);
  assertEquals(id,idCopy);
}
