{
  if (noUncompressedBytes == originalBlockSize) {
    try {
      originalBlockSize=rawReadInt();
    }
 catch (    IOException ioe) {
      return -1;
    }
    noUncompressedBytes=0;
    if (originalBlockSize == 0) {
      eof=true;
      return -1;
    }
  }
  int n=0;
  while ((n=decompressor.decompress(b,off,len)) == 0) {
    if (decompressor.finished() || decompressor.needsDictionary()) {
      if (noUncompressedBytes >= originalBlockSize) {
        eof=true;
        return -1;
      }
    }
    if (decompressor.needsInput()) {
      int m;
      try {
        m=getCompressedData();
      }
 catch (      EOFException e) {
        eof=true;
        return -1;
      }
      decompressor.setInput(buffer,0,m);
    }
  }
  noUncompressedBytes+=n;
  return n;
}
