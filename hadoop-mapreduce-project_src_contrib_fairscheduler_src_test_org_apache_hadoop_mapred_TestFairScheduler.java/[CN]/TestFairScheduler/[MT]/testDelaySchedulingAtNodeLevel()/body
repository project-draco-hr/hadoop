{
  setUpCluster(2,2,true);
  scheduler.assignMultiple=true;
  JobInProgress job1=submitJob(JobStatus.RUNNING,1,0,"pool1",new String[][]{{"rack2.node2"}},true);
  JobInfo info1=scheduler.infos.get(job1);
  advanceTime(100);
  JobInProgress job2=submitJob(JobStatus.RUNNING,10,0);
  checkAssignment("tt1","attempt_test_0002_m_000000_0 on tt1","attempt_test_0002_m_000001_0 on tt1");
  checkAssignment("tt2","attempt_test_0002_m_000002_0 on tt2","attempt_test_0002_m_000003_0 on tt2");
  checkAssignment("tt3","attempt_test_0002_m_000004_0 on tt3","attempt_test_0002_m_000005_0 on tt3");
  checkAssignment("tt4","attempt_test_0001_m_000000_0 on tt4","attempt_test_0002_m_000006_0 on tt4");
  assertEquals(info1.lastMapLocalityLevel,LocalityLevel.NODE);
  assertEquals(info1.timeWaitedForLocalMap,0);
  assertEquals(info1.skippedAtLastHeartbeat,false);
}
