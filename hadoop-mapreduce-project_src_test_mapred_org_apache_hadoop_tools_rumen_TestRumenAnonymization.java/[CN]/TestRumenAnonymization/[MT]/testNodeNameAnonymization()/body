{
  JsonSerializer<?> anonymizingSerializer=new DefaultAnonymizingRumenSerializer(new StatePool(),new Configuration());
  testSerializer(new NodeName("hostname.myorg.com"),"host0",anonymizingSerializer);
  testSerializer(new NodeName("hostname213.myorg.com"),"host1",anonymizingSerializer);
  testSerializer(new NodeName("/rackname.myorg.com/hostname.myorg.com"),"/rack0/host0",anonymizingSerializer);
  testSerializer(new NodeName("/rackname654.myorg.com/hostname.myorg.com"),"/rack1/host0",anonymizingSerializer);
  testSerializer(new NodeName("/rackname654.myorg.com/hostname765.myorg.com"),"/rack1/host2",anonymizingSerializer);
  testSerializer(new NodeName("rackname.myorg.com","hostname.myorg.com"),"/rack0/host0",anonymizingSerializer);
  testSerializer(new NodeName("rackname.myorg.com","hostname543.myorg.com"),"/rack0/host3",anonymizingSerializer);
  testSerializer(new NodeName("rackname987.myorg.com","hostname.myorg.com"),"/rack2/host0",anonymizingSerializer);
  testSerializer(new NodeName("rackname.myorg.com","hostname654.myorg.com"),"/rack0/host4",anonymizingSerializer);
  testSerializer(new NodeName("rackname876.myorg.com","hostname.myorg.com"),"/rack3/host0",anonymizingSerializer);
  testSerializer(new NodeName("rackname987.myorg.com","hostname543.myorg.com"),"/rack2/host3",anonymizingSerializer);
  testSerializer(new NodeName(null,"hostname.myorg.com"),"host0",anonymizingSerializer);
  testSerializer(new NodeName(null,"hostname15.myorg.com"),"host5",anonymizingSerializer);
  testSerializer(new NodeName("rackname987.myorg.com",null),"rack2",anonymizingSerializer);
  testSerializer(new NodeName("rackname15.myorg.com",null),"rack4",anonymizingSerializer);
}
