{
  JsonSerializer<?> anonymizingSerializer=new DefaultAnonymizingRumenSerializer(new StatePool(),new Configuration());
  testSerializer(new FileName("hdfs://mynn:123/home/user/bob/test.json"),"hdfs://host0/home/user/dir0/test.json",anonymizingSerializer);
  testSerializer(new FileName("file:///home/user/alice/test.jar"),"file:///home/user/dir1/test.jar",anonymizingSerializer);
  testSerializer(new FileName("hdfs://mynn:123/home/user/"),"hdfs://host0/home/user/",anonymizingSerializer);
  testSerializer(new FileName("file:///home/user/secret/more-secret/"),"file:///home/user/dir2/dir3/",anonymizingSerializer);
  testSerializer(new FileName("/home/user/top-secret.txt"),"/home/user/file0.txt",anonymizingSerializer);
  testSerializer(new FileName("home/user/top-top-secret.zip"),"home/user/file1.zip",anonymizingSerializer);
  testSerializer(new FileName("/home/user/project1/"),"/home/user/dir4/",anonymizingSerializer);
  testSerializer(new FileName("home/user/project1"),"home/user/file2",anonymizingSerializer);
  testSerializer(new FileName("more-secret/"),"dir3/",anonymizingSerializer);
  testSerializer(new FileName("secret/project1"),"dir2/file2",anonymizingSerializer);
  testSerializer(new FileName("/top-secret.txt"),"/file0.txt",anonymizingSerializer);
  testSerializer(new FileName("top-top-secret.tar"),"file1.tar",anonymizingSerializer);
  testSerializer(new FileName("sensitive-projectname/"),"dir5/",anonymizingSerializer);
  testSerializer(new FileName("/real-sensitive-projectname/"),"/dir6/",anonymizingSerializer);
  testSerializer(new FileName("/usernames.xml"),"/file3.xml",anonymizingSerializer);
  testSerializer(new FileName("passwords.zip"),"file4.zip",anonymizingSerializer);
  testSerializer(new FileName("./tmp"),"./tmp",anonymizingSerializer);
  testSerializer(new FileName("./tmp/"),"./tmp/",anonymizingSerializer);
  testSerializer(new FileName("../tmp"),"../tmp",anonymizingSerializer);
  testSerializer(new FileName("../tmp/"),"../tmp/",anonymizingSerializer);
  FileName fileName=new FileName("hdfs://mynn:123/home/user/bob/test.json," + "file:///home/user/bob/test.json,/user/alice/test.json");
  testSerializer(fileName,"hdfs://host0/home/user/dir0/test.json,file:///home/user/dir0/test.json" + ",/user/dir1/test.json",anonymizingSerializer);
}
