{
  UserGroupInformation ugi=UserGroupInformation.createRemoteUser("JobTracker");
  DistributedFileSystem dfs=cluster.getFileSystem();
  Credentials creds=new Credentials();
  final Token<?> tokens[]=dfs.addDelegationTokens("JobTracker",creds);
  Assert.assertEquals(1,tokens.length);
  Assert.assertEquals(1,creds.numberOfTokens());
  checkTokenIdentifier(ugi,tokens[0]);
  final Token<?> tokens2[]=dfs.addDelegationTokens("JobTracker",creds);
  Assert.assertEquals(0,tokens2.length);
  Assert.assertEquals(1,creds.numberOfTokens());
}
