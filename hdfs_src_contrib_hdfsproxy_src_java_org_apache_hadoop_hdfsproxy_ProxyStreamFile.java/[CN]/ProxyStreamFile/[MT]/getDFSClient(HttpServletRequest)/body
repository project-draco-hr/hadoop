{
  ServletContext context=getServletContext();
  final Configuration conf=(Configuration)context.getAttribute("name.conf");
  final InetSocketAddress nameNodeAddr=(InetSocketAddress)context.getAttribute("name.node.address");
  DFSClient client=getUGI(request,conf).doAs(new PrivilegedExceptionAction<DFSClient>(){
    @Override public DFSClient run() throws IOException {
      return new DFSClient(nameNodeAddr,conf);
    }
  }
);
  return client;
}
