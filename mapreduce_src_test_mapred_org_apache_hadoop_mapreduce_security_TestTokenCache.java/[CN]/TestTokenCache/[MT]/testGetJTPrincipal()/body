{
  String serviceName="jt/";
  String hostName="foo";
  String domainName="@BAR";
  Configuration conf=new Configuration();
  conf.set(JTConfig.JT_IPC_ADDRESS,hostName + ":8888");
  conf.set(JTConfig.JT_USER_NAME,serviceName + SecurityUtil.HOSTNAME_PATTERN + domainName);
  assertEquals("Failed to substitute HOSTNAME_PATTERN with hostName",serviceName + hostName + domainName,TokenCache.getJTPrincipal(conf));
}
