{
  String fqdn=(d.getIpAddr() != null && !d.getIpAddr().isEmpty()) ? canonicalize(d.getIpAddr()) : d.getHostName();
  if (scheme.equals("http")) {
    return fqdn + ":" + d.getInfoPort();
  }
 else   if (scheme.equals("https")) {
    return fqdn + ":" + d.getInfoSecurePort();
  }
 else {
    throw new IllegalArgumentException("Unknown scheme:" + scheme);
  }
}
