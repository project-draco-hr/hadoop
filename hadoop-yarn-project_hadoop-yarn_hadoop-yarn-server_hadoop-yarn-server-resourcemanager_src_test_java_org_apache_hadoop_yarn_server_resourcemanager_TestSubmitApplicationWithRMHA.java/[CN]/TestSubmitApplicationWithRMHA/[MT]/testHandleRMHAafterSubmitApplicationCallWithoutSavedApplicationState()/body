{
  startRMsWithCustomizedRMAppManager();
  RMApp app0=rm1.submitApp(200,"",UserGroupInformation.getCurrentUser().getShortUserName(),null,false,null,configuration.getInt(YarnConfiguration.RM_AM_MAX_ATTEMPTS,YarnConfiguration.DEFAULT_RM_AM_MAX_ATTEMPTS),null,null,false,false);
  explicitFailover();
  try {
    rm2.getApplicationReport(app0.getApplicationId());
    Assert.fail("Should get ApplicationNotFoundException here");
  }
 catch (  ApplicationNotFoundException ex) {
  }
  RMApp app1=rm2.submitApp(200,"",UserGroupInformation.getCurrentUser().getShortUserName(),null,false,null,configuration.getInt(YarnConfiguration.RM_AM_MAX_ATTEMPTS,YarnConfiguration.DEFAULT_RM_AM_MAX_ATTEMPTS),null,null,false,false,true,app0.getApplicationId());
  verifySubmitApp(rm2,app1,app0.getApplicationId());
}
