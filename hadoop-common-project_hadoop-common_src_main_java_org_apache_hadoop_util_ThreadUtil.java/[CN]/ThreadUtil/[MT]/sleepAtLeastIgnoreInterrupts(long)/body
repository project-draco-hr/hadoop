{
  long start=Time.now();
  while (Time.now() - start < millis) {
    long timeToSleep=millis - (Time.now() - start);
    try {
      Thread.sleep(timeToSleep);
    }
 catch (    InterruptedException ie) {
      LOG.warn("interrupted while sleeping",ie);
    }
  }
}
