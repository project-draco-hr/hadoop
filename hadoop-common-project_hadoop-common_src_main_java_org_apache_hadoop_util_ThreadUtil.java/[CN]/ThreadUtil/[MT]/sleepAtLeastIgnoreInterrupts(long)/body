{
  long start=System.currentTimeMillis();
  while (System.currentTimeMillis() - start < millis) {
    long timeToSleep=millis - (System.currentTimeMillis() - start);
    try {
      Thread.sleep(timeToSleep);
    }
 catch (    InterruptedException ie) {
      LOG.warn("interrupted while sleeping",ie);
    }
  }
}
