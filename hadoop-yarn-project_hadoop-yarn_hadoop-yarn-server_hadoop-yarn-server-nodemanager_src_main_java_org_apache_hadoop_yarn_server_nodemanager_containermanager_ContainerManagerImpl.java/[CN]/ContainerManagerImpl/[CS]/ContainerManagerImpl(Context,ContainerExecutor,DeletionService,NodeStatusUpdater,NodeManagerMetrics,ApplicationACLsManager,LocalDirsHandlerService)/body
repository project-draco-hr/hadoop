{
  super(ContainerManagerImpl.class.getName());
  this.context=context;
  this.dirsHandler=dirsHandler;
  dispatcher=new AsyncDispatcher();
  this.deletionService=deletionContext;
  this.metrics=metrics;
  rsrcLocalizationSrvc=createResourceLocalizationService(exec,deletionContext,context);
  addService(rsrcLocalizationSrvc);
  containersLauncher=createContainersLauncher(context,exec);
  addService(containersLauncher);
  this.nodeStatusUpdater=nodeStatusUpdater;
  this.aclsManager=aclsManager;
  auxiliaryServices=new AuxServices();
  auxiliaryServices.registerServiceListener(this);
  addService(auxiliaryServices);
  this.containersMonitor=new ContainersMonitorImpl(exec,dispatcher,this.context);
  addService(this.containersMonitor);
  dispatcher.register(ContainerEventType.class,new ContainerEventDispatcher());
  dispatcher.register(ApplicationEventType.class,new ApplicationEventDispatcher());
  dispatcher.register(LocalizationEventType.class,rsrcLocalizationSrvc);
  dispatcher.register(AuxServicesEventType.class,auxiliaryServices);
  dispatcher.register(ContainersMonitorEventType.class,containersMonitor);
  dispatcher.register(ContainersLauncherEventType.class,containersLauncher);
  addService(dispatcher);
  ReentrantReadWriteLock lock=new ReentrantReadWriteLock();
  this.readLock=lock.readLock();
  this.writeLock=lock.writeLock();
}
