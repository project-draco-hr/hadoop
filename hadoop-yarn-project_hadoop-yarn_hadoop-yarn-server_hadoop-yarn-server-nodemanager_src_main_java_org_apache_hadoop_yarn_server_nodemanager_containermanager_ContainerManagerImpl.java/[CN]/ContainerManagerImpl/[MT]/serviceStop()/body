{
  setBlockNewContainerRequests(true);
  this.writeLock.lock();
  try {
    serviceStopped=true;
    if (context != null) {
      cleanUpApplicationsOnNMShutDown();
    }
  }
  finally {
    this.writeLock.unlock();
  }
  if (auxiliaryServices.getServiceState() == STARTED) {
    auxiliaryServices.unregisterServiceListener(this);
  }
  if (server != null) {
    server.stop();
  }
  super.serviceStop();
}
