{
  NMStateStoreService stateStore=context.getNMStateStore();
  if (stateStore.canRecover()) {
    rsrcLocalizationSrvc.recoverLocalizedResources(stateStore.loadLocalizationState());
    RecoveredApplicationsState appsState=stateStore.loadApplicationsState();
    for (    ContainerManagerApplicationProto proto : appsState.getApplications()) {
      recoverApplication(proto);
    }
    String diagnostic="Application marked finished during recovery";
    for (    ApplicationId appId : appsState.getFinishedApplications()) {
      dispatcher.getEventHandler().handle(new ApplicationFinishEvent(appId,diagnostic));
    }
  }
}
