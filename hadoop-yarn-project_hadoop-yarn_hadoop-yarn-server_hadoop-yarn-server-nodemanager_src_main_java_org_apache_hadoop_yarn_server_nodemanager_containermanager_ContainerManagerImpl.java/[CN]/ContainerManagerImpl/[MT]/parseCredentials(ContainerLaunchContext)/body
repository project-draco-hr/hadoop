{
  Credentials credentials=new Credentials();
  ByteBuffer tokens=launchContext.getTokens();
  if (tokens != null) {
    DataInputByteBuffer buf=new DataInputByteBuffer();
    tokens.rewind();
    buf.reset(tokens);
    try {
      credentials.readTokenStorageStream(buf);
      if (LOG.isDebugEnabled()) {
        for (        Token<? extends TokenIdentifier> tk : credentials.getAllTokens()) {
          LOG.debug(tk.getService() + " = " + tk.toString());
        }
      }
    }
 catch (    IOException e) {
      throw RPCUtil.getRemoteException(e);
    }
  }
  return credentials;
}
