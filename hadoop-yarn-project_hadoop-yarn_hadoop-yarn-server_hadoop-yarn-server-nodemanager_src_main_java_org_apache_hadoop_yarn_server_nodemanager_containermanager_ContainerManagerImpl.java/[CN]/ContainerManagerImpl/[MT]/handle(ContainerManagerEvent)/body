{
switch (event.getType()) {
case FINISH_APPS:
    CMgrCompletedAppsEvent appsFinishedEvent=(CMgrCompletedAppsEvent)event;
  for (  ApplicationId appID : appsFinishedEvent.getAppsToCleanup()) {
    this.dispatcher.getEventHandler().handle(new ApplicationFinishEvent(appID,"Application Killed by ResourceManager"));
  }
break;
case FINISH_CONTAINERS:
CMgrCompletedContainersEvent containersFinishedEvent=(CMgrCompletedContainersEvent)event;
for (ContainerId container : containersFinishedEvent.getContainersToCleanup()) {
String diagnostic="";
if (containersFinishedEvent.getReason() == CMgrCompletedContainersEvent.Reason.ON_SHUTDOWN) {
diagnostic="Container Killed on Shutdown";
}
 else if (containersFinishedEvent.getReason() == CMgrCompletedContainersEvent.Reason.BY_RESOURCEMANAGER) {
diagnostic="Container Killed by ResourceManager";
}
this.dispatcher.getEventHandler().handle(new ContainerKillEvent(container,diagnostic));
}
break;
default :
LOG.warn("Invalid event " + event.getType() + ". Ignoring.");
}
}
