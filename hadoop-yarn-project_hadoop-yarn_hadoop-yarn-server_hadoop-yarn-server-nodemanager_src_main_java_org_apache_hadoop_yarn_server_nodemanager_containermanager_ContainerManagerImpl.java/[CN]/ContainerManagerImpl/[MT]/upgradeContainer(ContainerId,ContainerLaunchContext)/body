{
  Container container=preUpgradeOrLocalizeCheck(containerId,ReinitOp.UPGRADE);
  ResourceSet resourceSet=new ResourceSet();
  try {
    resourceSet.addResources(upgradeLaunchContext.getLocalResources());
    dispatcher.getEventHandler().handle(new ContainerReInitEvent(containerId,upgradeLaunchContext,resourceSet));
    container.setIsReInitializing(true);
  }
 catch (  URISyntaxException e) {
    LOG.info("Error when parsing local resource URI for upgrade of" + "Container [" + containerId + "]",e);
    throw new YarnException(e);
  }
}
