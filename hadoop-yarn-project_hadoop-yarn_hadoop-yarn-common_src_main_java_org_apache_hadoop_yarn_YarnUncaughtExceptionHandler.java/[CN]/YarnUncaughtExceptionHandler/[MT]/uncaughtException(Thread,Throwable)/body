{
  if (ShutdownHookManager.get().isShutdownInProgress()) {
    LOG.error("Thread " + t + " threw an Throwable, but we are shutting "+ "down, so ignoring this",e);
  }
 else   if (e instanceof Error) {
    try {
      LOG.fatal("Thread " + t + " threw an Error.  Shutting down now...",e);
    }
 catch (    Throwable err) {
    }
    if (e instanceof OutOfMemoryError) {
      try {
        System.err.println("Halting due to Out Of Memory Error...");
      }
 catch (      Throwable err) {
      }
      Runtime.getRuntime().halt(-1);
    }
 else {
      System.exit(-1);
    }
  }
 else {
    LOG.error("Thread " + t + " threw an Exception.",e);
  }
}
