{
  ContainerLocalizer localizer=new ContainerLocalizer(this.lfs,user,appId,locId,localDirs,RecordFactoryProvider.getRecordFactory(getConf()));
  createUserLocalDirs(localDirs,user);
  createUserCacheDirs(localDirs,user);
  createAppDirs(localDirs,user,appId);
  createAppLogDirs(appId);
  Path appStorageDir=getFirstApplicationDir(localDirs,user,appId);
  String tokenFn=String.format(ContainerLocalizer.TOKEN_FILE_NAME_FMT,locId);
  Path tokenDst=new Path(appStorageDir,tokenFn);
  lfs.util().copy(nmPrivateContainerTokensPath,tokenDst);
  LOG.info("Copying from " + nmPrivateContainerTokensPath + " to "+ tokenDst);
  lfs.setWorkingDirectory(appStorageDir);
  LOG.info("CWD set to " + appStorageDir + " = "+ lfs.getWorkingDirectory());
  localizer.runLocalization(nmAddr);
}
