{
  try {
    return doOp(new ProviderCallable<EncryptedKeyVersion>(){
      @Override public EncryptedKeyVersion call(      KMSClientProvider provider) throws IOException, GeneralSecurityException {
        return provider.generateEncryptedKey(encryptionKeyName);
      }
    }
,nextIdx());
  }
 catch (  WrapperException we) {
    if (we.getCause() instanceof GeneralSecurityException) {
      throw (GeneralSecurityException)we.getCause();
    }
    throw new IOException(we.getCause());
  }
}
