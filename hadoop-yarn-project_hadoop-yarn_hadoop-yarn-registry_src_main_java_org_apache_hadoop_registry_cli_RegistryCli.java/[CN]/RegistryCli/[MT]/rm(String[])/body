{
  Option recursive=OptionBuilder.withArgName("recursive").withDescription("delete recursively").create("r");
  Options rmOption=new Options();
  rmOption.addOption(recursive);
  boolean recursiveOpt=false;
  CommandLineParser parser=new GnuParser();
  try {
    CommandLine line=parser.parse(rmOption,args);
    List<String> argsList=line.getArgList();
    if (argsList.size() != 2) {
      return usageError("RM requires exactly one path argument",RM_USAGE);
    }
    if (!validatePath(argsList.get(1)))     return -1;
    try {
      if (line.hasOption("r")) {
        recursiveOpt=true;
      }
      registry.delete(argsList.get(1),recursiveOpt);
      return 0;
    }
 catch (    Exception e) {
      syserr.println(analyzeException("rm",e,argsList));
    }
    return -1;
  }
 catch (  ParseException exp) {
    return usageError("Invalid syntax " + exp.toString(),RM_USAGE);
  }
}
