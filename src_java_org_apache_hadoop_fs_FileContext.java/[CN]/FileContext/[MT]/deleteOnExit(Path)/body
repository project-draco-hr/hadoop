{
  if (!exists(f)) {
    return false;
  }
synchronized (deleteOnExit) {
    if (deleteOnExit.isEmpty() && !finalizer.isAlive()) {
      Runtime.getRuntime().addShutdownHook(finalizer);
    }
    Set<Path> set=deleteOnExit.get(this);
    if (set == null) {
      set=new TreeSet<Path>();
      deleteOnExit.put(this,set);
    }
    set.add(f);
  }
  return true;
}
