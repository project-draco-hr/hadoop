{
  final Path absSrc=fixRelativePart(src);
  final Path absDst=fixRelativePart(dst);
  FileSystem srcFS=getFSofPath(absSrc);
  FileSystem dstFS=getFSofPath(absDst);
  if (!srcFS.getUri().equals(dstFS.getUri())) {
    throw new IOException("Renames across FileSystems not supported");
  }
  if (srcFS.rename(absSrc,absDst)) {
    return;
  }
  throw new IOException("bug in underlying filesystem");
}
