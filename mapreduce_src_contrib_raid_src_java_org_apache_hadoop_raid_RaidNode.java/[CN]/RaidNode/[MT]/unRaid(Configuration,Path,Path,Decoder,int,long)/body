{
  ParityFilePair ppair=getParityFile(destPathPrefix,srcPath,conf);
  if (ppair == null) {
    return null;
  }
  final Path recoveryDestination=new Path(RaidNode.unraidTmpDirectory(conf));
  FileSystem destFs=recoveryDestination.getFileSystem(conf);
  final Path recoveredPrefix=destFs.makeQualified(new Path(recoveryDestination,makeRelative(srcPath)));
  final Path recoveredPath=new Path(recoveredPrefix + "." + new Random().nextLong()+ ".recovered");
  LOG.info("Creating recovered file " + recoveredPath);
  FileSystem srcFs=srcPath.getFileSystem(conf);
  decoder.decodeFile(srcFs,srcPath,ppair.getFileSystem(),ppair.getPath(),corruptOffset,recoveredPath);
  return recoveredPath;
}
