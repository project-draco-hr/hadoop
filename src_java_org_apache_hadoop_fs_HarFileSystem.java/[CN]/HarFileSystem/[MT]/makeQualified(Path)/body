{
  Path fsPath=path;
  if (!path.isAbsolute()) {
    fsPath=new Path(archivePath,path);
  }
  URI tmpURI=fsPath.toUri();
  fsPath=new Path(tmpURI.getPath());
  URI tmp=null;
  try {
    tmp=new URI(uri.getScheme(),harAuth,fsPath.toString(),tmpURI.getQuery(),tmpURI.getFragment());
  }
 catch (  URISyntaxException ue) {
    LOG.error("Error in URI ",ue);
  }
  if (tmp != null) {
    return new Path(tmp.toString());
  }
  return null;
}
