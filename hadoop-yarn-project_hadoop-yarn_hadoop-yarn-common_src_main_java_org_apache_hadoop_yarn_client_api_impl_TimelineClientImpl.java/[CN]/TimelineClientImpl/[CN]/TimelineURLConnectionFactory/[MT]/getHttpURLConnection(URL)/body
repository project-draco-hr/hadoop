{
  authUgi.checkTGTAndReloginFromKeytab();
  try {
    return new DelegationTokenAuthenticatedURL(authenticator,connConfigurator).openConnection(url,token,doAsUser);
  }
 catch (  UndeclaredThrowableException e) {
    throw new IOException(e.getCause());
  }
catch (  AuthenticationException ae) {
    throw new IOException(ae);
  }
}
