{
  int leftRetries=maxRetries;
  retried=false;
  while (true) {
    try {
      return getNext().handle(cr);
    }
 catch (    ClientHandlerException e) {
      if (leftRetries == 0) {
        break;
      }
      if (e.getCause() instanceof ConnectException) {
        if (leftRetries > 0) {
          LOG.info("Connection Timeout (" + cr.getURI() + "), will try "+ leftRetries+ " more time(s).");
        }
 else {
          LOG.info("Connection Timeout (" + cr.getURI() + "), will keep retrying.");
        }
        retried=true;
      }
 else {
        throw e;
      }
    }
    if (leftRetries > 0) {
      leftRetries--;
    }
    try {
      Thread.sleep(retryInterval);
    }
 catch (    InterruptedException ie) {
      LOG.warn("Client retry sleep interrupted! ");
    }
  }
  throw new ClientHandlerException("Failed to connect to timeline server. " + "Connection retries limit exceeded. " + "The posted timeline event may be missing");
}
