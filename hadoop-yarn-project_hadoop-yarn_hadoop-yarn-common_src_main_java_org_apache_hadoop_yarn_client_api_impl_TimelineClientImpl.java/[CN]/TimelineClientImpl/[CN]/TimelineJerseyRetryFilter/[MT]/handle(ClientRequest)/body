{
  TimelineClientRetryOp jerseyRetryOp=new TimelineClientRetryOp(){
    @Override public Object run(){
      return getNext().handle(cr);
    }
    @Override public boolean shouldRetryOn(    Exception e){
      return (e instanceof ClientHandlerException) && (e.getCause() instanceof ConnectException || e.getCause() instanceof SocketTimeoutException);
    }
  }
;
  try {
    return (ClientResponse)connectionRetry.retryOn(jerseyRetryOp);
  }
 catch (  IOException e) {
    throw new ClientHandlerException("Jersey retry failed!\nMessage: " + e.getMessage());
  }
}
