{
  int retries=pollTimelineServiceAddress(this.maxServiceRetries);
  if (timelineServiceAddress == null) {
    String errMessage="TimelineClient has reached to max retry times : " + this.maxServiceRetries + ", but failed to fetch timeline service address. Please verify"+ " Timeline Auxillary Service is configured in all the NMs";
    LOG.error(errMessage);
    throw new YarnException(errMessage);
  }
  boolean needRetry=true;
  while (needRetry) {
    try {
      URI uri=constructResURI(getConfig(),timelineServiceAddress,true);
      putObjects(uri,path,params,obj);
      needRetry=false;
    }
 catch (    Exception e) {
      checkRetryWithSleep(retries,e);
      retries--;
    }
  }
}
