{
  TimelineEntities entitiesContainer=new TimelineEntities();
  for (  TimelineEntity entity : entities) {
    if (entity.getEntityId() == null || entity.getEntityType() == null) {
      throw new YarnException("Incomplete entity without entity id/type");
    }
    entitiesContainer.addEntity(entity);
  }
  ClientResponse resp=doPosting(entitiesContainer,null);
  return resp.getEntity(TimelinePutResponse.class);
}
