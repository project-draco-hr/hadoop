{
  final int nsCount=10;
  final int remoteNsCount=4;
  HdfsConfiguration conf=new HdfsConfiguration();
  setupNameServices(conf,nsCount);
  setupAddress(conf,DFS_NAMENODE_SERVICE_RPC_ADDRESS_KEY,nsCount,1000);
  setupAddress(conf,DFS_NAMENODE_RPC_ADDRESS_KEY,nsCount,1500);
  conf.set(DFS_INTERNAL_NAMESERVICES_KEY,"ns1");
  setupStaticHostResolution(nsCount);
  String[] includedNN=new String[]{"nn1:1001"};
  verifyAddresses(conf,TestType.NAMENODE,false,includedNN);
  verifyAddresses(conf,TestType.NNRPCADDRESSES,true,includedNN);
}
