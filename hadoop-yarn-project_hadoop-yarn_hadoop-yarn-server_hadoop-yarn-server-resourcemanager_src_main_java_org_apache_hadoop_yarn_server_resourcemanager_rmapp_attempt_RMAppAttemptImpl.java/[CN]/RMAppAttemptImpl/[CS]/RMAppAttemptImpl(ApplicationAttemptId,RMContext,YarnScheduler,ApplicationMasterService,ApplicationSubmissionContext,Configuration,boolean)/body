{
  this.conf=conf;
  this.applicationAttemptId=appAttemptId;
  this.rmContext=rmContext;
  this.eventHandler=rmContext.getDispatcher().getEventHandler();
  this.submissionContext=submissionContext;
  this.scheduler=scheduler;
  this.masterService=masterService;
  ReentrantReadWriteLock lock=new ReentrantReadWriteLock();
  this.readLock=lock.readLock();
  this.writeLock=lock.writeLock();
  this.proxiedTrackingUrl=generateProxyUriWithScheme(null);
  this.maybeLastAttempt=maybeLastAttempt;
  this.stateMachine=stateMachineFactory.make(this);
  this.attemptMetrics=new RMAppAttemptMetrics(applicationAttemptId);
}
