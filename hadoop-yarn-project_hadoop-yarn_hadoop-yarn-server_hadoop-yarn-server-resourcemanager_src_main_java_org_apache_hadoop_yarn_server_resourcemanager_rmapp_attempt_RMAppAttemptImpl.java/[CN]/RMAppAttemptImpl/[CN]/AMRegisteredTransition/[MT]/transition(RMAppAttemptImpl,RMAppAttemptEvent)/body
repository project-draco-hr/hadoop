{
  RMAppAttemptRegistrationEvent registrationEvent=(RMAppAttemptRegistrationEvent)event;
  appAttempt.host=registrationEvent.getHost();
  appAttempt.rpcPort=registrationEvent.getRpcport();
  appAttempt.originalTrackingUrl=sanitizeTrackingUrl(registrationEvent.getTrackingurl());
  appAttempt.proxiedTrackingUrl=appAttempt.generateProxyUriWithScheme(appAttempt.originalTrackingUrl);
  appAttempt.eventHandler.handle(new RMAppEvent(appAttempt.getAppAttemptId().getApplicationId(),RMAppEventType.ATTEMPT_REGISTERED));
  appAttempt.rmContext.getRMApplicationHistoryWriter().applicationAttemptStarted(appAttempt);
}
