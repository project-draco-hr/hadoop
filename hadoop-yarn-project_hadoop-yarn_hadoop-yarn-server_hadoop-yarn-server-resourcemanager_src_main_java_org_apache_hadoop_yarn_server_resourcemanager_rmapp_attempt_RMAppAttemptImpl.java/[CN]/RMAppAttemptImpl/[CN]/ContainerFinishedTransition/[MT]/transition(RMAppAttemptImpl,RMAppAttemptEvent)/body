{
  RMAppAttemptContainerFinishedEvent containerFinishedEvent=(RMAppAttemptContainerFinishedEvent)event;
  ContainerStatus containerStatus=containerFinishedEvent.getContainerStatus();
  if (appAttempt.masterContainer != null && appAttempt.masterContainer.getId().equals(containerStatus.getContainerId())) {
    appAttempt.rememberTargetTransitionsAndStoreState(event,new ContainerFinishedFinalStateSavedTransition(),RMAppAttemptState.FAILED,RMAppAttemptState.FAILED);
    return RMAppAttemptState.FINAL_SAVING;
  }
  appAttempt.justFinishedContainers.add(containerStatus);
  return RMAppAttemptState.RUNNING;
}
