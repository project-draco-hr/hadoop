{
  Allocation amContainerAllocation=appAttempt.scheduler.allocate(appAttempt.applicationAttemptId,EMPTY_CONTAINER_REQUEST_LIST,EMPTY_CONTAINER_RELEASE_LIST);
  appAttempt.setMasterContainer(amContainerAllocation.getContainers().get(0));
  appAttempt.getSubmissionContext().getAMContainerSpec().setResource(appAttempt.getMasterContainer().getResource());
  RMStateStore store=appAttempt.rmContext.getStateStore();
  appAttempt.storeAttempt(store);
}
