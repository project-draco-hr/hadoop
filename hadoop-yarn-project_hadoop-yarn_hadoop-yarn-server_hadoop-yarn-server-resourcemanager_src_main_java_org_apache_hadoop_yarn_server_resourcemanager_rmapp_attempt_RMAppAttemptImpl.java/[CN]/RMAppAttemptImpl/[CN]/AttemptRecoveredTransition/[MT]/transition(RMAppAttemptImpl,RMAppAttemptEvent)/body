{
  LOG.info("Recovering attempt :  recoverdFinalState :" + appAttempt.recoveredFinalState);
  if (appAttempt.recoveredFinalState != null) {
    appAttempt.progress=1.0f;
    RMApp rmApp=appAttempt.rmContext.getRMApps().get(appAttempt.getAppAttemptId().getApplicationId());
    if (rmApp.getCurrentAppAttempt() == appAttempt && !RMAppImpl.isAppInFinalState(rmApp)) {
      (new BaseFinalTransition(appAttempt.recoveredFinalState)).transition(appAttempt,event);
    }
    return appAttempt.recoveredFinalState;
  }
 else {
    (new AMLaunchedTransition()).transition(appAttempt,event);
    return RMAppAttemptState.LAUNCHED;
  }
}
