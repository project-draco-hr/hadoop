{
  NodeId nodeId=containerFinishedEvent.getNodeId();
  finishedContainersSentToAM.putIfAbsent(nodeId,new ArrayList<ContainerStatus>());
  appAttempt.finishedContainersSentToAM.get(nodeId).add(containerFinishedEvent.getContainerStatus());
  if (!appAttempt.getSubmissionContext().getKeepContainersAcrossApplicationAttempts()) {
    appAttempt.sendFinishedContainersToNM();
  }
 else {
    appAttempt.sendFinishedAMContainerToNM(nodeId,containerFinishedEvent.getContainerStatus().getContainerId());
  }
}
