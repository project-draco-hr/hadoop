{
  if (appAttemptTokens == null) {
    return;
  }
  if (UserGroupInformation.isSecurityEnabled()) {
    ClientToAMTokenSelector clientToAMTokenSelector=new ClientToAMTokenSelector();
    this.clientToAMToken=clientToAMTokenSelector.selectToken(new Text(),appAttemptTokens.getAllTokens());
    InetSocketAddress serviceAddr=conf.getSocketAddr(YarnConfiguration.RM_SCHEDULER_ADDRESS,YarnConfiguration.DEFAULT_RM_SCHEDULER_ADDRESS,YarnConfiguration.DEFAULT_RM_SCHEDULER_PORT);
    AMRMTokenSelector appTokenSelector=new AMRMTokenSelector();
    this.amrmToken=appTokenSelector.selectToken(SecurityUtil.buildTokenService(serviceAddr),appAttemptTokens.getAllTokens());
  }
}
