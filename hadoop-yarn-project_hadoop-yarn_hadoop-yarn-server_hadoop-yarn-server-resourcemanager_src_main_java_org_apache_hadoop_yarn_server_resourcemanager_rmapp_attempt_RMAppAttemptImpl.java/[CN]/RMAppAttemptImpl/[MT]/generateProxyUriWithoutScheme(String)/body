{
  this.readLock.lock();
  try {
    URI trackingUri=StringUtils.isEmpty(trackingUriWithoutScheme) ? null : ProxyUriUtils.getUriFromAMUrl(trackingUriWithoutScheme);
    String proxy=YarnConfiguration.getProxyHostAndPort(conf);
    URI proxyUri=ProxyUriUtils.getUriFromAMUrl(proxy);
    URI result=ProxyUriUtils.getProxyUri(trackingUri,proxyUri,applicationAttemptId.getApplicationId());
    return result.toASCIIString().substring(HttpConfig.getSchemePrefix().length());
  }
 catch (  URISyntaxException e) {
    LOG.warn("Could not proxify " + trackingUriWithoutScheme,e);
    return trackingUriWithoutScheme;
  }
 finally {
    this.readLock.unlock();
  }
}
