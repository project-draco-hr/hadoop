{
  this.readLock.lock();
  try {
    Token<ClientToAMTokenIdentifier> token=null;
    ClientToAMTokenSecretManagerInRM secretMgr=this.rmContext.getClientToAMTokenSecretManager();
    if (client != null && secretMgr.getMasterKey(this.applicationAttemptId) != null) {
      token=new Token<ClientToAMTokenIdentifier>(new ClientToAMTokenIdentifier(this.applicationAttemptId,client),secretMgr);
    }
    return token;
  }
  finally {
    this.readLock.unlock();
  }
}
