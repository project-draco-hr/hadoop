{
  CapacitySchedulerConfiguration csConf=new CapacitySchedulerConfiguration();
  csConf.setQueues(CapacitySchedulerConfiguration.ROOT,new String[]{QUEUEA,QUEUEB,QUEUEC});
  String absoluteQueueA=CapacitySchedulerConfiguration.ROOT + "." + QUEUEA;
  String absoluteQueueB=CapacitySchedulerConfiguration.ROOT + "." + QUEUEB;
  String absoluteQueueC=CapacitySchedulerConfiguration.ROOT + "." + QUEUEC;
  csConf.setCapacity(absoluteQueueA,50f);
  csConf.setCapacity(absoluteQueueB,20f);
  csConf.setCapacity(absoluteQueueC,30f);
  csConf.setReservable(absoluteQueueA,true);
  csConf.setReservable(absoluteQueueB,true);
  csConf.setReservable(absoluteQueueC,true);
  Map<ReservationACL,AccessControlList> reservationAclsOnQueueA=new HashMap<>();
  AccessControlList submitACLonQueueA=new AccessControlList(QUEUE_A_USER);
  AccessControlList adminACLonQueueA=new AccessControlList(QUEUE_A_ADMIN);
  AccessControlList listACLonQueueA=new AccessControlList(COMMON_USER);
  reservationAclsOnQueueA.put(ReservationACL.SUBMIT_RESERVATIONS,submitACLonQueueA);
  reservationAclsOnQueueA.put(ReservationACL.ADMINISTER_RESERVATIONS,adminACLonQueueA);
  reservationAclsOnQueueA.put(ReservationACL.LIST_RESERVATIONS,listACLonQueueA);
  csConf.setReservationAcls(absoluteQueueA,reservationAclsOnQueueA);
  Map<ReservationACL,AccessControlList> reservationAclsOnQueueB=new HashMap<>();
  AccessControlList submitACLonQueueB=new AccessControlList(QUEUE_B_USER);
  AccessControlList adminACLonQueueB=new AccessControlList(QUEUE_B_ADMIN);
  AccessControlList listACLonQueueB=new AccessControlList(COMMON_USER);
  reservationAclsOnQueueB.put(ReservationACL.SUBMIT_RESERVATIONS,submitACLonQueueB);
  reservationAclsOnQueueB.put(ReservationACL.ADMINISTER_RESERVATIONS,adminACLonQueueB);
  reservationAclsOnQueueB.put(ReservationACL.LIST_RESERVATIONS,listACLonQueueB);
  csConf.setReservationAcls(absoluteQueueB,reservationAclsOnQueueB);
  csConf.setBoolean(YarnConfiguration.RM_RESERVATION_SYSTEM_ENABLE,true);
  csConf.setBoolean(YarnConfiguration.YARN_ACL_ENABLE,true);
  csConf.setBoolean(YarnConfiguration.YARN_RESERVATION_ACL_ENABLE,true);
  csConf.set("yarn.resourcemanager.scheduler.class",CapacityScheduler.class.getName());
  return csConf;
}
