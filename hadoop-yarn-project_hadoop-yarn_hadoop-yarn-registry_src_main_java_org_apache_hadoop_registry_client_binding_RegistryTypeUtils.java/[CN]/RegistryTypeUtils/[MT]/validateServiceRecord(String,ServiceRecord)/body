{
  if (record == null) {
    throw new InvalidRecordException(path,"Null record");
  }
  if (!ServiceRecord.RECORD_TYPE.equals(record.type)) {
    throw new InvalidRecordException(path,"invalid record type field: \"" + record.type + "\"");
  }
  if (record.external != null) {
    for (    Endpoint endpoint : record.external) {
      validateEndpoint(path,endpoint);
    }
  }
  if (record.internal != null) {
    for (    Endpoint endpoint : record.internal) {
      validateEndpoint(path,endpoint);
    }
  }
}
