{
  if (this.nodeResourceMap != null) {
    return;
  }
  UpdateNodeResourceRequestProtoOrBuilder p=viaProto ? proto : builder;
  List<NodeResourceMapProto> list=p.getNodeResourceMapList();
  this.nodeResourceMap=new HashMap<NodeId,ResourceOption>(list.size());
  for (  NodeResourceMapProto nodeResourceProto : list) {
    this.nodeResourceMap.put(convertFromProtoFormat(nodeResourceProto.getNodeId()),convertFromProtoFormat(nodeResourceProto.getResourceOption()));
  }
}
