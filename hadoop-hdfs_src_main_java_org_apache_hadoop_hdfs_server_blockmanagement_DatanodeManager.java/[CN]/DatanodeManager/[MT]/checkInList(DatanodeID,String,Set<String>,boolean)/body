{
  final InetAddress iaddr;
  if (ipAddress != null) {
    try {
      iaddr=InetAddress.getByName(ipAddress);
    }
 catch (    UnknownHostException e) {
      LOG.warn("Unknown ip address: " + ipAddress,e);
      return isExcludeList;
    }
  }
 else {
    try {
      iaddr=InetAddress.getByName(node.getHost());
    }
 catch (    UnknownHostException e) {
      LOG.warn("Unknown host: " + node.getHost(),e);
      return isExcludeList;
    }
  }
  if ((!isExcludeList) && (hostsList.isEmpty())) {
    return true;
  }
  return (hostsList.contains(iaddr.getHostAddress().toString())) || (hostsList.contains(iaddr.getHostAddress().toString() + ":" + node.getPort())) || (hostsList.contains(iaddr.getHostName()))|| (hostsList.contains(iaddr.getHostName() + ":" + node.getPort()))|| ((node instanceof DatanodeInfo) && hostsList.contains(((DatanodeInfo)node).getHostName()));
}
