{
  DatanodeID dnId=new DatanodeID("host","host","xyz",1,0);
  BlockKey[] keys=new BlockKey[]{getBlockKey(2),getBlockKey(3)};
  ExportedBlockKeys expKeys=new ExportedBlockKeys(true,9,10,getBlockKey(1),keys);
  DatanodeRegistration reg=new DatanodeRegistration(dnId,new StorageInfo(),expKeys);
  DatanodeRegistrationProto proto=PBHelper.convert(reg);
  DatanodeRegistration reg2=PBHelper.convert(proto);
  compare(reg.storageInfo,reg2.storageInfo);
  compare(reg.exportedKeys,reg2.exportedKeys);
  compare((DatanodeID)reg,(DatanodeID)reg2);
}
