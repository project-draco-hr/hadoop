{
  BlockWithLocations[] list=new BlockWithLocations[]{getBlockWithLocations(1),getBlockWithLocations(2)};
  BlocksWithLocations locs=new BlocksWithLocations(list);
  BlocksWithLocationsProto locsProto=PBHelper.convert(locs);
  BlocksWithLocations locs2=PBHelper.convert(locsProto);
  BlockWithLocations[] blocks=locs.getBlocks();
  BlockWithLocations[] blocks2=locs2.getBlocks();
  assertEquals(blocks.length,blocks2.length);
  for (int i=0; i < blocks.length; i++) {
    compare(blocks[i],blocks2[i]);
  }
}
