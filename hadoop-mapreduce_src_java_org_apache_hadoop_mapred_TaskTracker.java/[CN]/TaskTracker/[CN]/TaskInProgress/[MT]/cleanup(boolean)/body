{
  TaskAttemptID taskId=task.getTaskID();
  LOG.debug("Cleaning up " + taskId);
synchronized (TaskTracker.this) {
    if (needCleanup) {
      if (tasks.get(taskId) == this) {
        tasks.remove(taskId);
      }
    }
synchronized (this) {
      if (alwaysKeepTaskFiles || (taskStatus.getRunState() == TaskStatus.State.FAILED && keepFailedTaskFiles)) {
        return;
      }
    }
  }
synchronized (this) {
    if (localJobConf == null) {
      return;
    }
    try {
      removeTaskFiles(needCleanup,taskId);
    }
 catch (    Throwable ie) {
      LOG.info("Error cleaning up task runner: " + StringUtils.stringifyException(ie));
    }
  }
}
