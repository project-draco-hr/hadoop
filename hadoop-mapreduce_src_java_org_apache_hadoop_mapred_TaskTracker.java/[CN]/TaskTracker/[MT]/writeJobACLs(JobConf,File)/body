{
  File aclFile=new File(logDir,jobACLsFile);
  JobConf aclConf=new JobConf(false);
  String jobViewACL=conf.get(MRJobConfig.JOB_ACL_VIEW_JOB," ");
  aclConf.set(MRJobConfig.JOB_ACL_VIEW_JOB,jobViewACL);
  String queue=conf.getQueueName();
  aclConf.setQueueName(queue);
  String qACLName=toFullPropertyName(queue,QueueACL.ADMINISTER_JOBS.getAclName());
  String queueAdminsACL=conf.get(qACLName," ");
  aclConf.set(qACLName,queueAdminsACL);
  String jobOwner=conf.getUser();
  aclConf.set("user.name",jobOwner);
  FileOutputStream out;
  try {
    out=SecureIOUtils.createForWrite(aclFile,0600);
  }
 catch (  SecureIOUtils.AlreadyExistsException aee) {
    LOG.warn("Job ACL file already exists at " + aclFile,aee);
    return;
  }
  try {
    aclConf.writeXml(out);
  }
  finally {
    out.close();
  }
}
