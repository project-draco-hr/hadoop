{
  ErasureCodingPolicy[] sysECPolicies=ErasureCodingPolicyManager.getSystemPolicies();
  assertTrue("System ecPolicies should exist",sysECPolicies.length > 0);
  ErasureCodingPolicy usingECPolicy=sysECPolicies[0];
  String src="/ec2";
  final Path ecDir=new Path(src);
  fs.mkdir(ecDir,FsPermission.getDirDefault());
  assertNull(fs.getClient().getFileInfo(src).getErasureCodingPolicy());
  fs.getClient().setErasureCodingPolicy(src,usingECPolicy);
  verifyErasureCodingInfo(src,usingECPolicy);
  fs.create(new Path(ecDir,"child1")).close();
  verifyErasureCodingInfo(src + "/child1",usingECPolicy);
}
