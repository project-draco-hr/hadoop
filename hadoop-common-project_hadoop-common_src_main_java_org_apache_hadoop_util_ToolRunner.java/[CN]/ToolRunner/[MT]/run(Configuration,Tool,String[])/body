{
  if (CallerContext.getCurrent() == null) {
    CallerContext ctx=new CallerContext.Builder("CLI").build();
    CallerContext.setCurrent(ctx);
  }
  if (conf == null) {
    conf=new Configuration();
  }
  GenericOptionsParser parser=new GenericOptionsParser(conf,args);
  tool.setConf(conf);
  String[] toolArgs=parser.getRemainingArgs();
  return tool.run(toolArgs);
}
