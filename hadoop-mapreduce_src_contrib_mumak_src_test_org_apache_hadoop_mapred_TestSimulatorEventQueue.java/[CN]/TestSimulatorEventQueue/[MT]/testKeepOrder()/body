{
  SimulatorEventQueue queue=new SimulatorEventQueue();
  SimulatorEventListener listener=new TestListener();
  List<SimulatorEvent> listEvent=new ArrayList<SimulatorEvent>();
  int count=0;
  for (int i=0; i < random.nextInt(100); i++) {
    listEvent.clear();
    for (int j=0; j < random.nextInt(5); j++) {
      listEvent.add(new TestEventWithCount(listener,random.nextInt(10),count++));
    }
    queue.addAll(listEvent);
  }
  TestEventWithCount next;
  TestEventWithCount last=null;
  while ((next=(TestEventWithCount)queue.get()) != null) {
    if (last != null && last.getTimeStamp() == next.getTimeStamp()) {
      Assert.assertTrue(last.getCount() < next.getCount());
    }
    last=next;
  }
}
