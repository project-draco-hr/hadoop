{
  if (!enabledDump) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Do nothing, dump is disabled.");
    }
    return;
  }
  if (nonSequentialWriteInMemory.get() < DUMP_WRITE_WATER_MARK) {
    return;
  }
synchronized (this) {
    if (nonSequentialWriteInMemory.get() >= DUMP_WRITE_WATER_MARK) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Asking dumper to dump...");
      }
      if (dumpThread == null) {
        dumpThread=new Daemon(new Dumper());
        dumpThread.start();
      }
 else {
        this.notifyAll();
      }
    }
    while (nonSequentialWriteInMemory.get() >= DUMP_WRITE_WATER_MARK) {
      try {
        this.wait();
      }
 catch (      InterruptedException ignored) {
      }
    }
  }
}
