{
  QueueInfo queueInfo=recordFactory.newRecordInstance(QueueInfo.class);
  queueInfo.setQueueName(getQueueName());
  if (scheduler.getClusterResource().getMemory() == 0) {
    queueInfo.setCapacity(0.0f);
  }
 else {
    queueInfo.setCapacity((float)getFairShare().getMemory() / scheduler.getClusterResource().getMemory());
  }
  if (getFairShare().getMemory() == 0) {
    queueInfo.setCurrentCapacity(0.0f);
  }
 else {
    queueInfo.setCurrentCapacity((float)getResourceUsage().getMemory() / getFairShare().getMemory());
  }
  ArrayList<QueueInfo> childQueueInfos=new ArrayList<QueueInfo>();
  if (includeChildQueues) {
    Collection<FSQueue> childQueues=getChildQueues();
    for (    FSQueue child : childQueues) {
      childQueueInfos.add(child.getQueueInfo(recursive,recursive));
    }
  }
  queueInfo.setChildQueues(childQueueInfos);
  queueInfo.setQueueState(QueueState.RUNNING);
  return queueInfo;
}
