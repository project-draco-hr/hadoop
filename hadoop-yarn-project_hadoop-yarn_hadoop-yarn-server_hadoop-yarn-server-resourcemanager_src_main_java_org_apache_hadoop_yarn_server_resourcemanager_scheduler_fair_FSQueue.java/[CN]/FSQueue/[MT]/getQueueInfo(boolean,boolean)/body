{
  QueueInfo queueInfo=recordFactory.newRecordInstance(QueueInfo.class);
  queueInfo.setQueueName(getQueueName());
  queueInfo.setCapacity((float)getFairShare().getMemory() / scheduler.getClusterResource().getMemory());
  queueInfo.setCapacity((float)getResourceUsage().getMemory() / scheduler.getClusterResource().getMemory());
  ArrayList<QueueInfo> childQueueInfos=new ArrayList<QueueInfo>();
  if (includeChildQueues) {
    Collection<FSQueue> childQueues=getChildQueues();
    for (    FSQueue child : childQueues) {
      childQueueInfos.add(child.getQueueInfo(recursive,recursive));
    }
  }
  queueInfo.setChildQueues(childQueueInfos);
  queueInfo.setQueueState(QueueState.RUNNING);
  return queueInfo;
}
