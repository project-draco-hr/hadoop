{
  TestSetup setup=new TestSetup(new TestSuite(TestClusterStatus.class)){
    protected void setUp() throws Exception {
      Configuration conf=new Configuration();
      conf.setClass(JTConfig.JT_TASK_SCHEDULER,FakeTaskScheduler.class,TaskScheduler.class);
      mr=new MiniMRCluster(0,"file:///",1,null,null,new JobConf(conf));
      jobTracker=mr.getJobTrackerRunner().getJobTracker();
      for (      String tracker : trackers) {
        FakeObjectUtilities.establishFirstContact(jobTracker,tracker);
      }
      cluster=new Cluster(mr.createJobConf());
    }
    protected void tearDown() throws Exception {
      cluster.close();
      mr.shutdown();
    }
  }
;
  return setup;
}
