{
  super(theUri,FsConstants.VIEWFS_SCHEME,false,-1);
  creationTime=Time.now();
  ugi=UserGroupInformation.getCurrentUser();
  config=conf;
  String authority=theUri.getAuthority();
  fsState=new InodeTree<AbstractFileSystem>(conf,authority){
    @Override protected AbstractFileSystem getTargetFileSystem(    final URI uri) throws URISyntaxException, UnsupportedFileSystemException {
      String pathString=uri.getPath();
      if (pathString.isEmpty()) {
        pathString="/";
      }
      return new ChRootedFs(AbstractFileSystem.createFileSystem(uri,config),new Path(pathString));
    }
    @Override protected AbstractFileSystem getTargetFileSystem(    final INodeDir<AbstractFileSystem> dir) throws URISyntaxException {
      return new InternalDirOfViewFs(dir,creationTime,ugi,getUri());
    }
    @Override protected AbstractFileSystem getTargetFileSystem(    URI[] mergeFsURIList) throws URISyntaxException, UnsupportedFileSystemException {
      throw new UnsupportedFileSystemException("mergefs not implemented yet");
    }
  }
;
}
