{
  checkPathIsSlash(f);
  FileStatus[] result=new FileStatus[theInternalDir.children.size()];
  int i=0;
  for (  Entry<String,INode<AbstractFileSystem>> iEntry : theInternalDir.children.entrySet()) {
    INode<AbstractFileSystem> inode=iEntry.getValue();
    if (inode instanceof INodeLink) {
      INodeLink<AbstractFileSystem> link=(INodeLink<AbstractFileSystem>)inode;
      result[i++]=new FileStatus(0,false,0,0,creationTime,creationTime,PERMISSION_555,ugi.getUserName(),ugi.getGroupNames()[0],link.getTargetLink(),new Path(inode.fullPath).makeQualified(myUri,null));
    }
 else {
      result[i++]=new FileStatus(0,true,0,0,creationTime,creationTime,PERMISSION_555,ugi.getUserName(),ugi.getGroupNames()[0],new Path(inode.fullPath).makeQualified(myUri,null));
    }
  }
  return result;
}
