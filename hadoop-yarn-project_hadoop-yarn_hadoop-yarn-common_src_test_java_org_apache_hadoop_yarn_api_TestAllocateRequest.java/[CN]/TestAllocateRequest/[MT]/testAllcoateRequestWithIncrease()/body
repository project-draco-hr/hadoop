{
  List<ContainerResourceIncreaseRequest> incRequests=new ArrayList<ContainerResourceIncreaseRequest>();
  for (int i=0; i < 3; i++) {
    incRequests.add(ContainerResourceIncreaseRequest.newInstance(null,Resource.newInstance(0,i)));
  }
  AllocateRequest r=AllocateRequest.newInstance(123,0f,null,null,null,incRequests);
  AllocateRequestProto p=((AllocateRequestPBImpl)r).getProto();
  r=new AllocateRequestPBImpl(p);
  Assert.assertEquals(123,r.getResponseId());
  Assert.assertEquals(incRequests.size(),r.getIncreaseRequests().size());
  for (int i=0; i < incRequests.size(); i++) {
    Assert.assertEquals(r.getIncreaseRequests().get(i).getCapability().getVirtualCores(),incRequests.get(i).getCapability().getVirtualCores());
  }
}
