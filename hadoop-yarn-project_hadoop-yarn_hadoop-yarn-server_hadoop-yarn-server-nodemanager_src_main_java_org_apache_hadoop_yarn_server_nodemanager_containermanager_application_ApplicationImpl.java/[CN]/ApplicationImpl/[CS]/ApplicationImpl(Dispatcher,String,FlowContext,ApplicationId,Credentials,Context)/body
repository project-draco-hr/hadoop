{
  this(dispatcher,user,flowContext,appId,credentials,context,-1);
  Configuration conf=context.getConf();
  if (YarnConfiguration.timelineServiceV2Enabled(conf)) {
    if (flowContext == null) {
      throw new IllegalArgumentException("flow context cannot be null");
    }
    this.flowContext=flowContext;
    if (YarnConfiguration.systemMetricsPublisherEnabled(conf)) {
      createAndStartTimelineClient(conf);
    }
  }
}
