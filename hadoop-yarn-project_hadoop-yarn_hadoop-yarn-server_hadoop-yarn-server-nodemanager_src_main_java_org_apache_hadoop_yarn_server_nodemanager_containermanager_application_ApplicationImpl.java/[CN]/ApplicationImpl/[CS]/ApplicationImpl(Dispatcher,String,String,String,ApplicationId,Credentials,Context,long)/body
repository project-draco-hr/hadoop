{
  this.dispatcher=dispatcher;
  this.user=user;
  this.flowId=flowId;
  this.flowRunId=flowRunId;
  this.appId=appId;
  this.credentials=credentials;
  this.aclsManager=context.getApplicationACLsManager();
  this.context=context;
  this.appStateStore=context.getNMStateStore();
  ReentrantReadWriteLock lock=new ReentrantReadWriteLock();
  readLock=lock.readLock();
  writeLock=lock.writeLock();
  stateMachine=stateMachineFactory.make(this);
  setAppLogInitedTimestamp(recoveredLogInitedTime);
}
