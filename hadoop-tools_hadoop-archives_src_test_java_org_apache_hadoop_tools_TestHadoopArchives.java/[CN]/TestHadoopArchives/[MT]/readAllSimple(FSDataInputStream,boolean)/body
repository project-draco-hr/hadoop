{
  final ByteArrayOutputStream baos=new ByteArrayOutputStream();
  try {
    int b;
    while (true) {
      b=fsdis.read();
      if (b < 0) {
        break;
      }
 else {
        baos.write(b);
      }
    }
    baos.close();
    return baos.toByteArray();
  }
  finally {
    if (close) {
      fsdis.close();
    }
  }
}
