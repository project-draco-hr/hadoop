{
  StorageDirectory sd=Mockito.mock(StorageDirectory.class);
  Mockito.doReturn(type).when(sd).getStorageDirType();
  Mockito.doReturn(currentDir).when(sd).getCurrentDir();
  Mockito.doReturn(mockFile(true)).when(sd).getVersionFile();
  Mockito.doReturn(mockFile(false)).when(sd).getPreviousDir();
  return sd;
}
