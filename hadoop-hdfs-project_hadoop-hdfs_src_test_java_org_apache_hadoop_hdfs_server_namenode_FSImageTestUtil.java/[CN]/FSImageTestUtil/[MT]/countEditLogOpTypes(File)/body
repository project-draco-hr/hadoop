{
  EnumMap<FSEditLogOpCodes,Holder<Integer>> opCounts=new EnumMap<FSEditLogOpCodes,Holder<Integer>>(FSEditLogOpCodes.class);
  EditLogInputStream elis=new EditLogFileInputStream(editLog);
  try {
    FSEditLogOp op;
    while ((op=elis.readOp()) != null) {
      Holder<Integer> i=opCounts.get(op.opCode);
      if (i == null) {
        i=new Holder<Integer>(0);
        opCounts.put(op.opCode,i);
      }
      i.held++;
    }
  }
  finally {
    IOUtils.closeStream(elis);
  }
  return opCounts;
}
