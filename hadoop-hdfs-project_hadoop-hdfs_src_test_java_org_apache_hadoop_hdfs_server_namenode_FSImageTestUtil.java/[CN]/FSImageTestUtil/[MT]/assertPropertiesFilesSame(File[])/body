{
  Set<Map.Entry<Object,Object>> prevProps=null;
  for (  File f : propFiles) {
    Properties props;
    FileInputStream is=new FileInputStream(f);
    try {
      props=new Properties();
      props.load(is);
    }
  finally {
      IOUtils.closeStream(is);
    }
    if (prevProps == null) {
      prevProps=props.entrySet();
    }
 else {
      Set<Entry<Object,Object>> diff=Sets.symmetricDifference(prevProps,props.entrySet());
      if (!diff.isEmpty()) {
        fail("Properties file " + f + " differs from "+ propFiles[0]);
      }
    }
  }
}
