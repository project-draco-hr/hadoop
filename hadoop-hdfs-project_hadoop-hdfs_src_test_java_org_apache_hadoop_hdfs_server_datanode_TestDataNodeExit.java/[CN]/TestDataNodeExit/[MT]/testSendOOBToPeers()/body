{
  DataNode dn=cluster.getDataNodes().get(0);
  DataXceiverServer spyXserver=Mockito.spy(dn.getXferServer());
  NullPointerException npe=new NullPointerException();
  Mockito.doThrow(npe).when(spyXserver).sendOOBToPeers();
  dn.xserver=spyXserver;
  try {
    dn.shutdown();
  }
 catch (  Exception e) {
    fail("DataNode shutdown should not have thrown exception " + e);
  }
}
