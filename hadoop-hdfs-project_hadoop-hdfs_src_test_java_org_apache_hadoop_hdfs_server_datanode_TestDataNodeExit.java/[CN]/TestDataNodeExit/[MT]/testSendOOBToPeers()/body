{
  DataNode dn=cluster.getDataNodes().get(0);
  DataXceiverServer spyXserver=Mockito.spy(dn.getXferServer());
  NullPointerException e=new NullPointerException();
  Mockito.doThrow(e).when(spyXserver).sendOOBToPeers();
  dn.xserver=spyXserver;
  try {
    dn.shutdown();
  }
 catch (  Throwable t) {
    fail("DataNode shutdown should not have thrown exception " + t);
  }
}
