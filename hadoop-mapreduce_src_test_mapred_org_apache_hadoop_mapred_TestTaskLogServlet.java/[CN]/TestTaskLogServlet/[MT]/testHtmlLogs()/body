{
  String attemptIdStr="attempt_123_0001_m_000001_0";
  setupValidLogs(attemptIdStr);
  HttpTester request=new HttpTester();
  request.setMethod("GET");
  request.setURI("/tasklog?attemptid=" + attemptIdStr);
  request.setVersion("HTTP/1.0");
  HttpTester response=doRequest(request);
  assertEquals(HttpServletResponse.SC_OK,response.getStatus());
  assertEquals("text/html; charset=utf-8",response.getHeader("content-type"));
  assertTrue(response.getContent().contains("&lt;b&gt;this is stderr"));
  assertTrue(response.getContent().contains("&lt;b&gt;this is stdout"));
  assertTrue(response.getContent().contains("&lt;b&gt;this is syslog"));
  request.setURI("/tasklog?attemptid=" + attemptIdStr + "&start=1&end=6");
  response=doRequest(request);
  assertEquals(HttpServletResponse.SC_OK,response.getStatus());
  assertEquals("text/html; charset=utf-8",response.getHeader("content-type"));
  assertFalse(response.getContent().contains("&lt;b"));
  assertFalse(response.getContent().contains("this is"));
  assertTrue(response.getContent().contains("b&gt;thi</pre>"));
}
