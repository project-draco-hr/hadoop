{
  if (!NameNodeLayoutVersion.supports(Feature.ADD_INODE_ID,layoutVersion)) {
    if (Arrays.equals(component,FSDirectory.DOT_RESERVED)) {
      if (!renameReservedMap.containsKey(HdfsConstants.DOT_SNAPSHOT_DIR)) {
        throw new IllegalReservedPathException(RESERVED_ERROR_MSG);
      }
      final String renameString=renameReservedMap.get(FSDirectory.DOT_RESERVED_STRING);
      component=DFSUtil.string2Bytes(renameString);
      LOG.info("Renamed root path " + FSDirectory.DOT_RESERVED_STRING + " to "+ renameString);
    }
  }
  return component;
}
