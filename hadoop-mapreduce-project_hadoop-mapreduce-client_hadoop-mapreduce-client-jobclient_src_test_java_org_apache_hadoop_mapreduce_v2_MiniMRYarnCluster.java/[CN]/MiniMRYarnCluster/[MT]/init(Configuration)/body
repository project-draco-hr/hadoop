{
  conf.set(MRConfig.FRAMEWORK_NAME,"yarn");
  conf.set(MRJobConfig.USER_NAME,System.getProperty("user.name"));
  conf.set(MRJobConfig.MR_AM_STAGING_DIR,new File(getTestWorkDir(),"apps_staging_dir/${user.name}/").getAbsolutePath());
  conf.set(MRConfig.MASTER_ADDRESS,"test");
  conf.setStrings(YarnConfiguration.NM_AUX_SERVICES,new String[]{ShuffleHandler.MAPREDUCE_SHUFFLE_SERVICEID});
  conf.setClass(String.format(YarnConfiguration.NM_AUX_SERVICE_FMT,ShuffleHandler.MAPREDUCE_SHUFFLE_SERVICEID),ShuffleHandler.class,Service.class);
  conf.setInt(ShuffleHandler.SHUFFLE_PORT_CONFIG_KEY,8083);
  conf.setClass(YarnConfiguration.NM_CONTAINER_EXECUTOR,DefaultContainerExecutor.class,ContainerExecutor.class);
  conf.setBoolean(MRJobConfig.JOB_UBERTASK_ENABLE,false);
  super.init(conf);
}
