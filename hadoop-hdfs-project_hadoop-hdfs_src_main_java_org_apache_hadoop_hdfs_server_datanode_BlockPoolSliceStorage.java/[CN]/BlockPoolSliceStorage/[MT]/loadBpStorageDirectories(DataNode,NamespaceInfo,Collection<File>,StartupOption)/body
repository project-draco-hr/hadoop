{
  List<StorageDirectory> succeedDirs=Lists.newArrayList();
  try {
    for (    File dataDir : dataDirs) {
      if (containsStorageDir(dataDir)) {
        throw new IOException("BlockPoolSliceStorage.recoverTransitionRead: " + "attempt to load an used block storage: " + dataDir);
      }
      StorageDirectory sd=loadStorageDirectory(datanode,nsInfo,dataDir,startOpt);
      succeedDirs.add(sd);
    }
  }
 catch (  IOException e) {
    LOG.warn("Failed to analyze storage directories for block pool " + nsInfo.getBlockPoolID(),e);
    throw e;
  }
  return succeedDirs;
}
