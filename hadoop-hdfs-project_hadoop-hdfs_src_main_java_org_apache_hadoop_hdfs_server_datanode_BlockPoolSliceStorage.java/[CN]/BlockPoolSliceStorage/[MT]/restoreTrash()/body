{
  for (  StorageDirectory sd : storageDirs) {
    File trashRoot=getTrashRootDir(sd);
    try {
      Preconditions.checkState(!(trashRoot.exists() && sd.getPreviousDir().exists()));
      restoreBlockFilesFromTrash(trashRoot);
      FileUtil.fullyDelete(getTrashRootDir(sd));
    }
 catch (    IOException ioe) {
      LOG.warn("Restoring trash failed for storage directory " + sd);
    }
  }
}
