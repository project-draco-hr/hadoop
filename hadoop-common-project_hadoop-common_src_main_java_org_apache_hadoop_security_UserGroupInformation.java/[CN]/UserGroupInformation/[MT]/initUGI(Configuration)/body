{
  String value=conf.get(HADOOP_SECURITY_AUTHENTICATION);
  if (value == null || "simple".equals(value)) {
    useKerberos=false;
  }
 else   if ("kerberos".equals(value)) {
    useKerberos=true;
  }
 else {
    throw new IllegalArgumentException("Invalid attribute value for " + HADOOP_SECURITY_AUTHENTICATION + " of "+ value);
  }
  if (!(groups instanceof TestingGroups)) {
    groups=Groups.getUserToGroupsMappingService(conf);
  }
  isInitialized=true;
  UserGroupInformation.conf=conf;
}
