{
  doReturn(true).when(fsn).inTransitionToActive();
  bmSafeMode.activate(BLOCK_TOTAL);
  Whitebox.setInternalState(bmSafeMode,"extension",0);
  setSafeModeStatus(BMSafeModeStatus.PENDING_THRESHOLD);
  setBlockSafe(BLOCK_THRESHOLD);
  bmSafeMode.checkSafeMode();
  assertEquals(BMSafeModeStatus.PENDING_THRESHOLD,getSafeModeStatus());
}
