{
  ReservationSystemTestUtil.setupFSAllocationFile(ALLOC_FILE);
  ReservationSystemTestUtil testUtil=new ReservationSystemTestUtil();
  RMContext mockRMContext=testUtil.createRMContext(conf);
  scheduler=ReservationSystemTestUtil.setupFairScheduler(testUtil,mockRMContext,conf,10);
  FairReservationSystem reservationSystem=new FairReservationSystem();
  reservationSystem.setRMContext(mockRMContext);
  try {
    reservationSystem.reinitialize(scheduler.getConf(),mockRMContext);
  }
 catch (  YarnException e) {
    Assert.fail(e.getMessage());
  }
  ReservationSystemTestUtil.validateReservationQueue(reservationSystem,testUtil.getFullReservationQueueName());
}
