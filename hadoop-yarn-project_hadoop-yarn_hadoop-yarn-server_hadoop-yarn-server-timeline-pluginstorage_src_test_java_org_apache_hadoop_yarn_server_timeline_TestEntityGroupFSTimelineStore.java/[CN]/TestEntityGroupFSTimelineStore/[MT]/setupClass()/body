{
  config.setBoolean(YarnConfiguration.TIMELINE_SERVICE_TTL_ENABLE,false);
  config.set(YarnConfiguration.TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_SUMMARY_ENTITY_TYPES,"YARN_APPLICATION,YARN_APPLICATION_ATTEMPT,YARN_CONTAINER");
  config.set(MiniDFSCluster.HDFS_MINIDFS_BASEDIR,TEST_ROOT_DIR.toString());
  HdfsConfiguration hdfsConfig=new HdfsConfiguration();
  hdfsCluster=new MiniDFSCluster.Builder(hdfsConfig).numDataNodes(1).build();
  fs=hdfsCluster.getFileSystem();
  fc=FileContext.getFileContext(hdfsCluster.getURI(0),config);
  testAppDirPath=getTestRootPath(TEST_APPLICATION_ID.toString());
  testAttemptDirPath=new Path(testAppDirPath,TEST_ATTEMPT_DIR_NAME);
  testDoneDirPath=getTestRootPath("done");
  config.set(YarnConfiguration.TIMELINE_SERVICE_ENTITYGROUP_FS_STORE_DONE_DIR,testDoneDirPath.toString());
}
