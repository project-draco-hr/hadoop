{
  if (progress != null) {
    progress.progress();
  }
  if (progressEvent.getEventCode() == ProgressEvent.PART_STARTED_EVENT_CODE || progressEvent.getEventCode() == ProgressEvent.COMPLETED_EVENT_CODE) {
    statistics.incrementWriteOps(1);
  }
  long transferred=upload.getProgress().getBytesTransferred();
  long delta=transferred - lastBytesTransferred;
  if (statistics != null && delta != 0) {
    statistics.incrementBytesWritten(delta);
  }
  lastBytesTransferred=transferred;
}
