{
  String src=srcArg;
  if (NameNode.stateChangeLog.isDebugEnabled()) {
    NameNode.stateChangeLog.debug("DIR* NameSystem.completeFile: " + src + " for "+ holder);
  }
  checkBlock(fsn,last);
  byte[][] pathComponents=FSDirectory.getPathComponentsForReservedPath(src);
  src=fsn.dir.resolvePath(pc,src,pathComponents);
  boolean success=completeFileInternal(fsn,src,holder,ExtendedBlock.getLocalBlock(last),fileId);
  if (success) {
    NameNode.stateChangeLog.info("DIR* completeFile: " + srcArg + " is closed by "+ holder);
  }
  return success;
}
