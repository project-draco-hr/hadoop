{
  Path selfishFile=new Path("/noOneElse");
  HashMap<String,String> metadata=new HashMap<String,String>();
  metadata.put("asv_permission",getExpectedPermissionString("rw-------"));
  backingStore.setContent(AzureBlobStorageTestAccount.toMockUri(selfishFile),new byte[]{},metadata,false,0);
  FsPermission justMe=new FsPermission(FsAction.READ_WRITE,FsAction.NONE,FsAction.NONE);
  FileStatus retrievedStatus=fs.getFileStatus(selfishFile);
  assertNotNull(retrievedStatus);
  assertEquals(justMe,retrievedStatus.getPermission());
  assertEquals(getExpectedOwner(),retrievedStatus.getOwner());
  assertEquals(NativeAzureFileSystem.AZURE_DEFAULT_GROUP_DEFAULT,retrievedStatus.getGroup());
  FsPermission meAndYou=new FsPermission(FsAction.READ_WRITE,FsAction.READ_WRITE,FsAction.NONE);
  fs.setPermission(selfishFile,meAndYou);
  metadata=backingStore.getMetadata(AzureBlobStorageTestAccount.toMockUri(selfishFile));
  assertNotNull(metadata);
  String storedPermission=metadata.get("hdi_permission");
  assertEquals(getExpectedPermissionString("rw-rw----"),storedPermission);
  assertNull(metadata.get("asv_permission"));
}
