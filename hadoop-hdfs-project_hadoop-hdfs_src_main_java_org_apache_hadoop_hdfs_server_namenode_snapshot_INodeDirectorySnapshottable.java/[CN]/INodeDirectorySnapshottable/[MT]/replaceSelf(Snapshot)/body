{
  if (latest == null) {
    Preconditions.checkState(getLastSnapshot() == null,"latest == null but getLastSnapshot() != null, this=%s",this);
    replaceSelf4INodeDirectory();
  }
 else {
    replaceSelf4INodeDirectoryWithSnapshot().recordModification(latest);
  }
}
