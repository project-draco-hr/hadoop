{
  Snapshot latest=null;
  for (; inode != null; inode=inode.getParent()) {
    if (inode instanceof INodeDirectorySnapshottable) {
      final Snapshot s=((INodeDirectorySnapshottable)inode).getLastSnapshot();
      if (Snapshot.ID_COMPARATOR.compare(latest,s) < 0) {
        latest=s;
      }
    }
  }
  return latest;
}
