def ensureLogDir(logDir):
    "Verify that the passed in log directory exists, and if it doesn't\n  create it."
    if (not os.path.exists(logDir)):
        try:
            old_mask = os.umask(0)
            os.makedirs(logDir, 1023)
            os.umask(old_mask)
        except Exception as e:
            print  >> sys.stderr, ('Could not create log directories %s. Exception: %s. Stack Trace: %s' % (logDir, get_exception_error_string(), get_exception_string()))
            raise e
