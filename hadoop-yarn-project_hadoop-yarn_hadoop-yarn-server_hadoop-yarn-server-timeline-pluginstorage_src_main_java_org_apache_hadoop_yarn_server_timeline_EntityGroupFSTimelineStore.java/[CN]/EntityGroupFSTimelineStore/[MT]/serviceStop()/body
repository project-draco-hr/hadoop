{
  LOG.info("Stopping {}",getName());
  stopExecutors.set(true);
  if (executor != null) {
    executor.shutdown();
    if (executor.isTerminating()) {
      LOG.info("Waiting for executor to terminate");
      boolean terminated=executor.awaitTermination(10,TimeUnit.SECONDS);
      if (terminated) {
        LOG.info("Executor terminated");
      }
 else {
        LOG.warn("Executor did not terminate");
        executor.shutdownNow();
      }
    }
  }
synchronized (cachedLogs) {
    for (    EntityCacheItem cacheItem : cachedLogs.values()) {
      ServiceOperations.stopQuietly(cacheItem.getStore());
    }
  }
  super.serviceStop();
}
