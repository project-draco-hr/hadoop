{
  List<TimelineStore> stores=new LinkedList<TimelineStore>();
  for (  TimelineEntityGroupId groupId : groupIds) {
    TimelineStore storeForId=getCachedStore(groupId);
    if (storeForId != null) {
      LOG.debug("Adding {} as a store for the query",storeForId.getName());
      stores.add(storeForId);
      metrics.incrGetEntityToDetailOps();
    }
  }
  if (stores.size() == 0) {
    LOG.debug("Using summary store for {}",entityType);
    stores.add(this.summaryStore);
    metrics.incrGetEntityToSummaryOps();
  }
  return stores;
}
