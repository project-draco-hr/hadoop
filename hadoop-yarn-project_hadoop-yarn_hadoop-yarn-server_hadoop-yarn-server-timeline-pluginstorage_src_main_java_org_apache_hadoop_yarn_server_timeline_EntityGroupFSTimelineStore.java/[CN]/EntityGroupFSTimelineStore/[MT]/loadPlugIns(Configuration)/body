{
  Collection<String> pluginNames=conf.getTrimmedStringCollection(YarnConfiguration.TIMELINE_SERVICE_ENTITY_GROUP_PLUGIN_CLASSES);
  List<TimelineEntityGroupPlugin> pluginList=new LinkedList<TimelineEntityGroupPlugin>();
  Exception caught=null;
  for (  final String name : pluginNames) {
    LOG.debug("Trying to load plugin class {}",name);
    TimelineEntityGroupPlugin cacheIdPlugin=null;
    try {
      Class<?> clazz=conf.getClassByName(name);
      cacheIdPlugin=(TimelineEntityGroupPlugin)ReflectionUtils.newInstance(clazz,conf);
    }
 catch (    Exception e) {
      LOG.warn("Error loading plugin " + name,e);
      caught=e;
    }
    if (cacheIdPlugin == null) {
      throw new RuntimeException("No class defined for " + name,caught);
    }
    LOG.info("Load plugin class {}",cacheIdPlugin.getClass().getName());
    pluginList.add(cacheIdPlugin);
  }
  return pluginList;
}
