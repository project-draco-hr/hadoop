{
  LOG.debug("getEntityTimelines type={} ids={}",entityType,entityIds);
  TimelineEvents returnEvents=new TimelineEvents();
  for (  String entityId : entityIds) {
    LOG.debug("getEntityTimeline type={} id={}",entityType,entityId);
    List<TimelineStore> stores=getTimelineStoresForRead(entityId,entityType);
    for (    TimelineStore store : stores) {
      LOG.debug("Try timeline store {}:{} for the request",store.getName(),store.toString());
      SortedSet<String> entityIdSet=new TreeSet<>();
      entityIdSet.add(entityId);
      TimelineEvents events=store.getEntityTimelines(entityType,entityIdSet,limit,windowStart,windowEnd,eventTypes);
      returnEvents.addEvents(events.getAllEvents());
    }
  }
  return returnEvents;
}
