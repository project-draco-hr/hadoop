{
  LOG.debug("getEntities type={} primary={}",entityType,primaryFilter);
  List<EntityCacheItem> relatedCacheItems=new ArrayList<>();
  List<TimelineStore> stores=getTimelineStoresForRead(entityType,primaryFilter,secondaryFilters,relatedCacheItems);
  TimelineEntities returnEntities=new TimelineEntities();
  for (  TimelineStore store : stores) {
    LOG.debug("Try timeline store {} for the request",store.getName());
    TimelineEntities entities=store.getEntities(entityType,limit,windowStart,windowEnd,fromId,fromTs,primaryFilter,secondaryFilters,fieldsToRetrieve,checkAcl);
    if (entities != null) {
      returnEntities.addEntities(entities.getEntities());
    }
  }
  tryReleaseCacheItems(relatedCacheItems);
  return returnEntities;
}
