{
  FSLeafQueue queue=null;
  try {
    QueuePlacementPolicy policy=queueMgr.getPlacementPolicy();
    queueName=policy.assignAppToQueue(queueName,user);
    if (queueName == null) {
      return null;
    }
    queue=queueMgr.getLeafQueue(queueName,true);
  }
 catch (  IOException ex) {
    LOG.error("Error assigning app to queue, rejecting",ex);
  }
  if (rmApp != null) {
    rmApp.setQueue(queue.getName());
  }
 else {
    LOG.warn("Couldn't find RM app to set queue name on");
  }
  return queue;
}
