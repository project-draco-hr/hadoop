{
  double weight=1.0;
  if (sizeBasedWeight) {
    weight=Math.log1p(app.getDemand().getMemorySize()) / Math.log(2);
  }
  weight*=app.getPriority().getPriority();
  ResourceWeights resourceWeights=app.getResourceWeights();
  resourceWeights.setWeight((float)weight);
  return resourceWeights;
}
