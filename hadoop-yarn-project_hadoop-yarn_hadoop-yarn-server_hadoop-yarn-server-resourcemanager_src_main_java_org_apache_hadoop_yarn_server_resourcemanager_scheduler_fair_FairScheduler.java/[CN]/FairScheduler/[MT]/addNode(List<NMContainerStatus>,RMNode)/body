{
  FSSchedulerNode schedulerNode=new FSSchedulerNode(node,usePortForNodeName);
  nodes.put(node.getNodeID(),schedulerNode);
  Resources.addTo(clusterResource,node.getTotalCapability());
  updateMaximumAllocation(schedulerNode,true);
  triggerUpdate();
  queueMgr.getRootQueue().setSteadyFairShare(clusterResource);
  queueMgr.getRootQueue().recomputeSteadyShares();
  LOG.info("Added node " + node.getNodeAddress() + " cluster capacity: "+ clusterResource);
  recoverContainersOnNode(containerReports,node);
  updateRootQueueMetrics();
}
