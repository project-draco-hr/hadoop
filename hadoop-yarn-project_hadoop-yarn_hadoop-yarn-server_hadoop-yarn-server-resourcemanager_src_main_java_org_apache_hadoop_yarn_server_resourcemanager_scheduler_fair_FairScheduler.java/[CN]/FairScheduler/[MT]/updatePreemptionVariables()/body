{
  long now=getClock().getTime();
  lastPreemptionUpdateTime=now;
  for (  FSLeafQueue sched : queueMgr.getLeafQueues()) {
    if (!isStarvedForMinShare(sched)) {
      sched.setLastTimeAtMinShare(now);
    }
    if (!isStarvedForFairShare(sched)) {
      sched.setLastTimeAtHalfFairShare(now);
    }
  }
}
