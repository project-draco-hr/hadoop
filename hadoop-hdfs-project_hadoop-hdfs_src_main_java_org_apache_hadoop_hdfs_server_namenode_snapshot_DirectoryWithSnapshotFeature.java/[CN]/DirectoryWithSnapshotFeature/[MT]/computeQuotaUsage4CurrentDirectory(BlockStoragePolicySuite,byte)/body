{
  final QuotaCounts counts=new QuotaCounts.Builder().build();
  for (  DirectoryDiff d : diffs) {
    for (    INode deleted : d.getChildrenDiff().getList(ListType.DELETED)) {
      final byte childPolicyId=deleted.getStoragePolicyIDForQuota(storagePolicyId);
      counts.add(deleted.computeQuotaUsage(bsps,childPolicyId,false,Snapshot.CURRENT_STATE_ID));
    }
  }
  return counts;
}
