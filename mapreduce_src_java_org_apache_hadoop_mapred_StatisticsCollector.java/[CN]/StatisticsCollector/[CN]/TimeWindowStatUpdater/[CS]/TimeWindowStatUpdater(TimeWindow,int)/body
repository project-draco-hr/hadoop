{
  if (updatePeriod > w.updateGranularity) {
    throw new RuntimeException("Invalid conf: updatePeriod > updateGranularity");
  }
  collectBuckets=w.windowSize / w.updateGranularity;
  updatesPerBucket=w.updateGranularity / updatePeriod;
}
