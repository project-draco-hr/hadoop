{
  updates++;
  if (updates == updatesPerBucket) {
    for (    TimeStat stat : statToCollect.values()) {
      stat.addBucket();
    }
    updates=0;
    buckets++;
    if (buckets > collectBuckets) {
      for (      TimeStat stat : statToCollect.values()) {
        stat.removeBucket();
      }
      buckets--;
    }
  }
}
