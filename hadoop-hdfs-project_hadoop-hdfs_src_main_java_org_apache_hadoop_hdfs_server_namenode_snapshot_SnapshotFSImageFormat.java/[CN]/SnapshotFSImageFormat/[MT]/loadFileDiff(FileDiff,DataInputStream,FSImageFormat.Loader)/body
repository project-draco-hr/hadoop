{
  Snapshot snapshot=findSnapshot(FSImageSerialization.readString(in),loader.getFSDirectoryInLoading());
  final long fileSize=in.readLong();
  final INodeFile snapshotINode=in.readBoolean() ? loader.loadINodeWithLocalName(true,in).asFile() : null;
  return new FileDiff(snapshot,snapshotINode,posterior,fileSize);
}
