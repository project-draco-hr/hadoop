{
  Snapshot snapshot=findSnapshot(FSImageSerialization.readString(in),loader.getFSDirectoryInLoading());
  final long fileSize=in.readLong();
  final INodeFile snapshotINode=in.readBoolean() ? (INodeFile)loader.loadINodeWithLocalName(true,in) : null;
  return new FileDiff(snapshot,snapshotINode,posterior,fileSize);
}
