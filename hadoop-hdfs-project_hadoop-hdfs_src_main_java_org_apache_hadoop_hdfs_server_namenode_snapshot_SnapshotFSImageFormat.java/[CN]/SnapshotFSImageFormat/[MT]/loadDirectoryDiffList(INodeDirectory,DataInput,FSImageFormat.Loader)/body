{
  final int size=in.readInt();
  if (size != -1) {
    INodeDirectoryWithSnapshot withSnapshot=(INodeDirectoryWithSnapshot)dir;
    DirectoryDiffList diffs=withSnapshot.getDiffs();
    for (int i=0; i < size; i++) {
      diffs.addFirst(loadDirectoryDiff(withSnapshot,in,loader));
    }
  }
}
