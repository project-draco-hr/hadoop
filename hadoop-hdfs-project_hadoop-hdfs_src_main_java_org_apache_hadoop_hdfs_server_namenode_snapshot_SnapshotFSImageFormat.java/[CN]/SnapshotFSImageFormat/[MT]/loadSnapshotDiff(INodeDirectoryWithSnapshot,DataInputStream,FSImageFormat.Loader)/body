{
  int childrenSize=in.readInt();
  Snapshot snapshot=findSnapshot(FSImageSerialization.readString(in),loader.getFSDirectoryInLoading());
  INodeDirectory snapshotINode=loadSnapshotINodeInSnapshotDiff(snapshot,in,loader);
  List<INode> createdList=loadCreatedList(parent,in);
  List<INode> deletedList=loadDeletedList(parent,createdList,in,loader);
  SnapshotDiff sdiff=parent.new SnapshotDiff(snapshot,childrenSize,snapshotINode,parent.getSnapshotDiffs().isEmpty() ? null : parent.getSnapshotDiffs().get(0),createdList,deletedList);
  return sdiff;
}
