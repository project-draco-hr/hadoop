{
  final Snapshot snapshot=loader.getSnapshot(in);
  final long fileSize=in.readLong();
  final INodeFile snapshotINode=in.readBoolean() ? loader.loadINodeWithLocalName(true,in,false).asFile() : null;
  return new FileDiff(snapshot,snapshotINode,posterior,fileSize);
}
