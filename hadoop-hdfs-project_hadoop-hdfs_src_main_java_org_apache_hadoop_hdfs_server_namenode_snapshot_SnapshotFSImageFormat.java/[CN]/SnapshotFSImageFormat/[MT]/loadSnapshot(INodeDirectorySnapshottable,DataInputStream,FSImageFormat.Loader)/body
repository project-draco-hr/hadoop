{
  int snapshotId=in.readInt();
  byte[] snapshotName=new byte[in.readShort()];
  in.readFully(snapshotName);
  INode rootNode=loader.loadINode(in);
  rootNode.setLocalName(snapshotName);
  rootNode.setParent(parent);
  return new Snapshot(snapshotId,(INodeDirectory)rootNode);
}
