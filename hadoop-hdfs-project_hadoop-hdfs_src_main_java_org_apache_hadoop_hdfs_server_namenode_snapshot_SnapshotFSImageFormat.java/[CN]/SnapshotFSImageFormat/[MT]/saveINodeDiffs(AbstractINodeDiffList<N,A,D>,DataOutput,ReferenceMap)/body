{
  if (diffs == null) {
    out.writeInt(-1);
  }
 else {
    final List<D> list=diffs.asList();
    final int size=list.size();
    out.writeInt(size);
    for (int i=size - 1; i >= 0; i--) {
      list.get(i).write(out,referenceMap);
    }
  }
}
