{
  final String METHOD_NAME=GenericTestUtils.getMethodName();
  Path path1=new Path("/" + METHOD_NAME + ".01.dat");
  makeTestFile(path1,BLOCK_SIZE,true);
  ensureFileReplicasOnStorageType(path1,RAM_DISK);
  waitForMetric("RamDiskBlocksLazyPersisted",1);
  triggerEviction(cluster.getDataNodes().get(0));
  ensureFileReplicasOnStorageType(path1,DEFAULT);
  File metaFile=cluster.getBlockMetadataFile(0,DFSTestUtil.getFirstBlock(fs,path1));
  MiniDFSCluster.corruptBlock(metaFile);
  exception.expect(ChecksumException.class);
  DFSTestUtil.readFileBuffer(fs,path1);
}
