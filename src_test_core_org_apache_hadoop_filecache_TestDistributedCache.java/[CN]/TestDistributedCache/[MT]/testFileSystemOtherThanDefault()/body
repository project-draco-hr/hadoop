{
  Configuration conf=new Configuration();
  conf.set("fs.fakefile.impl",conf.get("fs.file.impl"));
  Path fileToCache=new Path("fakefile:///" + firstCacheFile.toUri().getPath());
  Path result=DistributedCache.getLocalCache(fileToCache.toUri(),conf,new Path(TEST_CACHE_BASE_DIR),false,System.currentTimeMillis(),new Path(TEST_ROOT_DIR));
  assertNotNull("DistributedCache cached file on non-default filesystem.",result);
}
