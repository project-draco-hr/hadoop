def wait_for_instances(self, instance_ids, timeout=600):
    start_time = time.time()
    while True:
        if ((time.time() - start_time) >= timeout):
            raise TimeoutException()
        try:
            if self._all_started(self.ec2Connection.get_all_instances(instance_ids)):
                break
        except EC2ResponseError:
            pass
        sys.stdout.write('.')
        sys.stdout.flush()
        time.sleep(1)
