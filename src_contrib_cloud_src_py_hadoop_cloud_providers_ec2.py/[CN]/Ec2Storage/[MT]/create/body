def create(self, role, number_of_instances, availability_zone, spec_filename):
    spec_file = open(spec_filename, 'r')
    volume_spec_manager = JsonVolumeSpecManager(spec_file)
    volume_manager = JsonVolumeManager(self._get_storage_filename())
    for dummy in range(number_of_instances):
        mountable_volumes = []
        volume_specs = volume_spec_manager.volume_specs_for_role(role)
        for spec in volume_specs:
            logger.info(('Creating volume of size %s in %s from snapshot %s' % (spec.size, availability_zone, spec.snapshot_id)))
            volume = self.cluster.ec2Connection.create_volume(spec.size, availability_zone, spec.snapshot_id)
            mountable_volumes.append(MountableVolume(volume.id, spec.mount_point, spec.device))
        volume_manager.add_instance_storage_for_role(role, mountable_volumes)
