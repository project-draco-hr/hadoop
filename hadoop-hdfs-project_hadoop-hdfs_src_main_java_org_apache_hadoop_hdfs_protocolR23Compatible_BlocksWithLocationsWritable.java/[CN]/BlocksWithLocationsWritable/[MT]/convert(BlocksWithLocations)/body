{
  BlockWithLocations[] blocks=locs.getBlocks();
  BlockWithLocationsWritable[] blocksWritable=new BlockWithLocationsWritable[blocks.length];
  for (int i=0; i < blocks.length; i++) {
    blocksWritable[i]=new BlockWithLocationsWritable(BlockWritable.convert(blocks[i].getBlock()),blocks[i].getDatanodes());
  }
  return new BlocksWithLocationsWritable(blocksWritable);
}
