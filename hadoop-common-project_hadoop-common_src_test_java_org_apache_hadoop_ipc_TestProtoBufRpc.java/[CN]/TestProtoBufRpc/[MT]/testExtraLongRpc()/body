{
  TestRpcService2 client=getClient2();
  final String shortString=StringUtils.repeat("X",4);
  EchoRequestProto echoRequest=EchoRequestProto.newBuilder().setMessage(shortString).build();
  EchoResponseProto echoResponse=client.echo2(null,echoRequest);
  Assert.assertEquals(shortString,echoResponse.getMessage());
  final String longString=StringUtils.repeat("X",4096);
  echoRequest=EchoRequestProto.newBuilder().setMessage(longString).build();
  try {
    echoResponse=client.echo2(null,echoRequest);
    Assert.fail("expected extra-long RPC to fail");
  }
 catch (  ServiceException se) {
  }
}
