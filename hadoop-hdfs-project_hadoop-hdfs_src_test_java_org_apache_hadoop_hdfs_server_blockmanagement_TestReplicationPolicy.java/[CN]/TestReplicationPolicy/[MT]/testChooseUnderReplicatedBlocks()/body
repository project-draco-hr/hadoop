{
  UnderReplicatedBlocks underReplicatedBlocks=new UnderReplicatedBlocks();
  for (int i=0; i < 5; i++) {
    underReplicatedBlocks.add(genBlockInfo(ThreadLocalRandom.current().nextLong()),1,0,3);
    underReplicatedBlocks.add(genBlockInfo(ThreadLocalRandom.current().nextLong()),2,0,7);
    underReplicatedBlocks.add(genBlockInfo(ThreadLocalRandom.current().nextLong()),6,0,6);
    underReplicatedBlocks.add(genBlockInfo(ThreadLocalRandom.current().nextLong()),5,0,6);
    underReplicatedBlocks.add(genBlockInfo(ThreadLocalRandom.current().nextLong()),0,0,3);
  }
  List<List<BlockInfo>> chosenBlocks=underReplicatedBlocks.chooseUnderReplicatedBlocks(6);
  assertTheChosenBlocks(chosenBlocks,5,1,0,0,0);
  chosenBlocks=underReplicatedBlocks.chooseUnderReplicatedBlocks(10);
  assertTheChosenBlocks(chosenBlocks,0,4,5,1,0);
  underReplicatedBlocks.add(genBlockInfo(ThreadLocalRandom.current().nextLong()),1,0,3);
  chosenBlocks=underReplicatedBlocks.chooseUnderReplicatedBlocks(10);
  assertTheChosenBlocks(chosenBlocks,1,0,0,4,5);
  chosenBlocks=underReplicatedBlocks.chooseUnderReplicatedBlocks(7);
  assertTheChosenBlocks(chosenBlocks,6,1,0,0,0);
}
