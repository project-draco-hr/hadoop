{
  DatanodeDescriptor writer=dataNodes[2];
  EnumSet<AddBlockFlag> flags=EnumSet.of(AddBlockFlag.NO_LOCAL_WRITE);
  DatanodeStorageInfo[] targets;
  targets=chooseTarget(5,writer,null,null,flags);
  for (  DatanodeStorageInfo info : targets) {
    assertNotEquals(info.getDatanodeDescriptor(),writer);
  }
}
