{
  InstrumentationService.VariableHolder<String> variableHolder=new InstrumentationService.VariableHolder<String>();
  variableHolder.var=new Instrumentation.Variable<String>(){
    @Override public String getValue(){
      return "foo";
    }
  }
;
  JSONObject json=(JSONObject)new JSONParser().parse(variableHolder.toJSONString());
  Assert.assertEquals(json.size(),1);
  Assert.assertEquals(json.get("value"),"foo");
  StringWriter writer=new StringWriter();
  variableHolder.writeJSONString(writer);
  writer.close();
  json=(JSONObject)new JSONParser().parse(writer.toString());
  Assert.assertEquals(json.size(),1);
  Assert.assertEquals(json.get("value"),"foo");
}
