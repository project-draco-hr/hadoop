{
  ApplicationId applicationId=request.getApplicationId();
  ApplicationReport application=recordFactory.newRecordInstance(ApplicationReport.class);
  application.setApplicationId(applicationId);
  if (amRunning) {
    application.setState(ApplicationState.RUNNING);
  }
 else   if (amRestarting) {
    application.setState(ApplicationState.SUBMITTED);
  }
 else {
    application.setState(ApplicationState.SUCCEEDED);
  }
  String[] split=AMHOSTADDRESS.split(":");
  application.setHost(split[0]);
  application.setRpcPort(Integer.parseInt(split[1]));
  GetApplicationReportResponse response=recordFactory.newRecordInstance(GetApplicationReportResponse.class);
  response.setApplicationReport(application);
  return response;
}
