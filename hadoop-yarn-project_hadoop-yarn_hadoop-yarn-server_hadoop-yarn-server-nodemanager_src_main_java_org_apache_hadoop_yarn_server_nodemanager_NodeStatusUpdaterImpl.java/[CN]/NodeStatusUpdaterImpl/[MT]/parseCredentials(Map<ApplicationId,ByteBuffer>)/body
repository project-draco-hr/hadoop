{
  Map<ApplicationId,Credentials> map=new HashMap<ApplicationId,Credentials>();
  for (  Map.Entry<ApplicationId,ByteBuffer> entry : systemCredentials.entrySet()) {
    Credentials credentials=new Credentials();
    DataInputByteBuffer buf=new DataInputByteBuffer();
    ByteBuffer buffer=entry.getValue();
    buffer.rewind();
    buf.reset(buffer);
    credentials.readTokenStorageStream(buf);
    map.put(entry.getKey(),credentials);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Retrieved credentials form RM: " + map);
  }
  return map;
}
