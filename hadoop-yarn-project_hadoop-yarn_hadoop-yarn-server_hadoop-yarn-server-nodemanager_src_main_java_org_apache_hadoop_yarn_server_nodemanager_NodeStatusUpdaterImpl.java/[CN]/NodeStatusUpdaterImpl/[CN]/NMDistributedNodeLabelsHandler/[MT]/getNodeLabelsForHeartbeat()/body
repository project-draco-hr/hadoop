{
  Set<NodeLabel> nodeLabelsForHeartbeat=nodeLabelsProvider.getNodeLabels();
  nodeLabelsForHeartbeat=(nodeLabelsForHeartbeat == null) ? CommonNodeLabelsManager.EMPTY_NODELABEL_SET : nodeLabelsForHeartbeat;
  boolean areNodeLabelsUpdated=nodeLabelsForHeartbeat.size() != previousNodeLabels.size() || !previousNodeLabels.containsAll(nodeLabelsForHeartbeat);
  updatedLabelsSentToRM=false;
  if (areNodeLabelsUpdated) {
    previousNodeLabels=nodeLabelsForHeartbeat;
    try {
      validateNodeLabels(nodeLabelsForHeartbeat);
      updatedLabelsSentToRM=true;
    }
 catch (    IOException e) {
      nodeLabelsForHeartbeat=null;
    }
  }
 else {
    nodeLabelsForHeartbeat=null;
  }
  return nodeLabelsForHeartbeat;
}
