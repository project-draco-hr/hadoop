{
  conf=new Configuration();
  conf.unset(Constants.PROXY_HOST);
  conf.setInt(Constants.MAX_ERROR_RETRIES,2);
  conf.setInt(Constants.PROXY_PORT,1);
  try {
    fs=S3ATestUtils.createTestFileSystem(conf);
    fail("Expected a proxy configuration error");
  }
 catch (  IllegalArgumentException e) {
    String msg=e.toString();
    if (!msg.contains(Constants.PROXY_HOST) && !msg.contains(Constants.PROXY_PORT)) {
      throw e;
    }
  }
}
