{
  if ((isRole(NamenodeRole.NAMENODE)) && (UserGroupInformation.isSecurityEnabled())) {
    namesystem.activateSecretManager();
  }
  namesystem.activate(conf);
  startHttpServer(conf);
  server.start();
  if (serviceRpcServer != null) {
    serviceRpcServer.start();
  }
  startTrashEmptier(conf);
  plugins=conf.getInstances(DFS_NAMENODE_PLUGINS_KEY,ServicePlugin.class);
  for (  ServicePlugin p : plugins) {
    try {
      p.start(this);
    }
 catch (    Throwable t) {
      LOG.warn("ServicePlugin " + p + " could not be started",t);
    }
  }
  LOG.info(getRole() + " up at: " + rpcAddress);
  if (serviceRPCAddress != null) {
    LOG.info(getRole() + " service server is up at: " + serviceRPCAddress);
  }
}
