{
  if ((isRole(NamenodeRole.ACTIVE)) && (UserGroupInformation.isSecurityEnabled())) {
    namesystem.activateSecretManager();
  }
  namesystem.activate(conf);
  startHttpServer(conf);
  server.start();
  if (serviceRpcServer != null) {
    serviceRpcServer.start();
  }
  startTrashEmptier(conf);
  plugins=conf.getInstances("dfs.namenode.plugins",ServicePlugin.class);
  for (  ServicePlugin p : plugins) {
    try {
      p.start(this);
    }
 catch (    Throwable t) {
      LOG.warn("ServicePlugin " + p + " could not be started",t);
    }
  }
}
