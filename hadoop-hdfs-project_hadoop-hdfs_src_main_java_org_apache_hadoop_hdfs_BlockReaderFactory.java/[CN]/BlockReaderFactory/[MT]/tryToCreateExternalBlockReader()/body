{
  List<Class<? extends ReplicaAccessorBuilder>> clses=conf.getReplicaAccessorBuilderClasses();
  for (  Class<? extends ReplicaAccessorBuilder> cls : clses) {
    try {
      ByteArrayDataOutput bado=ByteStreams.newDataOutput();
      token.write(bado);
      byte tokenBytes[]=bado.toByteArray();
      Constructor<? extends ReplicaAccessorBuilder> ctor=cls.getConstructor();
      ReplicaAccessorBuilder builder=ctor.newInstance();
      ReplicaAccessor accessor=builder.setAllowShortCircuitReads(allowShortCircuitLocalReads).setBlock(block.getBlockId(),block.getBlockPoolId()).setGenerationStamp(block.getGenerationStamp()).setBlockAccessToken(tokenBytes).setClientName(clientName).setConfiguration(configuration).setFileName(fileName).setVerifyChecksum(verifyChecksum).setVisibleLength(length).build();
      if (accessor == null) {
        if (LOG.isTraceEnabled()) {
          LOG.trace(this + ": No ReplicaAccessor created by " + cls.getName());
        }
      }
 else {
        return new ExternalBlockReader(accessor,length,startOffset);
      }
    }
 catch (    Throwable t) {
      LOG.warn("Failed to construct new object of type " + cls.getName(),t);
    }
  }
  return null;
}
