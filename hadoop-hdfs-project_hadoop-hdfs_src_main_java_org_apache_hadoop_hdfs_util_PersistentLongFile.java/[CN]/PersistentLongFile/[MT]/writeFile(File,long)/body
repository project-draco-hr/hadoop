{
  AtomicFileOutputStream fos=new AtomicFileOutputStream(file);
  try {
    fos.write(String.valueOf(val).getBytes());
    fos.write('\n');
    fos.close();
    fos=null;
  }
  finally {
    if (fos != null) {
      fos.abort();
    }
  }
}
