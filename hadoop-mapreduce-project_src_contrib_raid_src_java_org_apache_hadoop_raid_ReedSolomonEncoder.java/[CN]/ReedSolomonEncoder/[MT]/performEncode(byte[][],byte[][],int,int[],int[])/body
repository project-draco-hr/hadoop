{
  for (int i=0; i < paritySize; i++) {
    code[i]=0;
  }
  for (int i=0; i < stripeSize; i++) {
    data[i]=readBufs[i][idx] & 0x000000FF;
  }
  reedSolomonCode.encode(data,code);
  for (int i=0; i < paritySize; i++) {
    writeBufs[i][idx]=(byte)code[i];
  }
}
