{
  Configuration conf=ViewFileSystemTestSetup.createConfig();
  FileSystem mockFs1=setupMockFileSystem(conf,new URI("mockfs1:/"));
  FileSystem mockFs2=setupMockFileSystem(conf,new URI("mockfs2:/"));
  FileSystem viewFs=FileSystem.get(FsConstants.VIEWFS_URI,conf);
  Path viewFsPath1=new Path("/mounts/mockfs1/a/b/c");
  Path mockFsPath1=new Path("/a/b/c");
  Path viewFsPath2=new Path("/mounts/mockfs2/d/e/f");
  Path mockFsPath2=new Path("/d/e/f");
  List<AclEntry> entries=Collections.emptyList();
  EnumSet<AclWriteFlag> writeFlags=EnumSet.noneOf(AclWriteFlag.class);
  EnumSet<AclReadFlag> readFlags=EnumSet.noneOf(AclReadFlag.class);
  viewFs.modifyAclEntries(viewFsPath1,entries,writeFlags);
  verify(mockFs1).modifyAclEntries(mockFsPath1,entries,writeFlags);
  viewFs.modifyAclEntries(viewFsPath2,entries,writeFlags);
  verify(mockFs2).modifyAclEntries(mockFsPath2,entries,writeFlags);
  viewFs.removeAclEntries(viewFsPath1,entries,writeFlags);
  verify(mockFs1).removeAclEntries(mockFsPath1,entries,writeFlags);
  viewFs.removeAclEntries(viewFsPath2,entries,writeFlags);
  verify(mockFs2).removeAclEntries(mockFsPath2,entries,writeFlags);
  viewFs.removeDefaultAcl(viewFsPath1,writeFlags);
  verify(mockFs1).removeDefaultAcl(mockFsPath1,writeFlags);
  viewFs.removeDefaultAcl(viewFsPath2,writeFlags);
  verify(mockFs2).removeDefaultAcl(mockFsPath2,writeFlags);
  viewFs.removeAcl(viewFsPath1,writeFlags);
  verify(mockFs1).removeAcl(mockFsPath1,writeFlags);
  viewFs.removeAcl(viewFsPath2,writeFlags);
  verify(mockFs2).removeAcl(mockFsPath2,writeFlags);
  viewFs.setAcl(viewFsPath1,entries,writeFlags);
  verify(mockFs1).setAcl(mockFsPath1,entries,writeFlags);
  viewFs.setAcl(viewFsPath2,entries,writeFlags);
  verify(mockFs2).setAcl(mockFsPath2,entries,writeFlags);
  viewFs.listAclStatus(viewFsPath1,readFlags);
  verify(mockFs1).listAclStatus(mockFsPath1,readFlags);
  viewFs.listAclStatus(viewFsPath2,readFlags);
  verify(mockFs2).listAclStatus(mockFsPath2,readFlags);
}
