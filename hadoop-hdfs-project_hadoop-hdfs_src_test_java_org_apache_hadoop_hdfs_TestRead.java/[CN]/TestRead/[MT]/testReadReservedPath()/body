{
  Configuration conf=new Configuration();
  MiniDFSCluster cluster=new MiniDFSCluster.Builder(conf).numDataNodes(1).format(true).build();
  try {
    FileSystem fs=cluster.getFileSystem();
    fs.open(new Path("/.reserved/.inodes/file"));
    Assert.fail("Open a non existing file should fail.");
  }
 catch (  FileNotFoundException e) {
  }
 finally {
    cluster.shutdown();
  }
}
