{
  FSImageTransactionalStorageInspector inspector=new FSImageTransactionalStorageInspector();
  inspector.inspectDirectory(mockDirectoryWithEditLogs("/foo1/current/" + getFinalizedEditsFileName(123,456)));
  inspector.inspectDirectory(mockDirectoryWithEditLogs("/foo2/current/" + getFinalizedEditsFileName(123,456)));
  inspector.inspectDirectory(mockDirectoryWithEditLogs("/foo3/current/" + getFinalizedEditsFileName(123,456)));
  LogGroup lg=inspector.logGroups.get(123L);
  assertEquals(3,lg.logs.size());
  lg.planRecovery();
  assertFalse(lg.logs.get(0).isCorrupt());
  assertFalse(lg.logs.get(1).isCorrupt());
  assertFalse(lg.logs.get(2).isCorrupt());
}
