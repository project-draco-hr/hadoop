{
  DFSPacket p=new DFSPacket(null,maxChunksPerPacket,0,0,checksumSize,false);
  SpanId parents[]=p.getTraceParents();
  Assert.assertEquals(0,parents.length);
  p.addTraceParent(new SpanId(0,123));
  p.addTraceParent(new SpanId(0,123));
  parents=p.getTraceParents();
  Assert.assertEquals(1,parents.length);
  Assert.assertEquals(new SpanId(0,123),parents[0]);
  parents=p.getTraceParents();
  Assert.assertEquals(1,parents.length);
  Assert.assertEquals(new SpanId(0,123),parents[0]);
  p.addTraceParent(new SpanId(0,1));
  p.addTraceParent(new SpanId(0,456));
  p.addTraceParent(new SpanId(0,789));
  parents=p.getTraceParents();
  Assert.assertEquals(4,parents.length);
  Assert.assertEquals(new SpanId(0,1),parents[0]);
  Assert.assertEquals(new SpanId(0,123),parents[1]);
  Assert.assertEquals(new SpanId(0,456),parents[2]);
  Assert.assertEquals(new SpanId(0,789),parents[3]);
}
