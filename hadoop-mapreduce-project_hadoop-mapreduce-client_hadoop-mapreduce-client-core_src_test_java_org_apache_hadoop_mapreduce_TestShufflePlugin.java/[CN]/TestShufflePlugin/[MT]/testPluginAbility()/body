{
  try {
    JobConf jobConf=new JobConf();
    jobConf.setClass(MRConfig.SHUFFLE_CONSUMER_PLUGIN,TestShufflePlugin.TestShuffleConsumerPlugin.class,ShuffleConsumerPlugin.class);
    ShuffleConsumerPlugin shuffleConsumerPlugin=null;
    Class<? extends ShuffleConsumerPlugin> clazz=jobConf.getClass(MRConfig.SHUFFLE_CONSUMER_PLUGIN,Shuffle.class,ShuffleConsumerPlugin.class);
    assertNotNull("Unable to get " + MRConfig.SHUFFLE_CONSUMER_PLUGIN,clazz);
    shuffleConsumerPlugin=ReflectionUtils.newInstance(clazz,jobConf);
    assertNotNull("Unable to load " + MRConfig.SHUFFLE_CONSUMER_PLUGIN,shuffleConsumerPlugin);
  }
 catch (  Exception e) {
    assertTrue("Threw exception:" + e,false);
  }
}
