{
  RMContainer container=createRMContainer(ContainerId.newInstance(ApplicationAttemptId.newInstance(ApplicationId.newInstance(0,1),1),1));
  writer.containerStarted(container);
  ContainerHistoryData containerHD=null;
  for (int i=0; i < MAX_RETRIES; ++i) {
    containerHD=store.getContainer(ContainerId.newInstance(ApplicationAttemptId.newInstance(ApplicationId.newInstance(0,1),1),1));
    if (containerHD != null) {
      break;
    }
 else {
      Thread.sleep(100);
    }
  }
  Assert.assertNotNull(containerHD);
  Assert.assertEquals(NodeId.newInstance("test host",-100),containerHD.getAssignedNode());
  Assert.assertEquals(Resource.newInstance(-1,-1),containerHD.getAllocatedResource());
  Assert.assertEquals(Priority.UNDEFINED,containerHD.getPriority());
  Assert.assertEquals(0L,container.getStartTime());
  writer.containerFinished(container);
  for (int i=0; i < MAX_RETRIES; ++i) {
    containerHD=store.getContainer(ContainerId.newInstance(ApplicationAttemptId.newInstance(ApplicationId.newInstance(0,1),1),1));
    if (containerHD.getContainerState() != null) {
      break;
    }
 else {
      Thread.sleep(100);
    }
  }
  Assert.assertEquals("test diagnostics info",containerHD.getDiagnosticsInfo());
  Assert.assertEquals(-1,containerHD.getContainerExitStatus());
  Assert.assertEquals(ContainerState.COMPLETE,containerHD.getContainerState());
}
