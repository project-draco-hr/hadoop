{
  this.enclosedPeer=enclosedPeer;
  IOStreamPair ios=DataTransferEncryptor.getEncryptedStreams(enclosedPeer.getOutputStream(),enclosedPeer.getInputStream(),key);
  this.in=ios.in;
  this.out=ios.out;
  this.channel=ios.in instanceof ReadableByteChannel ? (ReadableByteChannel)ios.in : null;
}
