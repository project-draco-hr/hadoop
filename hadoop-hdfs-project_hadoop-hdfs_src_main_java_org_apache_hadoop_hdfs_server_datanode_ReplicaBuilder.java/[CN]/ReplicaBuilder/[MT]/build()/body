{
  ReplicaInfo info=null;
switch (this.state) {
case FINALIZED:
    info=buildFinalizedReplica();
  break;
case RWR:
info=buildRWR();
break;
case RUR:
info=buildRUR();
break;
case RBW:
case TEMPORARY:
info=buildLocalReplicaInPipeline();
break;
default :
throw new IllegalArgumentException("Unknown replica state " + state);
}
return info;
}
