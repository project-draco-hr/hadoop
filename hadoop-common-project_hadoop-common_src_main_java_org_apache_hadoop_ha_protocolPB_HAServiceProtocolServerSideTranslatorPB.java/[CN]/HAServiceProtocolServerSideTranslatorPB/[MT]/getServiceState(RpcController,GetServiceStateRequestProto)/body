{
  HAServiceState s;
  try {
    s=server.getServiceState();
  }
 catch (  IOException e) {
    throw new ServiceException(e);
  }
  HAServiceStateProto ret;
switch (s) {
case ACTIVE:
    ret=HAServiceStateProto.ACTIVE;
  break;
case STANDBY:
ret=HAServiceStateProto.STANDBY;
break;
case INITIALIZING:
default :
ret=HAServiceStateProto.INITIALIZING;
break;
}
return GetServiceStateResponseProto.newBuilder().setState(ret).build();
}
