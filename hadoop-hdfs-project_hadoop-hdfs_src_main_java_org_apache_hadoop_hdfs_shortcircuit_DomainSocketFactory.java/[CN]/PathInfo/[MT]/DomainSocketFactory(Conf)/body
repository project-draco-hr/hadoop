{
  final String feature;
  if (conf.isShortCircuitLocalReads() && (!conf.isUseLegacyBlockReaderLocal())) {
    feature="The short-circuit local reads feature";
  }
 else   if (conf.isDomainSocketDataTraffic()) {
    feature="UNIX domain socket data traffic";
  }
 else {
    feature=null;
  }
  if (feature == null) {
    LOG.debug("Both short-circuit local reads and UNIX domain socket are disabled.");
  }
 else {
    if (conf.getDomainSocketPath().isEmpty()) {
      throw new HadoopIllegalArgumentException(feature + " is enabled but " + DFSConfigKeys.DFS_DOMAIN_SOCKET_PATH_KEY+ " is not set.");
    }
 else     if (DomainSocket.getLoadingFailureReason() != null) {
      LOG.warn(feature + " cannot be used because " + DomainSocket.getLoadingFailureReason());
    }
 else {
      LOG.debug(feature + " is enabled.");
    }
  }
}
