{
  int oldNumFailures=numFailures;
  ListIterator<String> it=localDirs.listIterator();
  while (it.hasNext()) {
    final String dir=it.next();
    try {
      DiskChecker.checkDir(new File(dir));
    }
 catch (    DiskErrorException de) {
      LOG.warn("Directory " + dir + " error "+ de.getMessage()+ ", removing from the list of valid directories.");
      it.remove();
      failedDirs.add(dir);
      numFailures++;
    }
  }
  if (numFailures > oldNumFailures) {
    return true;
  }
  return false;
}
