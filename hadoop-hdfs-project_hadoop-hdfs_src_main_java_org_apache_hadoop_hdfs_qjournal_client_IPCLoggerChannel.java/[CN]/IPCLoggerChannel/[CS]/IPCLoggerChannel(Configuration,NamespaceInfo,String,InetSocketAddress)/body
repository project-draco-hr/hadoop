{
  this.conf=conf;
  this.nsInfo=nsInfo;
  this.journalId=journalId;
  this.addr=addr;
  this.queueSizeLimitBytes=1024 * 1024 * conf.getInt(DFSConfigKeys.DFS_QJOURNAL_QUEUE_SIZE_LIMIT_KEY,DFSConfigKeys.DFS_QJOURNAL_QUEUE_SIZE_LIMIT_DEFAULT);
  executor=MoreExecutors.listeningDecorator(Executors.newSingleThreadExecutor(new ThreadFactoryBuilder().setDaemon(true).setNameFormat("Logger channel to " + addr).setUncaughtExceptionHandler(UncaughtExceptionHandlers.systemExit()).build()));
}
