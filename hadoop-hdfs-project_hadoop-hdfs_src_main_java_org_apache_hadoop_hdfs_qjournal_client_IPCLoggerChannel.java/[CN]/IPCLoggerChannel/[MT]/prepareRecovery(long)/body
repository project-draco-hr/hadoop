{
  return executor.submit(new Callable<PrepareRecoveryResponseProto>(){
    @Override public PrepareRecoveryResponseProto call() throws IOException {
      if (!hasHttpServerEndPoint()) {
        GetJournalStateResponseProto ret=getProxy().getJournalState(journalId);
        constructHttpServerURI(ret);
      }
      return getProxy().prepareRecovery(createReqInfo(),segmentTxId);
    }
  }
);
}
