{
  String serviceAddr=DFSUtil.getNamenodeServiceAddr(conf,nsId,nnId);
  if (serviceAddr == null) {
    throw new IllegalArgumentException("Unable to determine service address for namenode '" + nnId + "'");
  }
  this.addr=NetUtils.createSocketAddr(serviceAddr,NameNode.DEFAULT_PORT);
  try {
    this.fencer=NodeFencer.create(conf);
  }
 catch (  BadFencingConfigurationException e) {
    this.fenceConfigError=e;
  }
}
