{
  URI blobEndPoint;
  if (isStorageEmulatorAccount(accountName)) {
    isStorageEmulator=true;
    CloudStorageAccount account=CloudStorageAccount.getDevelopmentStorageAccount();
    storageInteractionLayer.createBlobClient(account);
  }
 else {
    blobEndPoint=new URI(getHTTPScheme() + "://" + accountName);
    storageInteractionLayer.createBlobClient(blobEndPoint,credentials);
  }
  suppressRetryPolicyInClientIfNeeded();
  container=storageInteractionLayer.getContainerReference(containerName);
  rootDirectory=container.getDirectoryReference("");
  canCreateOrModifyContainer=credentials instanceof StorageCredentialsAccountAndKey;
  configureAzureStorageSession();
}
