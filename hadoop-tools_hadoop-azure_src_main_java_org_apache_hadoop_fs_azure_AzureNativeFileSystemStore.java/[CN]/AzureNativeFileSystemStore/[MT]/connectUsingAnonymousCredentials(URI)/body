{
  String accountName=getAccountFromAuthority(uri);
  URI storageUri=new URI(getHTTPScheme() + ":" + PATH_DELIMITER+ PATH_DELIMITER+ accountName);
  String containerName=getContainerFromAuthority(uri);
  storageInteractionLayer.createBlobClient(storageUri);
  suppressRetryPolicyInClientIfNeeded();
  container=storageInteractionLayer.getContainerReference(containerName);
  rootDirectory=container.getDirectoryReference("");
  try {
    if (!container.exists(getInstrumentedContext())) {
      throw new AzureException("Container " + containerName + " in account "+ accountName+ " not found, and we can't create "+ " it using anoynomous credentials.");
    }
  }
 catch (  StorageException ex) {
    throw new AzureException("Unable to access container " + containerName + " in account "+ accountName+ " using anonymous credentials, and no credentials found for them "+ " in the configuration.",ex);
  }
  isAnonymousCredentials=true;
  configureAzureStorageSession();
}
