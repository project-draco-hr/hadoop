{
  try {
    checkContainer(ContainerAccessType.ReadThenWrite);
    CloudBlockBlobWrapper blob=getBlobReference(key);
    blob.downloadAttributes(getInstrumentedContext());
    storePermissionStatus(blob,newPermission);
    blob.uploadMetadata(getInstrumentedContext());
  }
 catch (  Exception e) {
    throw new AzureException(e);
  }
}
