def __add_option(self, config, compoundOpt, section, option, group=None):
    addMethod = self.add_option
    if group:
        addMethod = group.add_option
    self.__compoundOpts.append(compoundOpt)
    if ((compoundOpt == 'gridservice-mapred.final-server-params') or (compoundOpt == 'gridservice-hdfs.final-server-params') or (compoundOpt == 'gridservice-mapred.server-params') or (compoundOpt == 'gridservice-hdfs.server-params') or (compoundOpt == 'hod.client-params')):
        _action = 'append'
    elif (config[section][option]['type'] == 'bool'):
        _action = 'store_true'
    else:
        _action = 'store'
    if self.__shortMap.has_key(compoundOpt):
        addMethod(('-' + self.__shortMap[compoundOpt]), ('--' + compoundOpt), dest=compoundOpt, action=_action, metavar=config[section][option]['type'], default=config[section][option]['default'], help=config[section][option]['desc'])
    elif config[section][option]['short']:
        addMethod(('-' + config[section][option]['short']), ('--' + compoundOpt), dest=compoundOpt, action=_action, metavar=config[section][option]['type'], default=config[section][option]['default'], help=config[section][option]['desc'])
    else:
        addMethod('', ('--' + compoundOpt), dest=compoundOpt, action=_action, metavar=config[section][option]['type'], default=config[section][option]['default'], help=config[section][option]['desc'])
