{
  HistoryFileInfo info=mock(HistoryFileInfo.class);
  when(info.getConfFile()).thenReturn(fullConfPath);
  completedJob=new CompletedJob(conf,jobId,fullHistoryPath,loadTasks,"user",info,jobAclsManager);
  assertEquals(loadTasks,completedJob.tasksLoaded.get());
  assertEquals(1,completedJob.getAMInfos().size());
  assertEquals(10,completedJob.getCompletedMaps());
  assertEquals(1,completedJob.getCompletedReduces());
  assertEquals(12,completedJob.getTasks().size());
  assertEquals(true,completedJob.tasksLoaded.get());
  assertEquals(10,completedJob.getTasks(TaskType.MAP).size());
  assertEquals(2,completedJob.getTasks(TaskType.REDUCE).size());
  assertEquals("user",completedJob.getUserName());
  assertEquals(JobState.SUCCEEDED,completedJob.getState());
  JobReport jobReport=completedJob.getReport();
  assertEquals("user",jobReport.getUser());
  assertEquals(JobState.SUCCEEDED,jobReport.getJobState());
}
