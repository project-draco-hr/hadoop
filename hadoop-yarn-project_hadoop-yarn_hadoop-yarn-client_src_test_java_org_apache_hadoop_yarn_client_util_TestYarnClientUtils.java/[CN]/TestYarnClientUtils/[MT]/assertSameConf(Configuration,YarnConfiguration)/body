{
  Set<String> seen=new HashSet<>();
  Iterator<Entry<String,String>> itr=master.iterator();
  seen.add(YarnConfiguration.RM_HA_ID);
  while (itr.hasNext()) {
    Entry<String,String> property=itr.next();
    String key=property.getKey();
    if (!seen.add(key)) {
      assertEquals("New configuration changed the value of " + key,master.get(key),copy.get(key));
    }
  }
  itr=copy.iterator();
  while (itr.hasNext()) {
    Entry<String,String> property=itr.next();
    String key=property.getKey();
    if (!seen.contains(property.getKey())) {
      assertEquals("New configuration changed the value of " + key,copy.get(key),master.get(key));
    }
  }
}
