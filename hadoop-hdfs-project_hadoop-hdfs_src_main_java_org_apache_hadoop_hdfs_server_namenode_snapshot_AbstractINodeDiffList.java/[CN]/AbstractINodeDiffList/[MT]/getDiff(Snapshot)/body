{
  if (snapshot == null) {
    return null;
  }
  final int i=Collections.binarySearch(diffs,snapshot.getId());
  if (i >= 0) {
    return diffs.get(i);
  }
 else {
    final int j=-i - 1;
    return j < diffs.size() ? diffs.get(j) : null;
  }
}
