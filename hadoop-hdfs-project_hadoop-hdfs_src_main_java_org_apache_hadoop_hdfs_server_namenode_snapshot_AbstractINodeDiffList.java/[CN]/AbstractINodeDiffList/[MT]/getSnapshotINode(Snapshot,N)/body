{
  final D diff=getDiff(snapshot);
  final N inode=diff == null ? null : diff.getSnapshotINode();
  return inode == null ? currentINode : inode;
}
