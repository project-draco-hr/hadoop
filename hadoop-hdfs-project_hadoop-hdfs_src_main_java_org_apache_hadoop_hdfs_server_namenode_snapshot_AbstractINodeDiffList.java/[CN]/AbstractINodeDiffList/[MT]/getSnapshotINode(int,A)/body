{
  final D diff=getDiffById(snapshotId);
  final A inode=diff == null ? null : diff.getSnapshotINode();
  return inode == null ? currentINode : inode;
}
