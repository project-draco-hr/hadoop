{
  final D diff=getDiff(snapshot);
  final A inode=diff == null ? null : diff.getSnapshotINode();
  return inode == null ? currentINode : inode;
}
