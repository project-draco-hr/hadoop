{
  Snapshot earlier=from;
  Snapshot later=to;
  if (Snapshot.ID_COMPARATOR.compare(from,to) > 0) {
    earlier=to;
    later=from;
  }
  final int size=diffs.size();
  int earlierDiffIndex=Collections.binarySearch(diffs,earlier.getId());
  int laterDiffIndex=later == null ? size : Collections.binarySearch(diffs,later.getId());
  if (-earlierDiffIndex - 1 == size) {
    return null;
  }
  if (laterDiffIndex == -1 || laterDiffIndex == 0) {
    return null;
  }
  earlierDiffIndex=earlierDiffIndex < 0 ? (-earlierDiffIndex - 1) : earlierDiffIndex;
  laterDiffIndex=laterDiffIndex < 0 ? (-laterDiffIndex - 1) : laterDiffIndex;
  return new int[]{earlierDiffIndex,laterDiffIndex};
}
