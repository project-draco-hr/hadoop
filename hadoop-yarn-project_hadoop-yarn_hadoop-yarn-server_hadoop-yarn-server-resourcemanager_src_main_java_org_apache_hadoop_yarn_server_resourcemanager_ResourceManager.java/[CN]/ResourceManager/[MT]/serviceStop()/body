{
  if (webApp != null) {
    webApp.stop();
  }
  if (rmDTSecretManager != null) {
    rmDTSecretManager.stopThreads();
  }
  if (appTokenSecretManager != null) {
    this.appTokenSecretManager.stop();
  }
  if (containerTokenSecretManager != null) {
    this.containerTokenSecretManager.stop();
  }
  if (nmTokenSecretManager != null) {
    nmTokenSecretManager.stop();
  }
  DefaultMetricsSystem.shutdown();
  if (rmContext != null) {
    RMStateStore store=rmContext.getStateStore();
    try {
      store.close();
    }
 catch (    Exception e) {
      LOG.error("Error closing store.",e);
    }
  }
  super.serviceStop();
}
