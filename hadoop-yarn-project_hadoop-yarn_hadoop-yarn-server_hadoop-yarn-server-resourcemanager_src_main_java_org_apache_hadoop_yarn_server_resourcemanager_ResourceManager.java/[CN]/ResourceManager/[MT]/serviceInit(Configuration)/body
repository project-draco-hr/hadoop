{
  validateConfigs(conf);
  this.conf=conf;
  this.rmContext=new RMContextImpl();
  rmDispatcher=createDispatcher();
  addIfService(rmDispatcher);
  rmContext.setDispatcher(rmDispatcher);
  rmDispatcher.register(RMFatalEventType.class,new ResourceManager.RMFatalEventDispatcher(this.rmContext,this));
  adminService=createAdminService();
  addService(adminService);
  rmContext.setRMAdminService(adminService);
  this.rmContext.setHAEnabled(HAUtil.isHAEnabled(conf));
  if (this.rmContext.isHAEnabled()) {
    HAUtil.verifyAndSetConfiguration(conf);
  }
  createAndInitActiveServices();
  webAppAddress=WebAppUtils.getRMWebAppURLWithoutScheme(conf);
  super.serviceInit(conf);
}
