{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Received a " + RMStateStoreOperationFailedEvent.class.getName() + " of type "+ event.getType().name());
  }
  if (event.getType() == RMStateStoreOperationFailedEventType.FENCED) {
    LOG.info("RMStateStore has been fenced");
    if (rmContext.isHAEnabled()) {
      try {
        LOG.info("Transitioning RM to Standby mode");
        rm.transitionToStandby(true);
        return;
      }
 catch (      Exception e) {
        LOG.error("Failed to transition RM to Standby mode.");
      }
    }
  }
  LOG.error("Shutting down RM on receiving a " + RMStateStoreOperationFailedEvent.class.getName() + " of type "+ event.getType().name());
  ExitUtil.terminate(1,event.getCause());
}
