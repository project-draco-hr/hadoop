{
  int numJobsInScenario=initializeScenario1();
  ReservationDefinition rr1=createReservationDefinition(5 * step,20 * step,new ReservationRequest[]{ReservationRequest.newInstance(Resource.newInstance(2048,2),10,5,10 * step)},ReservationRequestInterpreter.R_ORDER,"u1");
  ReservationId reservationID=ReservationSystemTestUtil.getNewReservationId();
  agent.createReservation(reservationID,"u1",plan,rr1);
  assertTrue("Agent-based allocation failed",reservationID != null);
  assertTrue("Agent-based allocation failed",plan.getAllReservations().size() == numJobsInScenario + 1);
  ReservationAllocation alloc1=plan.getReservationById(reservationID);
  assertTrue(alloc1.toString(),check(alloc1,10 * step,20 * step,10,2048,2));
}
