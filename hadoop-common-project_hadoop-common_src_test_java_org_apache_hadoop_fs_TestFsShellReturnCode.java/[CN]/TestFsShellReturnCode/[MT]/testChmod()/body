{
  Path p1=new Path(TEST_ROOT_DIR,"testChmod/fileExists");
  final String f1=p1.toUri().getPath();
  final String f2=new Path(TEST_ROOT_DIR,"testChmod/fileDoesNotExist").toUri().getPath();
  final String f3=new Path(TEST_ROOT_DIR,"testChmod/nonExistingfiles*").toUri().getPath();
  final Path p4=new Path(TEST_ROOT_DIR,"testChmod/file1");
  final Path p5=new Path(TEST_ROOT_DIR,"testChmod/file2");
  final Path p6=new Path(TEST_ROOT_DIR,"testChmod/file3");
  final String f7=new Path(TEST_ROOT_DIR,"testChmod/file*").toUri().getPath();
  writeFile(fileSys,p1);
  assertTrue(fileSys.exists(p1));
  String argv[]={"-chmod","777",f1};
  assertEquals(0,fsShell.run(argv));
  String argv2[]={"-chmod","777",f2};
  assertEquals(1,fsShell.run(argv2));
  String argv3[]={"-chmod","777",f3};
  assertEquals(1,fsShell.run(argv3));
  writeFile(fileSys,p4);
  assertTrue(fileSys.exists(p4));
  writeFile(fileSys,p5);
  assertTrue(fileSys.exists(p5));
  writeFile(fileSys,p6);
  assertTrue(fileSys.exists(p6));
  String argv4[]={"-chmod","777",f7};
  assertEquals(0,fsShell.run(argv4));
}
