{
  List<String> groups=fetchGroupList(user);
  if (groups.isEmpty()) {
    if (isNegativeCacheEnabled()) {
      long expirationTime=timer.monotonicNow() + negativeCacheTimeout;
      negativeCacheMask.put(user,expirationTime);
    }
    throw noGroupsForUser(user);
  }
  return groups;
}
