{
  NodeId nodeId=request.getNodeId();
  Resource resource=request.getResource();
  LOG.info("Registering " + nodeId.toString());
  try {
    Assert.assertEquals(InetAddress.getLocalHost().getCanonicalHostName() + ":12345",nodeId.toString());
  }
 catch (  UnknownHostException e) {
    Assert.fail(e.getMessage());
  }
  Assert.assertEquals(5 * 1024,resource.getMemory());
  registeredNodes.add(nodeId);
  RegistrationResponse regResponse=recordFactory.newRecordInstance(RegistrationResponse.class);
  RegisterNodeManagerResponse response=recordFactory.newRecordInstance(RegisterNodeManagerResponse.class);
  response.setRegistrationResponse(regResponse);
  return response;
}
