{
  LOG.info("Got event " + event.getType() + " for appId "+ event.getApplicationID());
switch (event.getType()) {
case APPLICATION_INIT:
    LOG.info("Got APPLICATION_INIT for service " + event.getServiceID());
  AuxiliaryService service=serviceMap.get(event.getServiceID());
if (null == service) {
  LOG.info("service is null");
  return;
}
service.initializeApplication(new ApplicationInitializationContext(event.getUser(),event.getApplicationID(),event.getServiceData()));
break;
case APPLICATION_STOP:
for (AuxiliaryService serv : serviceMap.values()) {
serv.stopApplication(new ApplicationTerminationContext(event.getApplicationID()));
}
break;
case CONTAINER_INIT:
for (AuxiliaryService serv : serviceMap.values()) {
serv.initializeContainer(new ContainerInitializationContext(event.getUser(),event.getContainer().getContainerId(),event.getContainer().getResource()));
}
break;
case CONTAINER_STOP:
for (AuxiliaryService serv : serviceMap.values()) {
serv.stopContainer(new ContainerTerminationContext(event.getUser(),event.getContainer().getContainerId(),event.getContainer().getResource()));
}
break;
default :
throw new RuntimeException("Unknown type: " + event.getType());
}
}
