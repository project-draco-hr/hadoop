{
  LOG.info("Got event " + event.getType() + " for appId "+ event.getApplicationID());
switch (event.getType()) {
case APPLICATION_INIT:
    LOG.info("Got APPLICATION_INIT for service " + event.getServiceID());
  AuxiliaryService service=null;
try {
  service=serviceMap.get(event.getServiceID());
  service.initializeApplication(new ApplicationInitializationContext(event.getUser(),event.getApplicationID(),event.getServiceData()));
}
 catch (Throwable th) {
  logWarningWhenAuxServiceThrowExceptions(service,AuxServicesEventType.APPLICATION_INIT,th);
}
break;
case APPLICATION_STOP:
for (AuxiliaryService serv : serviceMap.values()) {
try {
serv.stopApplication(new ApplicationTerminationContext(event.getApplicationID()));
}
 catch (Throwable th) {
logWarningWhenAuxServiceThrowExceptions(serv,AuxServicesEventType.APPLICATION_STOP,th);
}
}
break;
case CONTAINER_INIT:
for (AuxiliaryService serv : serviceMap.values()) {
try {
serv.initializeContainer(new ContainerInitializationContext(event.getUser(),event.getContainer().getContainerId(),event.getContainer().getResource(),event.getContainer().getContainerTokenIdentifier().getContainerType()));
}
 catch (Throwable th) {
logWarningWhenAuxServiceThrowExceptions(serv,AuxServicesEventType.CONTAINER_INIT,th);
}
}
break;
case CONTAINER_STOP:
for (AuxiliaryService serv : serviceMap.values()) {
try {
serv.stopContainer(new ContainerTerminationContext(event.getUser(),event.getContainer().getContainerId(),event.getContainer().getResource(),event.getContainer().getContainerTokenIdentifier().getContainerType()));
}
 catch (Throwable th) {
logWarningWhenAuxServiceThrowExceptions(serv,AuxServicesEventType.CONTAINER_STOP,th);
}
}
break;
default :
throw new RuntimeException("Unknown type: " + event.getType());
}
}
