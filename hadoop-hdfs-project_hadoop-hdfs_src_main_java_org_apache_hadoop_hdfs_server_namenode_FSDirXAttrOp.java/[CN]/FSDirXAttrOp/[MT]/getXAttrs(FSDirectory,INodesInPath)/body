{
  fsd.readLock();
  try {
    String src=iip.getPath();
    INode inode=FSDirectory.resolveLastINode(iip);
    int snapshotId=iip.getPathSnapshotId();
    return XAttrStorage.readINodeXAttrs(fsd.getAttributes(src,inode.getLocalNameBytes(),inode,snapshotId));
  }
  finally {
    fsd.readUnlock();
  }
}
