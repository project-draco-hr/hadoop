{
  String srcs=FSDirectory.normalizePath(src);
  fsd.readLock();
  try {
    INodesInPath iip=fsd.getINodesInPath(srcs,true);
    INode inode=FSDirectory.resolveLastINode(iip);
    int snapshotId=iip.getPathSnapshotId();
    return XAttrStorage.readINodeXAttrs(fsd.getAttributes(src,inode.getLocalNameBytes(),inode,snapshotId));
  }
  finally {
    fsd.readUnlock();
  }
}
