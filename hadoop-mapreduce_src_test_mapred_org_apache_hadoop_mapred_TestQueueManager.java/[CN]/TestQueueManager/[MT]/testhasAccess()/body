{
  deleteQueuesConfigFile();
  Document doc=createDocument();
  createSimpleDocumentWithAcls(doc);
  writeToFile(doc,QUEUES_CONFIG_FILE_PATH);
  QueueManager qm=new QueueManager(QUEUES_CONFIG_FILE_PATH,true);
  UserGroupInformation ugi;
  ugi=createUGI("u1");
  assertTrue(qm.hasAccess("p1" + NAME_SEPARATOR + "p12",QueueACL.SUBMIT_JOB,ugi));
  ugi=createUGI("u2");
  assertTrue(qm.hasAccess("p1" + NAME_SEPARATOR + "p12",QueueACL.ADMINISTER_JOBS,ugi));
  ugi=createUGI("u1");
  assertTrue(qm.hasAccess("p1" + NAME_SEPARATOR + "p11",QueueACL.SUBMIT_JOB,ugi));
  ugi=createUGI("u2");
  assertTrue(qm.hasAccess("p1" + NAME_SEPARATOR + "p11",QueueACL.ADMINISTER_JOBS,ugi));
  ugi=createUGI("u1");
  assertFalse(qm.hasAccess("p1" + NAME_SEPARATOR + "p13",QueueACL.SUBMIT_JOB,ugi));
  ugi=createUGI("u2");
  assertFalse(qm.hasAccess("p1" + NAME_SEPARATOR + "p13",QueueACL.ADMINISTER_JOBS,ugi));
  assertTrue(qm.isRunning("p1" + NAME_SEPARATOR + "p13"));
}
