{
  checkOpen();
  TraceScope scope=getPathTraceScope("getBlockLocations",src);
  try {
    LocatedBlocks blocks=getLocatedBlocks(src,start,length);
    BlockLocation[] locations=DFSUtilClient.locatedBlocks2Locations(blocks);
    HdfsBlockLocation[] hdfsLocations=new HdfsBlockLocation[locations.length];
    for (int i=0; i < locations.length; i++) {
      hdfsLocations[i]=new HdfsBlockLocation(locations[i],blocks.get(i));
    }
    return hdfsLocations;
  }
  finally {
    scope.close();
  }
}
