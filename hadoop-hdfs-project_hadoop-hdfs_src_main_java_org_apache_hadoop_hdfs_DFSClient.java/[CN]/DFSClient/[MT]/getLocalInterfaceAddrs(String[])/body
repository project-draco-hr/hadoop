{
  List<SocketAddress> localAddrs=new ArrayList<SocketAddress>();
  for (  String interfaceName : interfaceNames) {
    if (InetAddresses.isInetAddress(interfaceName)) {
      localAddrs.add(new InetSocketAddress(interfaceName,0));
    }
 else     if (NetUtils.isValidSubnet(interfaceName)) {
      for (      InetAddress addr : NetUtils.getIPs(interfaceName,false)) {
        localAddrs.add(new InetSocketAddress(addr,0));
      }
    }
 else {
      for (      String ip : DNS.getIPs(interfaceName,false)) {
        localAddrs.add(new InetSocketAddress(ip,0));
      }
    }
  }
  return localAddrs.toArray(new SocketAddress[localAddrs.size()]);
}
