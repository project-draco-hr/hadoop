{
  ChecksumOpt myOpt=ChecksumOpt.processChecksumOpt(defaultChecksumOpt,userOpt);
  DataChecksum dataChecksum=DataChecksum.newDataChecksum(myOpt.getChecksumType(),myOpt.getBytesPerChecksum());
  if (dataChecksum == null) {
    throw new IOException("Invalid checksum type specified: " + myOpt.getChecksumType().name());
  }
  return dataChecksum;
}
