{
  Configuration conf=new HdfsConfiguration();
  Path file=new Path(PathUtils.getTestDirName(getClass()),"corruptFile");
  FileSystem fs=FileSystem.getLocal(conf);
  DataOutputStream dos=fs.create(file);
  dos.writeBytes("original bytes");
  dos.close();
  dos=new DataOutputStream(new FileOutputStream(file.toString()));
  dos.writeBytes("corruption");
  dos.close();
  DataInputStream dis=fs.open(file,512);
  try {
    System.out.println("A ChecksumException is expected to be logged.");
    dis.readByte();
  }
 catch (  ChecksumException ignore) {
  }
  fs.delete(file,true);
}
