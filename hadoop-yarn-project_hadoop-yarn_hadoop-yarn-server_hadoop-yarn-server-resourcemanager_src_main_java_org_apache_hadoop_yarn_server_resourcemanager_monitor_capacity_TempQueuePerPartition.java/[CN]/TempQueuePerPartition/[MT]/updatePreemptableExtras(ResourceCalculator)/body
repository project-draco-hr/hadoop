{
  untouchableExtra=Resources.none();
  preemptableExtra=Resources.none();
  Resource extra=Resources.subtract(getUsed(),getGuaranteed());
  if (Resources.lessThan(rc,totalPartitionResource,extra,Resources.none())) {
    extra=Resources.none();
  }
  if (null == children || children.isEmpty()) {
    if (preemptionDisabled) {
      untouchableExtra=extra;
    }
 else {
      preemptableExtra=extra;
    }
  }
 else {
    Resource childrensPreemptable=Resource.newInstance(0,0);
    for (    TempQueuePerPartition child : children) {
      Resources.addTo(childrensPreemptable,child.preemptableExtra);
    }
    if (Resources.greaterThanOrEqual(rc,totalPartitionResource,childrensPreemptable,extra)) {
      untouchableExtra=Resource.newInstance(0,0);
    }
 else {
      untouchableExtra=Resources.subtract(extra,childrensPreemptable);
    }
    preemptableExtra=Resources.min(rc,totalPartitionResource,childrensPreemptable,extra);
  }
}
