{
  if (!dir.isDirectory()) {
    throw new DiskErrorException("Not a directory: " + dir.toString());
  }
  if (Shell.WINDOWS) {
    checkAccessByFileSystemInteraction(dir);
  }
 else {
    checkAccessByFileMethods(dir);
  }
}
