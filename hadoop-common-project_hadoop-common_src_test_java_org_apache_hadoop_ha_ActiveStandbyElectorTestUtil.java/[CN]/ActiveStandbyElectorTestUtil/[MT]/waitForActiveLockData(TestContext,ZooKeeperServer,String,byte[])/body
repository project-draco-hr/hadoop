{
  while (true) {
    if (ctx != null) {
      ctx.checkException();
    }
    try {
      Stat stat=new Stat();
      byte[] data=zks.getZKDatabase().getData(parentDir + "/" + ActiveStandbyElector.LOCK_FILENAME,stat,null);
      if (activeData != null && Arrays.equals(activeData,data)) {
        return;
      }
    }
 catch (    NoNodeException nne) {
      if (activeData == null) {
        return;
      }
    }
    Thread.sleep(50);
  }
}
