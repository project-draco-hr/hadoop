{
  long st=System.currentTimeMillis();
  long lastPrint=st;
  while (true) {
    if (ctx != null) {
      ctx.checkException();
    }
    try {
      Stat stat=new Stat();
      byte[] data=zks.getZKDatabase().getData(parentDir + "/" + ActiveStandbyElector.LOCK_FILENAME,stat,null);
      if (activeData != null && Arrays.equals(activeData,data)) {
        return;
      }
      if (System.currentTimeMillis() > lastPrint + LOG_INTERVAL_MS) {
        LOG.info("Cur data: " + StringUtils.byteToHexString(data));
        lastPrint=System.currentTimeMillis();
      }
    }
 catch (    NoNodeException nne) {
      if (activeData == null) {
        return;
      }
      if (System.currentTimeMillis() > lastPrint + LOG_INTERVAL_MS) {
        LOG.info("Cur data: no node");
        lastPrint=System.currentTimeMillis();
      }
    }
    Thread.sleep(50);
  }
}
