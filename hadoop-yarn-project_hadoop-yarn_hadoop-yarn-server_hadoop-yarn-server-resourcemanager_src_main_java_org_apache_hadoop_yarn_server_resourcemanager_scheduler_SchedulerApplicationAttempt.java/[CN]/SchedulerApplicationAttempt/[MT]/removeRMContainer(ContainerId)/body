{
  try {
    writeLock.lock();
    RMContainer rmContainer=liveContainers.remove(containerId);
    if (rmContainer != null) {
      if (rmContainer.getExecutionType() == ExecutionType.OPPORTUNISTIC) {
        this.attemptOpportunisticResourceUsage.decUsed(rmContainer.getAllocatedResource());
      }
      if (rmContainer.isRemotelyAllocated()) {
        this.attemptResourceUsageAllocatedRemotely.decUsed(rmContainer.getAllocatedResource());
      }
    }
  }
  finally {
    writeLock.unlock();
  }
}
