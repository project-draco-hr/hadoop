{
  List<Container> returnContainerList=new ArrayList<Container>(newlyAllocatedContainers.size());
  for (  RMContainer rmContainer : newlyAllocatedContainers) {
    rmContainer.handle(new RMContainerEvent(rmContainer.getContainerId(),RMContainerEventType.ACQUIRED));
    Container container=rmContainer.getContainer();
    rmContainer.getContainer().setContainerToken(rmContext.getContainerTokenSecretManager().createContainerToken(rmContainer.getContainerId(),container.getNodeId(),getUser(),container.getResource()));
    returnContainerList.add(rmContainer.getContainer());
  }
  newlyAllocatedContainers.clear();
  return returnContainerList;
}
