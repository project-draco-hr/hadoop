{
  Map jsonMap=new LinkedHashMap();
  JSONArray jsonArray=new JSONArray();
  if (xAttrs != null) {
    for (    Entry<String,byte[]> e : xAttrs.entrySet()) {
      Map json=new LinkedHashMap();
      json.put(HttpFSFileSystem.XATTR_NAME_JSON,e.getKey());
      if (e.getValue() != null) {
        json.put(HttpFSFileSystem.XATTR_VALUE_JSON,XAttrCodec.encodeValue(e.getValue(),encoding));
      }
      jsonArray.add(json);
    }
  }
  jsonMap.put(HttpFSFileSystem.XATTRS_JSON,jsonArray);
  return jsonMap;
}
