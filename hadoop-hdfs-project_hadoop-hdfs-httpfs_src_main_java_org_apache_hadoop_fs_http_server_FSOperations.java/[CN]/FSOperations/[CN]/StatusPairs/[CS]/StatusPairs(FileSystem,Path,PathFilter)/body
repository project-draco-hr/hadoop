{
  FileStatus[] fileStatuses=fs.listStatus(path,filter);
  AclStatus aclStatus=null;
  statusPairs=new StatusPair[fileStatuses.length];
  boolean useAcls=true;
  for (int i=0; i < fileStatuses.length; i++) {
    if (useAcls) {
      try {
        aclStatus=fs.getAclStatus(fileStatuses[i].getPath());
      }
 catch (      AclException e) {
        aclStatus=null;
        useAcls=false;
      }
catch (      UnsupportedOperationException e) {
        aclStatus=null;
        useAcls=false;
      }
    }
    statusPairs[i]=new StatusPair(fileStatuses[i],aclStatus);
  }
}
