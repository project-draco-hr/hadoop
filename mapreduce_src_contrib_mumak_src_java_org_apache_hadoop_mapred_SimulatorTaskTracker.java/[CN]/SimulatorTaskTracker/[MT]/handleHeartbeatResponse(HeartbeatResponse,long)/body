{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Handling heartbeat response " + response);
  }
  List<SimulatorEvent> events=new ArrayList<SimulatorEvent>();
  TaskTrackerAction[] actions=response.getActions();
  for (  TaskTrackerAction action : actions) {
    List<SimulatorEvent> actionEvents;
    if (action instanceof SimulatorLaunchTaskAction) {
      actionEvents=handleSimulatorLaunchTaskAction((SimulatorLaunchTaskAction)action,now);
    }
 else     if (action instanceof KillTaskAction) {
      actionEvents=handleKillTaskAction((KillTaskAction)action,now);
    }
 else     if (action instanceof AllMapsCompletedTaskAction) {
      actionEvents=handleAllMapsCompletedTaskAction((AllMapsCompletedTaskAction)action,now);
    }
 else {
      throw new UnsupportedOperationException("Unimplemented TaskAction: " + action);
    }
    events.addAll(actionEvents);
  }
  return events;
}
