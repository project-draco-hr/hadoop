{
  int total=0;
  int moreRemainingNode=0;
  for (int i=0; i < chooseTimes; i++) {
    DatanodeStorageInfo[] targets=namenode.getNamesystem().getBlockManager().getBlockPlacementPolicy().chooseTarget(file,replica,null,new ArrayList<DatanodeStorageInfo>(),false,null,blockSize,TestBlockStoragePolicy.DEFAULT_STORAGE_POLICY);
    Assert.assertTrue(targets.length == replica);
    for (int j=0; j < replica; j++) {
      total++;
      if (targets[j].getDatanodeDescriptor().getRemainingPercent() > 60) {
        moreRemainingNode++;
      }
    }
  }
  Assert.assertTrue(total == replica * chooseTimes);
  double possibility=1.0 * moreRemainingNode / total;
  Assert.assertTrue(possibility > 0.52);
  Assert.assertTrue(possibility < 0.55);
}
