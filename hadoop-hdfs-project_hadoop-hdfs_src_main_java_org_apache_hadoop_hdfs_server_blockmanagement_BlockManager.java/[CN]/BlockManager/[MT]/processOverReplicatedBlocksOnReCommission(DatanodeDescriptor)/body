{
  if (!namesystem.isPopulatingReplQueues()) {
    return;
  }
  final Iterator<BlockInfo> it=srcNode.getBlockIterator();
  int numOverReplicated=0;
  while (it.hasNext()) {
    final BlockInfo block=it.next();
    BlockCollection bc=blocksMap.getBlockCollection(block);
    short expectedReplication=bc.getPreferredBlockReplication();
    NumberReplicas num=countNodes(block);
    int numCurrentReplica=num.liveReplicas();
    if (numCurrentReplica > expectedReplication) {
      processOverReplicatedBlock(block,expectedReplication,null,null);
      numOverReplicated++;
    }
  }
  LOG.info("Invalidated " + numOverReplicated + " over-replicated blocks on "+ srcNode+ " during recommissioning");
}
