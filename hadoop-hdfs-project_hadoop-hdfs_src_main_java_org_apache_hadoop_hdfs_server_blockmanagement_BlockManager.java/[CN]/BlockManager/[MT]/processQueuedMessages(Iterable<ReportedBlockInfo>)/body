{
  for (  ReportedBlockInfo rbi : rbis) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Processing previouly queued message " + rbi);
    }
    if (rbi.getReportedState() == null) {
      DatanodeStorageInfo storageInfo=rbi.getStorageInfo();
      removeStoredBlock(getStoredBlock(rbi.getBlock()),storageInfo.getDatanodeDescriptor());
    }
 else {
      processAndHandleReportedBlock(rbi.getStorageInfo(),rbi.getBlock(),rbi.getReportedState(),null);
    }
  }
}
