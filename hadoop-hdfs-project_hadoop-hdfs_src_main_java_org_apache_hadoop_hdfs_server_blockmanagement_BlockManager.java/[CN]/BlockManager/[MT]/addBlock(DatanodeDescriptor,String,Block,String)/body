{
  DatanodeStorageInfo storageInfo=node.getStorageInfo(storageID);
  if (storageInfo != null) {
    storageInfo.decrementBlocksScheduled();
  }
 else {
    throw new IllegalArgumentException("Unrecognized storageID " + storageID + " in block report "+ "from Datanode "+ node.toString());
  }
  DatanodeDescriptor delHintNode=null;
  if (delHint != null && delHint.length() != 0) {
    delHintNode=datanodeManager.getDatanode(delHint);
    if (delHintNode == null) {
      blockLog.warn("BLOCK* blockReceived: " + block + " is expected to be removed from an unrecorded node "+ delHint);
    }
  }
  pendingReplications.decrement(block,node,storageID);
  processAndHandleReportedBlock(node,storageID,block,ReplicaState.FINALIZED,delHintNode);
}
