{
  if (replication < minReplication || replication > maxReplication) {
    StringBuilder msg=new StringBuilder("Requested replication factor of ");
    msg.append(replication);
    if (replication > maxReplication) {
      msg.append(" exceeds maximum of ");
      msg.append(maxReplication);
    }
 else {
      msg.append(" is less than the required minimum of ");
      msg.append(minReplication);
    }
    msg.append(" for ").append(src);
    if (clientName != null) {
      msg.append(" from ").append(clientName);
    }
    throw new IOException(msg.toString());
  }
}
