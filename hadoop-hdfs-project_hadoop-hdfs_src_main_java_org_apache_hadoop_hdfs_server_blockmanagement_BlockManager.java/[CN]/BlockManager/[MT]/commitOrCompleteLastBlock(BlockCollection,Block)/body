{
  if (commitBlock == null)   return false;
  BlockInfoContiguous lastBlock=bc.getLastBlock();
  if (lastBlock == null)   return false;
  if (lastBlock.isComplete())   return false;
  final boolean b=commitBlock((BlockInfoContiguousUnderConstruction)lastBlock,commitBlock);
  if (countNodes(lastBlock).liveReplicas() >= minReplication)   completeBlock(bc,bc.numBlocks() - 1,false);
  return b;
}
