{
  if (!this.shouldCheckForEnoughRacks) {
    return true;
  }
  Collection<DatanodeDescriptor> corruptNodes=corruptReplicas.getNodes(storedBlock);
  if (storedBlock.isStriped()) {
    return blockHasEnoughRacksStriped(storedBlock,corruptNodes);
  }
 else {
    return blockHashEnoughRacksContiguous(storedBlock,expectedStorageNum,corruptNodes);
  }
}
