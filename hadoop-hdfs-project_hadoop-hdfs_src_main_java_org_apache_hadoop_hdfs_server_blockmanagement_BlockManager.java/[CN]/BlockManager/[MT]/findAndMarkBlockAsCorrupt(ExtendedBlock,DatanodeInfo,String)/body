{
  namesystem.writeLock();
  try {
    final BlockInfo storedBlock=getStoredBlock(blk.getLocalBlock());
    if (storedBlock == null) {
      NameNode.stateChangeLog.info("BLOCK* findAndMarkBlockAsCorrupt: " + blk + " not found.");
      return;
    }
    markBlockAsCorrupt(storedBlock,dn,reason);
  }
  finally {
    namesystem.writeUnlock();
  }
}
