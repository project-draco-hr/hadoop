{
  final List<DatanodeStorageInfo> locations=new ArrayList<DatanodeStorageInfo>(blocksMap.numNodes(block));
  for (  DatanodeStorageInfo storage : blocksMap.getStorages(block)) {
    final String storageID=storage.getStorageID();
    if (!invalidateBlocks.contains(storageID,block)) {
      locations.add(storage);
    }
  }
  return locations;
}
