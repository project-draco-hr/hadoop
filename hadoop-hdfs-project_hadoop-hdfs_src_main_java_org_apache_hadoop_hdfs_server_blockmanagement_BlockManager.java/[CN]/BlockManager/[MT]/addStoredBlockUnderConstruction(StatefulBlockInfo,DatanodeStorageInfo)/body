{
  BlockInfoUnderConstruction block=ucBlock.storedBlock;
  block.addReplicaIfNotPresent(storageInfo,ucBlock.reportedBlock,ucBlock.reportedState);
  if (ucBlock.reportedState == ReplicaState.FINALIZED && block.findDatanode(storageInfo.getDatanodeDescriptor()) < 0) {
    addStoredBlock(block,storageInfo,null,true);
  }
}
