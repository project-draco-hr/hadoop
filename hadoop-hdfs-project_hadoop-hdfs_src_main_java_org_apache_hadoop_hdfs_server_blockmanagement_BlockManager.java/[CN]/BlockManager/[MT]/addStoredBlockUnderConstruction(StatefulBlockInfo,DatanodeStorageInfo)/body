{
  BlockInfoUnderConstruction block=ucBlock.storedBlock;
  block.addReplicaIfNotPresent(storageInfo,ucBlock.reportedBlock,ucBlock.reportedState);
  if (ucBlock.reportedState == ReplicaState.FINALIZED && !block.findDatanode(storageInfo.getDatanodeDescriptor())) {
    addStoredBlock(block,storageInfo,null,true);
  }
}
