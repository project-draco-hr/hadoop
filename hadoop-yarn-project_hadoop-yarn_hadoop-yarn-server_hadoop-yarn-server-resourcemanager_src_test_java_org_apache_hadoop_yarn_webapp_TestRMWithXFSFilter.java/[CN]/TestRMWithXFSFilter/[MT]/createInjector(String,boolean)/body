{
  injector=Guice.createInjector(new ServletModule(){
    @Override protected void configureServlets(){
      bind(JAXBContextResolver.class);
      bind(RMWebServices.class);
      bind(GenericExceptionHandler.class);
      Configuration conf=new Configuration();
      conf.setClass(YarnConfiguration.RM_SCHEDULER,FifoScheduler.class,ResourceScheduler.class);
      rm=new MockRM(conf);
      bind(ResourceManager.class).toInstance(rm);
      serve("/*").with(GuiceContainer.class);
      XFrameOptionsFilter xfsFilter=new XFrameOptionsFilter();
      Map<String,String> initParams=new HashMap<>();
      if (headerValue != null) {
        initParams.put(XFrameOptionsFilter.CUSTOM_HEADER_PARAM,headerValue);
      }
      if (explicitlyDisabled) {
        initParams.put("xframe-options-enabled","false");
      }
      filter("/*").through(xfsFilter,initParams);
    }
  }
);
}
