{
  futureReturns(null).when(spyLoggers.get(0)).startLogSegment(Mockito.anyLong());
  futureThrows(new IOException("logger failed")).when(spyLoggers.get(1)).startLogSegment(Mockito.anyLong());
  futureThrows(new IOException("logger failed")).when(spyLoggers.get(2)).startLogSegment(Mockito.anyLong());
  try {
    qjm.startLogSegment(1);
    fail("Did not throw when quorum failed");
  }
 catch (  QuorumException qe) {
    GenericTestUtils.assertExceptionContains("logger failed",qe);
  }
}
