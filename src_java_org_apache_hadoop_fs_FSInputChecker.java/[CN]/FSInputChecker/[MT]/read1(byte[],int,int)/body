{
  int avail=count - pos;
  if (avail <= 0) {
    if (len >= maxChunkSize) {
      int nread=readChecksumChunk(b,off,len);
      return nread;
    }
 else {
      fill();
      if (count <= 0) {
        return -1;
      }
 else {
        avail=count;
      }
    }
  }
  int cnt=(avail < len) ? avail : len;
  System.arraycopy(buf,pos,b,off,cnt);
  pos+=cnt;
  return cnt;
}
