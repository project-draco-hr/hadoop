{
  Dispatcher nullDispatcher=new Dispatcher(){
    private final EventHandler handler=new EventHandler(){
      @Override public void handle(      Event event){
      }
    }
;
    @Override public void register(    Class<? extends Enum> eventType,    EventHandler handler){
    }
    @Override public EventHandler getEventHandler(){
      return handler;
    }
  }
;
  ContainerAllocationExpirer cae=new ContainerAllocationExpirer(nullDispatcher);
  Configuration conf=new Configuration();
  RMApplicationHistoryWriter writer=mock(RMApplicationHistoryWriter.class);
  RMContextImpl rmContext=new RMContextImpl(nullDispatcher,cae,null,null,null,new AMRMTokenSecretManager(conf,null),new RMContainerTokenSecretManager(conf),new NMTokenSecretManagerInRM(conf),new ClientToAMTokenSecretManagerInRM(),writer);
  rmContext.setSystemMetricsPublisher(mock(SystemMetricsPublisher.class));
  return rmContext;
}
