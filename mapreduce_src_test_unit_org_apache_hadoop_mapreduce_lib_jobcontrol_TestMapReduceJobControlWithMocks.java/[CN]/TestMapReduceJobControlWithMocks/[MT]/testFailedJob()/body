{
  JobControl jobControl=new JobControl("Test");
  ControlledJob job1=createFailedControlledJob(jobControl);
  ControlledJob job2=createSuccessfulControlledJob(jobControl);
  ControlledJob job3=createSuccessfulControlledJob(jobControl,job1,job2);
  ControlledJob job4=createSuccessfulControlledJob(jobControl,job3);
  runJobControl(jobControl);
  assertEquals("Success list",1,jobControl.getSuccessfulJobList().size());
  assertEquals("Failed list",3,jobControl.getFailedJobList().size());
  assertTrue(job1.getJobState() == ControlledJob.State.FAILED);
  assertTrue(job2.getJobState() == ControlledJob.State.SUCCESS);
  assertTrue(job3.getJobState() == ControlledJob.State.DEPENDENT_FAILED);
  assertTrue(job4.getJobState() == ControlledJob.State.DEPENDENT_FAILED);
  jobControl.stop();
}
