{
  return new Socket(){
    @Override public void connect(    SocketAddress addr,    int timeout) throws IOException {
      assert(addr instanceof InetSocketAddress);
      InetSocketAddress iaddr=(InetSocketAddress)addr;
      SocketAddress newAddr=null;
      if (iaddr.isUnresolved())       newAddr=new InetSocketAddress(iaddr.getHostName(),iaddr.getPort() - 10);
 else       newAddr=new InetSocketAddress(iaddr.getAddress(),iaddr.getPort() - 10);
      System.out.printf("Test socket: rerouting %s to %s\n",iaddr,newAddr);
      super.connect(newAddr,timeout);
    }
  }
;
}
