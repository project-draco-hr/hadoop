{
  final byte[] testBuffer=new byte[TEST_BUFFER_SIZE];
  for (int i=0; i < testBuffer.length; ++i) {
    testBuffer[i]=(byte)(i % MODULUS);
  }
  long bytesWritten=0;
  while (bytesWritten < size) {
    final long diff=size - bytesWritten;
    if (diff < testBuffer.length) {
      outputStream.write(testBuffer,0,(int)diff);
      bytesWritten+=diff;
    }
 else {
      outputStream.write(testBuffer);
      bytesWritten+=testBuffer.length;
    }
  }
}
