{
  Path srcPath=path("/tests3a/a");
  assertTrue(fs.mkdirs(srcPath));
  writeFile(new Path(srcPath,"b/testfile"),1024);
  Path nonEmptyPath=path("/tests3a/nonempty");
  writeFile(new Path(nonEmptyPath,"b/testfile"),1024);
  assertFalse(fs.rename(srcPath,nonEmptyPath));
  Path dstPath=path("/tests3a/b");
  assertTrue(fs.rename(srcPath,dstPath));
  assertFalse(fs.exists(srcPath));
  assertTrue(fs.exists(new Path(dstPath,"b/testfile")));
}
