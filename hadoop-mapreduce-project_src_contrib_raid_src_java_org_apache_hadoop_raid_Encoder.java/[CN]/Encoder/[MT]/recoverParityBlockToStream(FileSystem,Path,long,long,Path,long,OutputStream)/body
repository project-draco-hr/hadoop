{
  LOG.info("Recovering parity block" + parityFile + ":"+ corruptOffset);
  corruptOffset=(corruptOffset / blockSize) * blockSize;
  OutputStream[] outs=new OutputStream[paritySize];
  long indexOfCorruptBlockInParityStripe=(corruptOffset / blockSize) % paritySize;
  LOG.info("Index of corrupt block in parity stripe: " + indexOfCorruptBlockInParityStripe);
  for (int i=0; i < paritySize; i++) {
    if (indexOfCorruptBlockInParityStripe == i) {
      outs[i]=out;
    }
 else {
      outs[i]=new NullOutputStream();
    }
  }
  long stripeIdx=corruptOffset / (paritySize * blockSize);
  long stripeStart=stripeIdx * blockSize * stripeSize;
  InputStream[] blocks=stripeInputs(fs,srcFile,stripeStart,srcSize,blockSize);
  LOG.info("Starting recovery by using source stripe " + srcFile + ":"+ stripeStart);
  encodeStripe(blocks,stripeStart,blockSize,outs,new RaidUtils.DummyProgressable());
}
