{
  Configuration conf=new Configuration();
  MiniJournalCluster c=new MiniJournalCluster.Builder(conf).build();
  c.waitActive();
  try {
    URI uri=c.getQuorumJournalURI("myjournal");
    String[] addrs=uri.getAuthority().split(";");
    assertEquals(3,addrs.length);
    JournalNode node=c.getJournalNode(0);
    String dir=node.getConf().get(DFSConfigKeys.DFS_JOURNALNODE_EDITS_DIR_KEY);
    assertEquals(new File(MiniDFSCluster.getBaseDirectory() + "journalnode-0").getAbsolutePath(),dir);
  }
  finally {
    c.shutdown();
  }
}
