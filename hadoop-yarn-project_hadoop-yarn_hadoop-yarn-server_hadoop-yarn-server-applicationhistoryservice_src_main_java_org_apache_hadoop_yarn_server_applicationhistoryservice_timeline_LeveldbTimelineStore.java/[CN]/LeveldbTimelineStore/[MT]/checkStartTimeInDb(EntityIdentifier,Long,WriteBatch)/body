{
  byte[] b=createStartTimeLookupKey(entity.getId(),entity.getType());
  byte[] v=db.get(b);
  byte[] revStartTime;
  if (v == null) {
    if (suggestedStartTime == null) {
      return null;
    }
    revStartTime=writeReverseOrderedLong(suggestedStartTime);
    writeBatch.put(b,revStartTime);
  }
 else {
    suggestedStartTime=readReverseOrderedLong(v,0);
    revStartTime=v;
  }
  startTimeWriteCache.put(entity,suggestedStartTime);
  startTimeReadCache.put(entity,suggestedStartTime);
  return revStartTime;
}
