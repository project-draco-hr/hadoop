{
  FileSystem mockFS=Mockito.mock(FileSystem.class);
  InodeTree.ResolveResult<FileSystem> res=new InodeTree.ResolveResult<FileSystem>(null,mockFS,null,new Path("someFile"));
  @SuppressWarnings("unchecked") InodeTree<FileSystem> fsState=Mockito.mock(InodeTree.class);
  Mockito.when(fsState.resolve("/tmp/someFile",true)).thenReturn(res);
  ViewFileSystem vfs=Mockito.mock(ViewFileSystem.class);
  vfs.fsState=fsState;
  Mockito.when(vfs.getFileChecksum(new Path("/tmp/someFile"))).thenCallRealMethod();
  vfs.getFileChecksum(new Path("/tmp/someFile"));
  Mockito.verify(mockFS).getFileChecksum(new Path("someFile"));
}
