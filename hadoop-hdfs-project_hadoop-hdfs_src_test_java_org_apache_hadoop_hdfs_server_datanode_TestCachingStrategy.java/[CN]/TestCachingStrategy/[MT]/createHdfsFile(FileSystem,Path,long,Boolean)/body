{
  FSDataOutputStream fos=null;
  try {
    fos=fs.create(p,(short)1);
    if (dropBehind != null) {
      fos.setDropBehind(dropBehind);
    }
    byte buf[]=new byte[8196];
    while (length > 0) {
      int amt=(length > buf.length) ? buf.length : (int)length;
      fos.write(buf,0,amt);
      length-=amt;
    }
  }
 catch (  IOException e) {
    LOG.error("ioexception",e);
  }
 finally {
    if (fos != null) {
      fos.close();
    }
  }
}
