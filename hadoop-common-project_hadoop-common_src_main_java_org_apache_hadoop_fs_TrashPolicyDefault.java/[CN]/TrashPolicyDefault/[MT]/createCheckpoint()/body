{
  if (!fs.exists(current))   return;
  Path checkpointBase;
synchronized (CHECKPOINT) {
    checkpointBase=new Path(trash,CHECKPOINT.format(new Date()));
  }
  Path checkpoint=checkpointBase;
  int attempt=0;
  while (true) {
    try {
      fs.rename(current,checkpoint,Rename.NONE);
      break;
    }
 catch (    FileAlreadyExistsException e) {
      if (++attempt > 1000) {
        throw new IOException("Failed to checkpoint trash: " + checkpoint);
      }
      checkpoint=checkpointBase.suffix("-" + attempt);
    }
  }
  LOG.info("Created trash checkpoint: " + checkpoint.toUri().getPath());
}
