{
  int count=0;
  BlockInfo next, nextPrev;
  BlockInfo cur=this;
  while (cur != null) {
    next=cur.getNext(cur.findDatanode(dn));
    if (next != null) {
      nextPrev=next.getPrevious(next.findDatanode(dn));
      if (cur != nextPrev) {
        System.out.println("Inconsistent list: cur->next->prev != cur");
        return false;
      }
    }
    cur=next;
    count++;
  }
  return true;
}
