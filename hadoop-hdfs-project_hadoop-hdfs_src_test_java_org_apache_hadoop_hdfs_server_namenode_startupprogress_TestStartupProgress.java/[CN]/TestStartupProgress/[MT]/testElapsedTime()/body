{
  startupProgress.beginPhase(LOADING_FSIMAGE);
  Step loadingFsImageInodes=new Step(INODES);
  startupProgress.beginStep(LOADING_FSIMAGE,loadingFsImageInodes);
  Thread.sleep(50L);
  startupProgress.endStep(LOADING_FSIMAGE,loadingFsImageInodes);
  Step loadingFsImageDelegationKeys=new Step(DELEGATION_KEYS);
  startupProgress.beginStep(LOADING_FSIMAGE,loadingFsImageDelegationKeys);
  Thread.sleep(50L);
  startupProgress.endStep(LOADING_FSIMAGE,loadingFsImageDelegationKeys);
  startupProgress.endPhase(LOADING_FSIMAGE);
  startupProgress.beginPhase(LOADING_EDITS);
  Step loadingEditsFile=new Step("file",1000L);
  startupProgress.beginStep(LOADING_EDITS,loadingEditsFile);
  startupProgress.setTotal(LOADING_EDITS,loadingEditsFile,10000L);
  incrementCounter(startupProgress,LOADING_EDITS,loadingEditsFile,5000L);
  Thread.sleep(50L);
  StartupProgressView view=startupProgress.createView();
  assertNotNull(view);
  assertTrue(view.getElapsedTime() > 0);
  assertTrue(view.getElapsedTime(LOADING_FSIMAGE) > 0);
  assertTrue(view.getElapsedTime(LOADING_FSIMAGE,loadingFsImageInodes) > 0);
  assertTrue(view.getElapsedTime(LOADING_FSIMAGE,loadingFsImageDelegationKeys) > 0);
  assertTrue(view.getElapsedTime(LOADING_EDITS) > 0);
  assertTrue(view.getElapsedTime(LOADING_EDITS,loadingEditsFile) > 0);
  assertTrue(view.getElapsedTime(SAVING_CHECKPOINT) == 0);
  assertTrue(view.getElapsedTime(SAVING_CHECKPOINT,new Step(INODES)) == 0);
  long totalTime=view.getElapsedTime();
  long loadingFsImageTime=view.getElapsedTime(LOADING_FSIMAGE);
  long loadingFsImageInodesTime=view.getElapsedTime(LOADING_FSIMAGE,loadingFsImageInodes);
  long loadingFsImageDelegationKeysTime=view.getElapsedTime(LOADING_FSIMAGE,loadingFsImageInodes);
  long loadingEditsTime=view.getElapsedTime(LOADING_EDITS);
  long loadingEditsFileTime=view.getElapsedTime(LOADING_EDITS,loadingEditsFile);
  Thread.sleep(50L);
  assertTrue(totalTime < view.getElapsedTime());
  assertEquals(loadingFsImageTime,view.getElapsedTime(LOADING_FSIMAGE));
  assertEquals(loadingFsImageInodesTime,view.getElapsedTime(LOADING_FSIMAGE,loadingFsImageInodes));
  assertTrue(loadingEditsTime < view.getElapsedTime(LOADING_EDITS));
  assertTrue(loadingEditsFileTime < view.getElapsedTime(LOADING_EDITS,loadingEditsFile));
}
