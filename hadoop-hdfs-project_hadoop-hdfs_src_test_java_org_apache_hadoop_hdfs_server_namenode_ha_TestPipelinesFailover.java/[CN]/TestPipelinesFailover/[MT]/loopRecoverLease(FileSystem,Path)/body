{
  try {
    GenericTestUtils.waitFor(new Supplier<Boolean>(){
      @Override public Boolean get(){
        boolean success;
        try {
          success=((DistributedFileSystem)fsOtherUser).recoverLease(testPath);
        }
 catch (        IOException e) {
          throw new RuntimeException(e);
        }
        if (!success) {
          LOG.info("Waiting to recover lease successfully");
        }
        return success;
      }
    }
,1000,30000);
  }
 catch (  TimeoutException e) {
    throw new TimeoutException("Timed out recovering lease for " + testPath);
  }
}
