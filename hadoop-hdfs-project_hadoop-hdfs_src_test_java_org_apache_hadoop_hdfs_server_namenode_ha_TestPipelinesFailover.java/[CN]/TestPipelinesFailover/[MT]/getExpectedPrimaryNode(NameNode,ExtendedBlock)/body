{
  BlockManager bm0=nn.getNamesystem().getBlockManager();
  BlockInfo storedBlock=bm0.getStoredBlock(blk.getLocalBlock());
  assertTrue("Block " + blk + " should be under construction, "+ "got: "+ storedBlock,storedBlock instanceof BlockInfoUnderConstruction);
  BlockInfoUnderConstruction ucBlock=(BlockInfoUnderConstruction)storedBlock;
  DatanodeDescriptor expectedPrimary=ucBlock.getExpectedLocations()[0];
  return expectedPrimary;
}
