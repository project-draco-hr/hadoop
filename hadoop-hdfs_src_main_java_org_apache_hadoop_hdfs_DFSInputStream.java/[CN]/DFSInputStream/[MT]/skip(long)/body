{
  if (n > 0) {
    long curPos=getPos();
    long fileLen=getFileLength();
    if (n + curPos > fileLen) {
      n=fileLen - curPos;
    }
    seek(curPos + n);
    return n;
  }
  return n < 0 ? -1 : 0;
}
