{
  dfs=new MiniDFSCluster.Builder(conf).numDataNodes(4).build();
  fs=DFS_UGI.doAs(new PrivilegedExceptionAction<FileSystem>(){
    public FileSystem run() throws IOException {
      return dfs.getFileSystem();
    }
  }
);
  mkdir(fs,"/user","nobody","nogroup",(short)01777);
  mkdir(fs,"/user/alice","alice","nogroup",(short)0755);
  mkdir(fs,"/user/bob","bob","nogroup",(short)0755);
  UserGroupInformation MR_UGI=UserGroupInformation.getLoginUser();
  mkdir(fs,"/staging",MR_UGI.getShortUserName(),"nogroup",(short)01777);
  JobConf mrConf=new JobConf();
  mrConf.set(JTConfig.JT_STAGING_AREA_ROOT,"/staging");
  mr=new MiniMRCluster(0,0,4,dfs.getFileSystem().getUri().toString(),1,null,null,MR_UGI,mrConf);
}
