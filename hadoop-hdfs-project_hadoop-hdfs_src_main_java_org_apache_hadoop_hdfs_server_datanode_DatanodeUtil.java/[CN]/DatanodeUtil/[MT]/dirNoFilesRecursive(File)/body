{
  File[] contents=dir.listFiles();
  if (contents == null) {
    throw new IOException("Cannot list contents of " + dir);
  }
  for (  File f : contents) {
    if (!f.isDirectory() || (f.isDirectory() && !dirNoFilesRecursive(f))) {
      return false;
    }
  }
  return true;
}
