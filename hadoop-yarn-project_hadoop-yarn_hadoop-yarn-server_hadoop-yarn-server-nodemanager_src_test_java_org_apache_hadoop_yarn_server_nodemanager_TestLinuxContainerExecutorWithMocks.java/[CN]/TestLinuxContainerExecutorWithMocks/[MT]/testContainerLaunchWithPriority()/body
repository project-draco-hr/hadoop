{
  Configuration conf=new Configuration();
  setupMockExecutor(MOCK_EXECUTOR,conf);
  conf.setInt(YarnConfiguration.NM_CONTAINER_EXECUTOR_SCHED_PRIORITY,2);
  mockExec.setConf(conf);
  List<String> command=new ArrayList<String>();
  mockExec.addSchedPriorityCommand(command);
  assertEquals("first should be nice","nice",command.get(0));
  assertEquals("second should be -n","-n",command.get(1));
  assertEquals("third should be the priority",Integer.toString(2),command.get(2));
  testContainerLaunch();
}
