{
  File f=new File("./src/test/resources/mock-container-executor");
  if (!FileUtil.canExecute(f)) {
    FileUtil.setExecutable(f,true);
  }
  String executorPath=f.getAbsolutePath();
  Configuration conf=new Configuration();
  conf.set(YarnConfiguration.NM_LINUX_CONTAINER_EXECUTOR_PATH,executorPath);
  conf.setInt(YarnConfiguration.NM_CONTAINER_EXECUTOR_SCHED_PRIORITY,2);
  mockExec.setConf(conf);
  List<String> command=new ArrayList<String>();
  mockExec.addSchedPriorityCommand(command);
  assertEquals("first should be nice","nice",command.get(0));
  assertEquals("second should be -n","-n",command.get(1));
  assertEquals("third should be the priority",Integer.toString(2),command.get(2));
  testContainerLaunch();
}
