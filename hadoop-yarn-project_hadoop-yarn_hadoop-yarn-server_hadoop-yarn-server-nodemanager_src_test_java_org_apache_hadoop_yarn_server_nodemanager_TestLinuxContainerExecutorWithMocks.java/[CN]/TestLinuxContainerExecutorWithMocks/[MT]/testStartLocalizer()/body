{
  InetSocketAddress address=InetSocketAddress.createUnresolved("localhost",8040);
  Path nmPrivateCTokensPath=new Path("file:///bin/nmPrivateCTokensPath");
  try {
    mockExec.startLocalizer(nmPrivateCTokensPath,address,"test","application_0","12345",dirsHandler.getLocalDirs(),dirsHandler.getLogDirs());
    List<String> result=readMockParams();
    Assert.assertEquals(result.size(),17);
    Assert.assertEquals(result.get(0),YarnConfiguration.DEFAULT_NM_NONSECURE_MODE_LOCAL_USER);
    Assert.assertEquals(result.get(1),"test");
    Assert.assertEquals(result.get(2),"0");
    Assert.assertEquals(result.get(3),"application_0");
    Assert.assertEquals(result.get(4),"/bin/nmPrivateCTokensPath");
    Assert.assertEquals(result.get(8),"-classpath");
    Assert.assertEquals(result.get(11),"org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ContainerLocalizer");
    Assert.assertEquals(result.get(12),"test");
    Assert.assertEquals(result.get(13),"application_0");
    Assert.assertEquals(result.get(14),"12345");
    Assert.assertEquals(result.get(15),"localhost");
    Assert.assertEquals(result.get(16),"8040");
  }
 catch (  InterruptedException e) {
    LOG.error("Error:" + e.getMessage(),e);
    Assert.fail();
  }
}
