{
  rm.start();
  setupCluster(100);
  long time=clock.getTime() + MINIMUM_RESOURCE_DURATION;
  ReservationId id1=getReservationIdTestHelper(1);
  ReservationId id2=getReservationIdTestHelper(2);
  reservationSubmissionTestHelper("reservation/submit",MediaType.APPLICATION_JSON,time,"res_1",id1);
  reservationSubmissionTestHelper("reservation/submit",MediaType.APPLICATION_JSON,time + MINIMUM_RESOURCE_DURATION,"res_2",id2);
  WebResource resource;
  resource=constructWebResource(LIST_RESERVATION_PATH).queryParam("start-time","-100").queryParam("end-time","-100").queryParam("include-resource-allocations","true").queryParam("queue",DEFAULT_QUEUE);
  JSONObject json=testListReservationHelper(resource);
  if (!this.isAuthenticationEnabled() && json == null) {
    return;
  }
  JSONArray reservations=json.getJSONArray("reservations");
  assertEquals(2,reservations.length());
  testRDLHelper(reservations.getJSONObject(0));
  testRDLHelper(reservations.getJSONObject(1));
  rm.stop();
}
