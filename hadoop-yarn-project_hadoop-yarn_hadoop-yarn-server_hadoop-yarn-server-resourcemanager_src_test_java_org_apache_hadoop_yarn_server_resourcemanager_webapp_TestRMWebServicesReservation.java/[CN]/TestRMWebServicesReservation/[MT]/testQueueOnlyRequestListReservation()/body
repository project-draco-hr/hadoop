{
  rm.start();
  setupCluster(100);
  testSubmissionReservationHelper("reservation/submit",MediaType.APPLICATION_JSON,clock.getTime(),"res_1",1);
  testSubmissionReservationHelper("reservation/submit",MediaType.APPLICATION_JSON,clock.getTime(),"res_2",2);
  WebResource resource=constructWebResource(LIST_RESERVATION_PATH).queryParam("queue",DEFAULT_QUEUE);
  JSONObject json=testListReservationHelper(resource);
  if (!this.isAuthenticationEnabled() && json == null) {
    return;
  }
  assertEquals(json.getJSONArray("reservations").length(),2);
  testRDLHelper(json.getJSONArray("reservations").getJSONObject(0));
  testRDLHelper(json.getJSONArray("reservations").getJSONObject(1));
  rm.stop();
}
