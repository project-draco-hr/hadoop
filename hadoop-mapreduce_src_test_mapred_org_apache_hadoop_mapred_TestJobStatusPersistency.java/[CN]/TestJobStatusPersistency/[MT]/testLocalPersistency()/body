{
  FileSystem fs=FileSystem.getLocal(new JobConf());
  fs.delete(TEST_DIR,true);
  Properties config=new Properties();
  config.setProperty(JTConfig.JT_PERSIST_JOBSTATUS,"true");
  config.setProperty(JTConfig.JT_PERSIST_JOBSTATUS_HOURS,"1");
  config.setProperty(JTConfig.JT_PERSIST_JOBSTATUS_DIR,fs.makeQualified(TEST_DIR).toString());
  startCluster(true,config);
  JobID jobId=runJob();
  JobClient jc=new JobClient(createJobConf());
  RunningJob rj=jc.getJob(jobId);
  assertNotNull(rj);
  Path jobInfo=new Path(TEST_DIR,rj.getID() + ".info");
  assertTrue("Missing job info from the local fs",fs.exists(jobInfo));
  fs.delete(TEST_DIR,true);
}
