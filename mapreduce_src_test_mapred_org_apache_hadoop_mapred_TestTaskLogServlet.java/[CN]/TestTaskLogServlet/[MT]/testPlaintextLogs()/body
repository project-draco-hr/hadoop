{
  String attemptIdStr="attempt_123_0001_m_000001_0";
  setupValidLogs(attemptIdStr);
  HttpTester request=new HttpTester();
  request.setMethod("GET");
  request.setURI("/tasklog?plaintext=true&attemptid=" + attemptIdStr);
  request.setVersion("HTTP/1.0");
  HttpTester response=doRequest(request);
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,response.getStatus());
  request.setURI("/tasklog?plaintext=true&filter=stdout&attemptid=" + attemptIdStr);
  response=doRequest(request);
  assertEquals("text/plain; charset=utf-8",response.getHeader("content-type"));
  assertEquals("<b>this is stdout",response.getContent());
  request.setURI("/tasklog?plaintext=true&filter=stdout" + "&attemptid=" + attemptIdStr + "&start=1&end=6");
  response=doRequest(request);
  assertEquals("text/plain; charset=utf-8",response.getHeader("content-type"));
  assertEquals("b>thi",response.getContent());
}
