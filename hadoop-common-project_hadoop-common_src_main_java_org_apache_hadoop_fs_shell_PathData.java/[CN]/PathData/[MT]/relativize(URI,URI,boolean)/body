{
  String uriPath=srcUri.getPath();
  String cwdPath=cwdUri.getPath();
  if (cwdPath.equals(uriPath)) {
    return Path.CUR_DIR;
  }
  int lastSep=findLongestDirPrefix(cwdPath,uriPath,isDir);
  StringBuilder relPath=new StringBuilder();
  if (lastSep < uriPath.length()) {
    relPath.append(uriPath.substring(lastSep + 1));
  }
  if (lastSep < cwdPath.length()) {
    while (lastSep != -1) {
      if (relPath.length() != 0)       relPath.insert(0,Path.SEPARATOR);
      relPath.insert(0,"..");
      lastSep=cwdPath.indexOf(Path.SEPARATOR,lastSep + 1);
    }
  }
  return relPath.toString();
}
