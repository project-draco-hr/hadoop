{
  DataOutputBuffer buf=new DataOutputBuffer();
  DataInputBuffer inbuf=new DataInputBuffer();
  WritableUtils.writeVInt(buf,val);
  if (LOG.isDebugEnabled()) {
    LOG.debug("Value = " + val);
    BytesWritable printer=new BytesWritable();
    printer.set(buf.getData(),0,buf.getLength());
    LOG.debug("Buffer = " + printer);
  }
  inbuf.reset(buf.getData(),0,buf.getLength());
  assertEquals(val,WritableUtils.readVInt(inbuf));
  assertEquals(vintlen,buf.getLength());
  assertEquals(vintlen,WritableUtils.getVIntSize(val));
  assertEquals(vintlen,WritableUtils.decodeVIntSize(buf.getData()[0]));
}
