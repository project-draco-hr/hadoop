{
  org.apache.hadoop.yarn.api.protocolrecords.GetDelegationTokenRequest rmDTRequest=recordFactory.newRecordInstance(org.apache.hadoop.yarn.api.protocolrecords.GetDelegationTokenRequest.class);
  rmDTRequest.setRenewer(renewer.toString());
  org.apache.hadoop.yarn.api.protocolrecords.GetDelegationTokenResponse response=applicationsManager.getDelegationToken(rmDTRequest);
  DelegationToken yarnToken=response.getRMDelegationToken();
  return new Token<RMDelegationTokenIdentifier>(yarnToken.getIdentifier().array(),yarnToken.getPassword().array(),new Text(yarnToken.getKind()),new Text(yarnToken.getService()));
}
