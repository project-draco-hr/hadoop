{
  final String relSrc="/./.reserved/../.reserved/raw/../raw/src/../src";
  final String relDst="/./.reserved/../.reserved/raw/../raw/dest/../dest";
  doTestPreserveRawXAttrs(relSrc,relDst,"-px",true,true,DistCpConstants.SUCCESS);
  doTestPreserveRawXAttrs(rootedSrcName,rootedDestName,"-px",false,true,DistCpConstants.SUCCESS);
  doTestPreserveRawXAttrs(rootedSrcName,rawDestName,"-px",false,true,DistCpConstants.INVALID_ARGUMENT);
  doTestPreserveRawXAttrs(rawSrcName,rootedDestName,"-px",false,true,DistCpConstants.INVALID_ARGUMENT);
  doTestPreserveRawXAttrs(rawSrcName,rawDestName,"-px",true,true,DistCpConstants.SUCCESS);
  final Path savedWd=fs.getWorkingDirectory();
  try {
    fs.setWorkingDirectory(new Path("/.reserved/raw"));
    doTestPreserveRawXAttrs("../.." + rawSrcName,"../.." + rawDestName,"-px",true,true,DistCpConstants.SUCCESS);
  }
  finally {
    fs.setWorkingDirectory(savedWd);
  }
}
