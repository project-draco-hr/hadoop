{
  String mechanism=AuthMethod.PLAIN.getMechanismName();
  SaslClient saslClient=Sasl.createSaslClient(new String[]{mechanism},null,null,null,null,clientCbh);
  assertNotNull(saslClient);
  SaslServer saslServer=Sasl.createSaslServer(mechanism,null,"localhost",null,serverCbh);
  assertNotNull("failed to find PLAIN server",saslServer);
  byte[] response=saslClient.evaluateChallenge(new byte[0]);
  assertNotNull(response);
  assertTrue(saslClient.isComplete());
  response=saslServer.evaluateResponse(response);
  assertNull(response);
  assertTrue(saslServer.isComplete());
  assertNotNull(saslServer.getAuthorizationID());
}
