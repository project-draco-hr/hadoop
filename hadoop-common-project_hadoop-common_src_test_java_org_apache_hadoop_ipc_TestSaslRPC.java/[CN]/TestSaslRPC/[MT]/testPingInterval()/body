{
  Configuration newConf=new Configuration(conf);
  newConf.set(SERVER_PRINCIPAL_KEY,SERVER_PRINCIPAL_1);
  conf.setInt(Client.PING_INTERVAL_NAME,Client.DEFAULT_PING_INTERVAL);
  newConf.setBoolean("ipc.client.ping",true);
  ConnectionId remoteId=ConnectionId.getConnectionId(new InetSocketAddress(0),TestSaslProtocol.class,null,0,newConf);
  assertEquals(Client.DEFAULT_PING_INTERVAL,remoteId.getPingInterval());
  newConf.setBoolean("ipc.client.ping",false);
  remoteId=ConnectionId.getConnectionId(new InetSocketAddress(0),TestSaslProtocol.class,null,0,newConf);
  assertEquals(0,remoteId.getPingInterval());
}
