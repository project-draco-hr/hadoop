{
  this.state=state;
  this.proxy=makeMock();
  this.fencer=Mockito.mock(NodeFencer.class);
  this.address=address;
synchronized (instances) {
    instances.add(this);
    this.index=instances.size();
  }
}
