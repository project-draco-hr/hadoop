{
  if ($(TASK_ID).isEmpty()) {
    badRequest("missing task ID");
    throw new RuntimeException("missing task ID");
  }
  TaskId taskID=MRApps.toTaskID($(TASK_ID));
  Job job=app.context.getJob(taskID.getJobId());
  app.setJob(job);
  if (app.getJob() == null) {
    notFound(MRApps.toString(taskID.getJobId()));
    throw new RuntimeException("Not Found: " + $(JOB_ID));
  }
 else {
    app.setTask(app.getJob().getTask(taskID));
    if (app.getTask() == null) {
      notFound($(TASK_ID));
      throw new RuntimeException("Not Found: " + $(TASK_ID));
    }
  }
  if (!checkAccess(job)) {
    accessDenied("User " + request().getRemoteUser() + " does not have "+ " permission to view job "+ $(JOB_ID));
    throw new RuntimeException("Access denied: User " + request().getRemoteUser() + " does not have permission to view job "+ $(JOB_ID));
  }
}
