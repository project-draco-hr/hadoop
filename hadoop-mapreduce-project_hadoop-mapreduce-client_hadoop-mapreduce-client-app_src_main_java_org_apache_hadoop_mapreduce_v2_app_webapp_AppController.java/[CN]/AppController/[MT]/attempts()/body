{
  try {
    requireJob();
  }
 catch (  Exception e) {
    renderText(e.getMessage());
    return;
  }
  if (app.getJob() != null) {
    try {
      String taskType=$(TASK_TYPE);
      if (taskType.isEmpty()) {
        throw new RuntimeException("missing task-type.");
      }
      String attemptState=$(ATTEMPT_STATE);
      if (attemptState.isEmpty()) {
        throw new RuntimeException("missing attempt-state.");
      }
      setTitle(join(attemptState," ",MRApps.taskType(taskType).toString()," attempts in ",$(JOB_ID)));
      render(attemptsPage());
    }
 catch (    Exception e) {
      badRequest(e.getMessage());
    }
  }
}
