{
  GetServiceStatusResponseProto status;
  try {
    status=rpcProxy.getServiceStatus(NULL_CONTROLLER,GET_SERVICE_STATUS_REQ);
  }
 catch (  ServiceException e) {
    throw ProtobufHelper.getRemoteException(e);
  }
  HAServiceStatus ret=new HAServiceStatus(convert(status.getState()));
  if (status.getReadyToBecomeActive()) {
    ret.setReadyToBecomeActive();
  }
 else {
    ret.setNotReadyToBecomeActive(status.getNotReadyReason());
  }
  return ret;
}
