{
  HAServiceStateProto state;
  try {
    state=rpcProxy.getServiceState(NULL_CONTROLLER,GET_SERVICE_STATE_REQ).getState();
  }
 catch (  ServiceException e) {
    throw ProtobufHelper.getRemoteException(e);
  }
switch (state) {
case ACTIVE:
    return HAServiceState.ACTIVE;
case STANDBY:
  return HAServiceState.STANDBY;
case INITIALIZING:
default :
return HAServiceState.INITIALIZING;
}
}
