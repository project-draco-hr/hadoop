{
  this.src=src;
  this.length=length;
  this.blockLocations=blockLocations;
  this.namenode=namenode;
  this.client=client;
  this.remaining=length;
  if (src.contains(HdfsConstants.SEPARATOR_DOT_SNAPSHOT_DIR_SEPARATOR)) {
    this.remaining=Math.min(length,blockLocations.getFileLength());
  }
  this.locatedBlocks=blockLocations.getLocatedBlocks();
}
