{
  List<String[]> list=new ArrayList<String[]>();
  List<String> batch=new ArrayList<String>();
  int batchLen=0;
  for (  String name : keyNames) {
    int additionalLen=KMSRESTConstants.KEY.length() + 1 + name.length();
    batchLen+=additionalLen;
    if (batchLen > 1500) {
      list.add(batch.toArray(new String[batch.size()]));
      batch=new ArrayList<String>();
      batchLen=additionalLen;
    }
    batch.add(name);
  }
  if (!batch.isEmpty()) {
    list.add(batch.toArray(new String[batch.size()]));
  }
  return list;
}
