{
  checkNotEmpty(name,"name");
  Map<String,String> jsonMaterial=new HashMap<String,String>();
  if (material != null) {
    jsonMaterial.put(KMSRESTConstants.MATERIAL_FIELD,Base64.encodeBase64String(material));
  }
  URL url=createURL(KMSRESTConstants.KEY_RESOURCE,name,null,null);
  HttpURLConnection conn=createConnection(url,HTTP_POST);
  conn.setRequestProperty(CONTENT_TYPE,APPLICATION_JSON_MIME);
  Map response=call(conn,jsonMaterial,HttpURLConnection.HTTP_OK,Map.class);
  KeyVersion keyVersion=parseJSONKeyVersion(response);
  encKeyVersionQueue.drain(name);
  return keyVersion;
}
