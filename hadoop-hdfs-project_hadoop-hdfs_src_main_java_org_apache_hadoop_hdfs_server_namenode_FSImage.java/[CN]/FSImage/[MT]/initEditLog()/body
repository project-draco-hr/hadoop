{
  Preconditions.checkState(getNamespaceID() != 0,"Must know namespace ID before initting edit log");
  String nameserviceId=DFSUtil.getNamenodeNameServiceId(conf);
  if (!HAUtil.isHAEnabled(conf,nameserviceId)) {
    editLog.initJournalsForWrite();
    editLog.recoverUnclosedStreams();
  }
 else {
    editLog.initSharedJournalsForRead();
  }
}
