{
  if ((offset | (buf.length - offset - klen)) < 0) {
    throw new IndexOutOfBoundsException("Bufer not enough to store the key");
  }
  System.arraycopy(keyBuffer,0,buf,offset,klen);
  return klen;
}
