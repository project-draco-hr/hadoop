{
  this.conf=new JobConf();
  this.conf.set(CommonConfigurationKeys.HADOOP_SECURITY_GROUP_MAPPING,NullGroupsProvider.class.getName());
  this.conf.setBoolean(MRConfig.MR_ACLS_ENABLED,true);
  Groups.getUserToGroupsMappingService(conf);
  this.ctx=buildHistoryContext(this.conf);
  WebApp webApp=mock(HsWebApp.class);
  when(webApp.name()).thenReturn("hsmockwebapp");
  this.hsWebServices=new HsWebServices(ctx,conf,webApp);
  this.hsWebServices.setResponse(mock(HttpServletResponse.class));
  Job job=ctx.getAllJobs().values().iterator().next();
  this.jobIdStr=job.getID().toString();
  Task task=job.getTasks().values().iterator().next();
  this.taskIdStr=task.getID().toString();
  this.taskAttemptIdStr=task.getAttempts().keySet().iterator().next().toString();
}
