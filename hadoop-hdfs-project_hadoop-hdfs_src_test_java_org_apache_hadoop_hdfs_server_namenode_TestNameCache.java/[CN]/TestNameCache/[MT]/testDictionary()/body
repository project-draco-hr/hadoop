{
  NameCache<String> cache=new NameCache<String>(2);
  String[] matching={"part1","part10000000","fileabc","abc","filepart"};
  String[] notMatching={"spart1","apart","abcd","def"};
  for (  String s : matching) {
    cache.put(s);
    assertTrue(s == cache.put(s));
  }
  for (  String s : notMatching) {
    cache.put(s);
  }
  cache.initialized();
  for (  String s : matching) {
    verifyNameReuse(cache,s,true);
  }
  assertEquals(matching.length,cache.size());
  for (  String s : notMatching) {
    verifyNameReuse(cache,s,false);
  }
  cache.reset();
  cache.initialized();
  for (  String s : matching) {
    verifyNameReuse(cache,s,false);
  }
  for (  String s : notMatching) {
    verifyNameReuse(cache,s,false);
  }
}
