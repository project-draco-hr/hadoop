{
  ResourceUtilization resourceAllocationToFreeUp=ResourceUtilization.newInstance(getContainersMonitor().getContainersAllocation());
  for (  ContainerId opportContId : opportunisticContainersToKill) {
    if (allocatedOpportunisticContainers.containsKey(opportContId)) {
      getContainersMonitor().decreaseResourceUtilization(resourceAllocationToFreeUp,allocatedOpportunisticContainers.get(opportContId).getPti());
    }
  }
  for (  AllocatedContainerInfo guarContInfo : queuedGuaranteedContainers) {
    getContainersMonitor().increaseResourceUtilization(resourceAllocationToFreeUp,guarContInfo.getPti());
    if (guarContInfo.getPti().getContainerId().equals(containerToStartId)) {
      break;
    }
  }
  getContainersMonitor().subtractNodeResourcesFromResourceUtilization(resourceAllocationToFreeUp);
  return resourceAllocationToFreeUp;
}
