{
  FileWithSnapshotFeature sf=this.getFileWithSnapshotFeature();
  if (snapshot != null && sf != null) {
    final FileDiff d=sf.getDiffs().getDiff(snapshot);
    if (d != null) {
      return d.getFileSize();
    }
  }
  return computeFileSize(true,false);
}
