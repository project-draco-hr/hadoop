{
  FileWithSnapshotFeature sf=getFileWithSnapshotFeature();
  if (sf != null) {
    final FileDiffList diffs=sf.getDiffs();
    final int n=diffs.asList().size();
    counts.add(Content.FILE,n);
    if (n > 0 && sf.isCurrentFileDeleted()) {
      counts.add(Content.LENGTH,diffs.getLast().getFileSize());
    }
    if (sf.isCurrentFileDeleted()) {
      final long lastFileSize=diffs.getLast().getFileSize();
      counts.add(Content.DISKSPACE,lastFileSize * getBlockReplication());
    }
  }
}
