{
  if (this instanceof FileWithSnapshot) {
    final FileWithSnapshot withSnapshot=(FileWithSnapshot)this;
    final FileDiffList diffs=withSnapshot.getDiffs();
    final int n=diffs.asList().size();
    counts.add(Content.FILE,n);
    if (n > 0 && withSnapshot.isCurrentFileDeleted()) {
      counts.add(Content.LENGTH,diffs.getLast().getFileSize());
    }
    if (withSnapshot.isCurrentFileDeleted()) {
      final long lastFileSize=diffs.getLast().getFileSize();
      counts.add(Content.DISKSPACE,lastFileSize * getBlockReplication());
    }
  }
}
