{
  if (collectedBlocks == null || collectedBlocks.getToDeleteList().isEmpty())   return;
  FileWithSnapshotFeature sf=getFileWithSnapshotFeature();
  if (sf == null)   return;
  BlockInfoContiguous[] snapshotBlocks=getDiffs().findEarlierSnapshotBlocks(snapshotId);
  if (snapshotBlocks == null)   return;
  List<Block> toDelete=collectedBlocks.getToDeleteList();
  for (  Block blk : snapshotBlocks) {
    if (toDelete.contains(blk))     collectedBlocks.removeDeleteBlock(blk);
  }
}
