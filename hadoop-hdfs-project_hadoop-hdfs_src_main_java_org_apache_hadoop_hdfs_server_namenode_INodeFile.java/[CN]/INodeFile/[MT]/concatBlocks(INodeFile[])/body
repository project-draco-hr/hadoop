{
  int size=this.blocks.length;
  int totalAddedBlocks=0;
  for (  INodeFile f : inodes) {
    Preconditions.checkState(f.isStriped() == this.isStriped());
    totalAddedBlocks+=f.blocks.length;
  }
  BlockInfo[] newlist=new BlockInfo[size + totalAddedBlocks];
  System.arraycopy(this.blocks,0,newlist,0,size);
  for (  INodeFile in : inodes) {
    System.arraycopy(in.blocks,0,newlist,size,in.blocks.length);
    size+=in.blocks.length;
  }
  setBlocks(newlist);
  updateBlockCollection();
}
