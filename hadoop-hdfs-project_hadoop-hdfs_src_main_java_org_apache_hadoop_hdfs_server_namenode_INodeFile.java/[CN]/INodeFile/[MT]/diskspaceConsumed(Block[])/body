{
  long size=0;
  if (blkArr == null)   return 0;
  for (  Block blk : blkArr) {
    if (blk != null) {
      size+=blk.getNumBytes();
    }
  }
  if (blkArr.length > 0 && blkArr[blkArr.length - 1] != null && isUnderConstruction()) {
    size+=getPreferredBlockSize() - blkArr[blkArr.length - 1].getNumBytes();
  }
  return size * getFileReplication();
}
