{
  Preconditions.checkState(!isWithStripedBlocks(),"Cannot set replication to a file with striped blocks");
  recordModification(latestSnapshotId);
  setFileReplication(replication);
  return this;
}
