{
  Preconditions.checkState(isUnderConstruction(),"file is no longer under construction");
  if (numBlocks() == 0) {
    throw new IOException("Failed to set last block: File is empty.");
  }
  lastBlock.convertToBlockUnderConstruction(BlockUCState.UNDER_CONSTRUCTION,locations);
}
