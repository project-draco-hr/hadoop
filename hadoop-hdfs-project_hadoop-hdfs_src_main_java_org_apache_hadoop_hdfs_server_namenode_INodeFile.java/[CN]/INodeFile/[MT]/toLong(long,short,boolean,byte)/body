{
  long h=0;
  if (preferredBlockSize == 0) {
    preferredBlockSize=PREFERRED_BLOCK_SIZE.BITS.getMin();
  }
  h=PREFERRED_BLOCK_SIZE.BITS.combine(preferredBlockSize,h);
  if (isStriped) {
    h=REPLICATION.BITS.combine(0L,h);
    h=IS_STRIPED.BITS.combine(1L,h);
  }
 else {
    h=REPLICATION.BITS.combine(replication,h);
    h=IS_STRIPED.BITS.combine(0L,h);
  }
  h=STORAGE_POLICY_ID.BITS.combine(storagePolicyID,h);
  return h;
}
