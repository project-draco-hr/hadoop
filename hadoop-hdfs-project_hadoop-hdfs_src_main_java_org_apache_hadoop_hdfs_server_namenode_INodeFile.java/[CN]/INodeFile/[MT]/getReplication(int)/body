{
  if (lastSnapshotId != CURRENT_STATE_ID) {
    return getFileReplication(lastSnapshotId);
  }
 else {
    return getBlockReplication();
  }
}
