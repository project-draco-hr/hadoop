{
  FileWithSnapshotFeature sf=getFileWithSnapshotFeature();
  if (sf != null) {
    sf.cleanFile(reclaimContext,this,snapshot,priorSnapshotId,getStoragePolicyID());
  }
 else {
    if (snapshot == CURRENT_STATE_ID) {
      if (priorSnapshotId == NO_SNAPSHOT_ID) {
        destroyAndCollectBlocks(reclaimContext);
      }
 else {
        FileUnderConstructionFeature uc=getFileUnderConstructionFeature();
        if (uc != null) {
          uc.cleanZeroSizeBlock(this,reclaimContext.collectedBlocks);
          if (reclaimContext.removedUCFiles != null) {
            reclaimContext.removedUCFiles.add(getId());
          }
        }
      }
    }
  }
}
