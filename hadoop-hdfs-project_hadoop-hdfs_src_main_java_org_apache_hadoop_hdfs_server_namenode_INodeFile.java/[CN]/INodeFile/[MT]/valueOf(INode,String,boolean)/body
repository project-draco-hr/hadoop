{
  if (inode == null) {
    if (acceptNull) {
      return null;
    }
 else {
      throw new FileNotFoundException("File does not exist: " + path);
    }
  }
  if (!inode.isFile()) {
    throw new FileNotFoundException("Path is not a file: " + path);
  }
  return inode.asFile();
}
