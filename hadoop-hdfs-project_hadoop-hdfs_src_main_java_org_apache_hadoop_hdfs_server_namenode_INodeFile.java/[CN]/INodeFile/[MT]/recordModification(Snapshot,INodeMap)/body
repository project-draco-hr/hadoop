{
  if (isInLatestSnapshot(latest)) {
    FileWithSnapshotFeature sf=this.getFileWithSnapshotFeature();
    if (sf == null) {
      sf=addSnapshotFeature(null);
    }
    if (!shouldRecordInSrcSnapshot(latest)) {
      sf.getDiffs().saveSelf2Snapshot(latest,this,null);
    }
  }
  return this;
}
