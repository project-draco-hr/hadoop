{
  Preconditions.checkState(isUnderConstruction(),"file is no longer under construction");
  FileUnderConstructionFeature uc=getFileUnderConstructionFeature();
  if (uc != null) {
    assertAllBlocksComplete(getBlocks());
    removeFeature(uc);
    this.setModificationTime(mtime);
  }
  return this;
}
