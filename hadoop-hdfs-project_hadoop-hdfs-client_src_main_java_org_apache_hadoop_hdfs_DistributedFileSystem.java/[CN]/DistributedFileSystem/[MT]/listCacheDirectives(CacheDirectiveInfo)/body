{
  if (filter == null) {
    filter=new CacheDirectiveInfo.Builder().build();
  }
  if (filter.getPath() != null) {
    filter=new CacheDirectiveInfo.Builder(filter).setPath(new Path(getPathName(fixRelativePart(filter.getPath())))).build();
  }
  final RemoteIterator<CacheDirectiveEntry> iter=dfs.listCacheDirectives(filter);
  return new RemoteIterator<CacheDirectiveEntry>(){
    @Override public boolean hasNext() throws IOException {
      return iter.hasNext();
    }
    @Override public CacheDirectiveEntry next() throws IOException {
      CacheDirectiveEntry desc=iter.next();
      CacheDirectiveInfo info=desc.getInfo();
      Path p=info.getPath().makeQualified(getUri(),getWorkingDirectory());
      return new CacheDirectiveEntry(new CacheDirectiveInfo.Builder(info).setPath(p).build(),desc.getStats());
    }
  }
;
}
