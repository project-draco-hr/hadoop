{
  Path fPart=path.getParent();
  do {
    try {
      FileStatus fileStatus=getFileStatus(fPart);
      if (fileStatus.isDirectory()) {
        break;
      }
 else {
        throw new FileAlreadyExistsException(String.format("Can't make directory for path '%s', it is a file.",fPart));
      }
    }
 catch (    FileNotFoundException fnfe) {
    }
    fPart=fPart.getParent();
  }
 while (fPart != null);
}
