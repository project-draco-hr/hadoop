{
  String nodeUpdatePath=getNodePath(rmAppRoot,appId.toString());
  if (LOG.isDebugEnabled()) {
    LOG.debug("Storing final state info for app: " + appId + " at: "+ nodeUpdatePath);
  }
  byte[] appStateData=appStateDataPB.getProto().toByteArray();
  if (zkClient.exists(nodeUpdatePath,true) != null) {
    setDataWithRetries(nodeUpdatePath,appStateData,-1);
  }
 else {
    createWithRetries(nodeUpdatePath,appStateData,zkAcl,CreateMode.PERSISTENT);
    LOG.info(appId + " znode didn't exist. Created a new znode to" + " update the application state.");
  }
}
