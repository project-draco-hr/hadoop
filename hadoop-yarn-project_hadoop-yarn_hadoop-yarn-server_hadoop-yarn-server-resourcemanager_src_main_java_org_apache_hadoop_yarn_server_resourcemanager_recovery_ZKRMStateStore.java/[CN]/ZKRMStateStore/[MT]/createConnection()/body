{
  CuratorFrameworkFactory.Builder builder=CuratorFrameworkFactory.builder();
  builder=builder.connectString(zkHostPort).connectionTimeoutMs(zkSessionTimeout).retryPolicy(new RetryNTimes(numRetries,zkRetryInterval));
  List<AuthInfo> authInfos=new ArrayList<>();
  for (  ZKUtil.ZKAuthInfo zkAuth : zkAuths) {
    authInfos.add(new AuthInfo(zkAuth.getScheme(),zkAuth.getAuth()));
  }
  if (useDefaultFencingScheme) {
    byte[] defaultFencingAuth=(zkRootNodeUsername + ":" + zkRootNodePassword).getBytes(Charset.forName("UTF-8"));
    authInfos.add(new AuthInfo(zkRootNodeAuthScheme,defaultFencingAuth));
  }
  builder=builder.authorization(authInfos);
  curatorFramework=builder.build();
  curatorFramework.start();
}
