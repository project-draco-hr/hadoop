{
  List<String> childNodes=getChildren(dtMasterKeysRootPath);
  for (  String childNodeName : childNodes) {
    String childNodePath=getNodePath(dtMasterKeysRootPath,childNodeName);
    byte[] childData=getData(childNodePath);
    if (childData == null) {
      LOG.warn("Content of " + childNodePath + " is broken.");
      continue;
    }
    ByteArrayInputStream is=new ByteArrayInputStream(childData);
    try (DataInputStream fsIn=new DataInputStream(is)){
      if (childNodeName.startsWith(DELEGATION_KEY_PREFIX)) {
        DelegationKey key=new DelegationKey();
        key.readFields(fsIn);
        rmState.rmSecretManagerState.masterKeyState.add(key);
        if (LOG.isDebugEnabled()) {
          LOG.debug("Loaded delegation key: keyId=" + key.getKeyId() + ", expirationDate="+ key.getExpiryDate());
        }
      }
    }
   }
}
