{
  NodeId nodeId=node.getRMNode().getNodeID();
  ContainerId containerId=BuilderUtils.newContainerId(application.getApplicationAttemptId(),application.getNewContainerId());
  ContainerToken containerToken=containerTokenSecretManager.createContainerToken(containerId,nodeId,application.getUser(),capability);
  if (containerToken == null) {
    return null;
  }
  Container container=BuilderUtils.newContainer(containerId,nodeId,node.getRMNode().getHttpAddress(),capability,priority,containerToken,ResourceManager.clusterTimeStamp);
  return container;
}
