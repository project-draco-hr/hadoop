{
  LOG.info("Making reservation: node=" + node.getNodeName() + " app_id="+ app.getApplicationId());
  if (!alreadyReserved) {
    getMetrics().reserveResource(app.getUser(),container.getResource());
    RMContainer rmContainer=app.reserve(node,priority,null,container);
    node.reserveResource(app,priority,rmContainer);
    getMetrics().reserveResource(app.getUser(),container.getResource());
    scheduler.getRootQueueMetrics().reserveResource(app.getUser(),container.getResource());
  }
 else {
    RMContainer rmContainer=node.getReservedContainer();
    app.reserve(node,priority,rmContainer,container);
    node.reserveResource(app,priority,rmContainer);
  }
}
