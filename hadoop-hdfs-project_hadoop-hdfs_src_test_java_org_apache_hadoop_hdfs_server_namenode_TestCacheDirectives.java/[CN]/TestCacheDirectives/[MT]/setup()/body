{
  conf=new HdfsConfiguration();
  conf.setInt(DFSConfigKeys.DFS_NAMENODE_LIST_CACHE_POOLS_NUM_RESPONSES,2);
  conf.setInt(DFSConfigKeys.DFS_NAMENODE_LIST_CACHE_DIRECTIVES_NUM_RESPONSES,2);
  cluster=new MiniDFSCluster.Builder(conf).numDataNodes(1).build();
  cluster.waitActive();
  dfs=cluster.getFileSystem();
  proto=cluster.getNameNodeRpc();
  prevCacheManipulator=NativeIO.POSIX.getCacheManipulator();
  NativeIO.POSIX.setCacheManipulator(new NoMlockCacheManipulator());
  LogManager.getLogger(CacheReplicationMonitor.class).setLevel(Level.TRACE);
}
