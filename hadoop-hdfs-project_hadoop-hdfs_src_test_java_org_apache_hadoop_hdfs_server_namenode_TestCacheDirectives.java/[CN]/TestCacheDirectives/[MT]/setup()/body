{
  conf=createCachingConf();
  cluster=new MiniDFSCluster.Builder(conf).numDataNodes(NUM_DATANODES).build();
  cluster.waitActive();
  dfs=cluster.getFileSystem();
  proto=cluster.getNameNodeRpc();
  namenode=cluster.getNameNode();
  prevCacheManipulator=NativeIO.POSIX.getCacheManipulator();
  NativeIO.POSIX.setCacheManipulator(new NoMlockCacheManipulator());
  LogManager.getLogger(CacheReplicationMonitor.class.getName()).setLevel(Level.TRACE);
  LogManager.getLogger(CacheManager.class.getName()).setLevel(Level.TRACE);
}
