{
  File testDir=new File(TEST_DIR,"testValidateEditLogWithCorruptHeader");
  SortedMap<Long,Long> offsetToTxId=Maps.newTreeMap();
  File logFile=prepareUnfinalizedTestEditLog(testDir,2,offsetToTxId);
  RandomAccessFile rwf=new RandomAccessFile(logFile,"rw");
  try {
    rwf.seek(0);
    rwf.writeLong(42);
  }
  finally {
    rwf.close();
  }
  EditLogValidation validation=EditLogFileInputStream.validateEditLog(logFile,Long.MAX_VALUE);
  assertTrue(validation.hasCorruptHeader());
}
