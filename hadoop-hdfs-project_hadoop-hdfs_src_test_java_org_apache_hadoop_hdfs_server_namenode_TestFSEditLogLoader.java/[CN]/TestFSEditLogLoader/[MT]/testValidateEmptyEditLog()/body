{
  File testDir=new File(TEST_DIR,"testValidateEmptyEditLog");
  SortedMap<Long,Long> offsetToTxId=Maps.newTreeMap();
  File logFile=prepareUnfinalizedTestEditLog(testDir,0,offsetToTxId);
  truncateFile(logFile,8);
  EditLogValidation validation=EditLogFileInputStream.validateEditLog(logFile);
  assertTrue(!validation.hasCorruptHeader());
  assertEquals(HdfsConstants.INVALID_TXID,validation.getEndTxId());
}
