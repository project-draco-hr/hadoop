{
  for (  AccessTokenHandler.AccessMode mode : AccessTokenHandler.AccessMode.values()) {
    AccessToken token1=master.generateToken(blockID1,EnumSet.of(mode));
    assertTrue(master.checkAccess(token1,null,blockID1,mode));
    assertTrue(slave.checkAccess(token1,null,blockID1,mode));
    AccessToken token2=slave.generateToken(blockID2,EnumSet.of(mode));
    assertTrue(master.checkAccess(token2,null,blockID2,mode));
    assertTrue(slave.checkAccess(token2,null,blockID2,mode));
  }
  AccessToken mtoken=master.generateToken(blockID3,EnumSet.allOf(AccessTokenHandler.AccessMode.class));
  for (  AccessTokenHandler.AccessMode mode : AccessTokenHandler.AccessMode.values()) {
    assertTrue(master.checkAccess(mtoken,null,blockID3,mode));
    assertTrue(slave.checkAccess(mtoken,null,blockID3,mode));
  }
}
