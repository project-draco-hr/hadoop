{
  ensureInitialized();
  if (Shell.WINDOWS) {
    String owner=Windows.getOwner(fd);
    int i=owner.indexOf('\\');
    if (i != -1)     owner=owner.substring(i + 1);
    return owner;
  }
 else {
    long uid=POSIX.getUIDforFDOwnerforOwner(fd);
    CachedUid cUid=uidCache.get(uid);
    long now=System.currentTimeMillis();
    if (cUid != null && (cUid.timestamp + cacheTimeout) > now) {
      return cUid.username;
    }
    String user=POSIX.getUserName(uid);
    LOG.info("Got UserName " + user + " for UID "+ uid+ " from the native implementation");
    cUid=new CachedUid(user,now);
    uidCache.put(uid,cUid);
    return user;
  }
}
