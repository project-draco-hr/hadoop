{
  if (nativeLoaded && Shell.WINDOWS) {
    copyFileUnbuffered0(src.getAbsolutePath(),dst.getAbsolutePath());
  }
 else {
    FileInputStream fis=null;
    FileOutputStream fos=null;
    FileChannel input=null;
    FileChannel output=null;
    try {
      fis=new FileInputStream(src);
      fos=new FileOutputStream(dst);
      input=fis.getChannel();
      output=fos.getChannel();
      long remaining=input.size();
      long position=0;
      long transferred=0;
      while (remaining > 0) {
        transferred=input.transferTo(position,remaining,output);
        remaining-=transferred;
        position+=transferred;
      }
    }
  finally {
      IOUtils.cleanup(LOG,output);
      IOUtils.cleanup(LOG,fos);
      IOUtils.cleanup(LOG,input);
      IOUtils.cleanup(LOG,fis);
    }
  }
}
