{
  if (!Shell.WINDOWS) {
    RandomAccessFile rf=new RandomAccessFile(f,"r");
    if (seekOffset > 0) {
      rf.seek(seekOffset);
    }
    return new FileInputStream(rf.getFD());
  }
 else {
    FileDescriptor fd=NativeIO.Windows.createFile(f.getAbsolutePath(),NativeIO.Windows.GENERIC_READ,NativeIO.Windows.FILE_SHARE_READ | NativeIO.Windows.FILE_SHARE_WRITE | NativeIO.Windows.FILE_SHARE_DELETE,NativeIO.Windows.OPEN_EXISTING);
    if (seekOffset > 0)     NativeIO.Windows.setFilePointer(fd,seekOffset,NativeIO.Windows.FILE_BEGIN);
    return new FileInputStream(fd);
  }
}
