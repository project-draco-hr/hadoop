{
  long headerLen=getHeaderLength();
  if (byteAm < headerLen) {
    return new GenerateOutput(0,0);
  }
  byteAm-=headerLen;
  if (byteAm < 0) {
    byteAm=0;
  }
  WriteInfo header=writeHeader(out,byteAm);
  DataHasher hasher=new DataHasher(header.getHashValue());
  GenerateOutput pRes=writePieces(byteAm,0,hasher,out);
  long bytesWritten=pRes.getBytesWritten() + header.getBytesWritten();
  long timeTaken=header.getTimeTaken() + pRes.getTimeTaken();
  return new GenerateOutput(bytesWritten,timeTaken);
}
