{
  sendBuf.reset();
  recvBuf.reset();
  Sender.opWriteBlock(sendOut,block,0,stage,newGS,block.getNumBytes(),block.getNumBytes(),"cl",null,new DatanodeInfo[1],BlockTokenSecretManager.DUMMY_TOKEN);
  if (eofExcepted) {
    sendResponse(Status.ERROR,null,recvOut);
    sendRecvData(description,true);
  }
 else   if (stage == BlockConstructionStage.PIPELINE_CLOSE_RECOVERY) {
    sendResponse(Status.SUCCESS,"",recvOut);
    sendRecvData(description,false);
  }
 else {
    writeZeroLengthPacket(block,description);
  }
}
