{
  RMNodeImpl node=getDecommissioningNode();
  Assert.assertEquals(NodeState.DECOMMISSIONING,node.getState());
  RMNodeStatusEvent statusEvent=getMockRMNodeStatusEventWithRunningApps();
  node.handle(statusEvent);
  Assert.assertEquals(NodeState.DECOMMISSIONING,node.getState());
  statusEvent=getMockRMNodeStatusEventWithoutRunningApps();
  node.handle(statusEvent);
  Assert.assertEquals(NodeState.DECOMMISSIONED,node.getState());
}
