{
  RMNodeImpl node=getRunningNode();
  Resource oldCapacity=node.getTotalCapability();
  assertEquals("Memory resource is not match.",oldCapacity.getMemory(),4096);
  assertEquals("CPU resource is not match.",oldCapacity.getVirtualCores(),4);
  node.handle(new RMNodeResourceUpdateEvent(node.getNodeID(),ResourceOption.newInstance(Resource.newInstance(2048,2),ResourceOption.OVER_COMMIT_TIMEOUT_MILLIS_DEFAULT)));
  Resource newCapacity=node.getTotalCapability();
  assertEquals("Memory resource is not match.",newCapacity.getMemory(),2048);
  assertEquals("CPU resource is not match.",newCapacity.getVirtualCores(),2);
  Assert.assertEquals(NodeState.RUNNING,node.getState());
  Assert.assertNotNull(nodesListManagerEvent);
  Assert.assertEquals(NodesListManagerEventType.NODE_USABLE,nodesListManagerEvent.getType());
}
