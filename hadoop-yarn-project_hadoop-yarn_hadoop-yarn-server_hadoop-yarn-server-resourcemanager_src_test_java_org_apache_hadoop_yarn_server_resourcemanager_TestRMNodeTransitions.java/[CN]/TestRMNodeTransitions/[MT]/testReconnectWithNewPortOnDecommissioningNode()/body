{
  RMNodeImpl node=getDecommissioningNode();
  Random r=new Random();
  node.setHttpPort(r.nextInt(10000));
  node.handle(new RMNodeReconnectEvent(node.getNodeID(),node,getAppIdList(),null));
  Assert.assertEquals(NodeState.DECOMMISSIONING,node.getState());
  node.setHttpPort(r.nextInt(10000));
  node.handle(new RMNodeReconnectEvent(node.getNodeID(),node,null,null));
  Assert.assertEquals(NodeState.DECOMMISSIONED,node.getState());
}
