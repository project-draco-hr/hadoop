{
  Block[] timedOutItems=pendingReplications.getTimedOutBlocks();
  if (timedOutItems != null) {
    namesystem.writeLock();
    try {
      for (int i=0; i < timedOutItems.length; i++) {
        NumberReplicas num=countNodes(timedOutItems[i]);
        if (isNeededReplication(timedOutItems[i],getReplication(timedOutItems[i]),num.liveReplicas())) {
          neededReplications.add(timedOutItems[i],num.liveReplicas(),num.decommissionedReplicas(),getReplication(timedOutItems[i]));
        }
      }
    }
  finally {
      namesystem.writeUnlock();
    }
  }
}
