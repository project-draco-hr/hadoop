{
  Map<String,String> conf=new HashMap<String,String>();
  conf.put(CrossOriginFilter.ALLOWED_ORIGINS,"example.com");
  FilterConfig filterConfig=new FilterConfigTest(conf);
  HttpServletRequest mockReq=mock(HttpServletRequest.class);
  when(mockReq.getHeader(CrossOriginFilter.ORIGIN)).thenReturn("example.com");
  when(mockReq.getHeader(CrossOriginFilter.ACCESS_CONTROL_REQUEST_METHOD)).thenReturn("GET");
  when(mockReq.getHeader(CrossOriginFilter.ACCESS_CONTROL_REQUEST_HEADERS)).thenReturn("Disallowed-Header");
  HttpServletResponse mockRes=mock(HttpServletResponse.class);
  FilterChain mockChain=mock(FilterChain.class);
  CrossOriginFilter filter=new CrossOriginFilter();
  filter.init(filterConfig);
  filter.doFilter(mockReq,mockRes,mockChain);
  verifyZeroInteractions(mockRes);
  verify(mockChain).doFilter(mockReq,mockRes);
}
