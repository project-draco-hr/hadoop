{
  if (isLegacyHostsFile) {
    DFSTestUtil.writeFile(localFileSys,excludeFile,hostNameAndPort);
  }
 else {
    DatanodeAdminProperties dn=new DatanodeAdminProperties();
    String[] hostAndPort=hostNameAndPort.split(":");
    dn.setHostName(hostAndPort[0]);
    dn.setPort(Integer.parseInt(hostAndPort[1]));
    dn.setAdminState(AdminStates.DECOMMISSIONED);
    HashSet<DatanodeAdminProperties> allDNs=new HashSet<>();
    allDNs.add(dn);
    CombinedHostsFileWriter.writeFile(combinedFile.toString(),allDNs);
  }
}
