{
  Path testDir=qualifiedPath("test/hadoop",fc2);
  Assert.assertFalse(fc2.exists(testDir));
  fc2.mkdir(testDir,FsPermission.getDefault(),true);
  Assert.assertTrue(fc2.exists(testDir));
  createFile(fc1,qualifiedPath("test/hadoop/file",fc2));
  Path testSubDir=qualifiedPath("test/hadoop/file/subdir",fc2);
  try {
    fc1.mkdir(testSubDir,FsPermission.getDefault(),true);
    Assert.fail("Should throw IOException.");
  }
 catch (  IOException e) {
  }
  Assert.assertFalse(fc1.exists(testSubDir));
  Path testDeepSubDir=qualifiedPath("test/hadoop/file/deep/sub/dir",fc1);
  try {
    fc2.mkdir(testDeepSubDir,FsPermission.getDefault(),true);
    Assert.fail("Should throw IOException.");
  }
 catch (  IOException e) {
  }
  Assert.assertFalse(fc1.exists(testDeepSubDir));
}
