{
  Path testDir=qualifiedPath("test/hadoop",fc2);
  Assert.assertFalse(exists(fc2,testDir));
  fc2.mkdir(testDir,FsPermission.getDefault(),true);
  Assert.assertTrue(exists(fc2,testDir));
  createFile(fc1,qualifiedPath("test/hadoop/file",fc2));
  Path testSubDir=qualifiedPath("test/hadoop/file/subdir",fc2);
  try {
    fc1.mkdir(testSubDir,FsPermission.getDefault(),true);
    Assert.fail("Should throw IOException.");
  }
 catch (  IOException e) {
  }
  Assert.assertFalse(exists(fc1,testSubDir));
  Path testDeepSubDir=qualifiedPath("test/hadoop/file/deep/sub/dir",fc1);
  try {
    fc2.mkdir(testDeepSubDir,FsPermission.getDefault(),true);
    Assert.fail("Should throw IOException.");
  }
 catch (  IOException e) {
  }
  Assert.assertFalse(exists(fc1,testDeepSubDir));
}
