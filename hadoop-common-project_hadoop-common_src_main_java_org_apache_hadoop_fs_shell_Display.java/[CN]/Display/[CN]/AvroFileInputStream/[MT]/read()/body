{
  if (pos < buffer.length) {
    return buffer[pos++];
  }
  if (!fileReader.hasNext()) {
    return -1;
  }
  writer.write(fileReader.next(),encoder);
  encoder.flush();
  if (!fileReader.hasNext()) {
    output.write(System.getProperty("line.separator").getBytes(StandardCharsets.UTF_8));
    output.flush();
  }
  pos=0;
  buffer=output.toByteArray();
  output.reset();
  return read();
}
