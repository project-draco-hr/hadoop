{
  Map<String,Map<Resource,ResourceRequest>> remoteRequests=this.remoteRequestsTable.get(priority);
  Map<Resource,ResourceRequest> reqMap=remoteRequests.get(resourceName);
  ResourceRequest remoteRequest=reqMap.get(capability);
  LOG.info("BEFORE decResourceRequest:" + " applicationId=" + applicationId.getId() + " priority="+ priority.getPriority()+ " resourceName="+ resourceName+ " numContainers="+ remoteRequest.getNumContainers()+ " #asks="+ ask.size());
  remoteRequest.setNumContainers(remoteRequest.getNumContainers() - 1);
  if (remoteRequest.getNumContainers() == 0) {
    reqMap.remove(capability);
    if (reqMap.size() == 0) {
      remoteRequests.remove(resourceName);
    }
    if (remoteRequests.size() == 0) {
      remoteRequestsTable.remove(priority);
    }
    ask.remove(remoteRequest);
  }
 else {
    ask.add(remoteRequest);
  }
  LOG.info("AFTER decResourceRequest:" + " applicationId=" + applicationId.getId() + " priority="+ priority.getPriority()+ " resourceName="+ resourceName+ " numContainers="+ remoteRequest.getNumContainers()+ " #asks="+ ask.size());
}
