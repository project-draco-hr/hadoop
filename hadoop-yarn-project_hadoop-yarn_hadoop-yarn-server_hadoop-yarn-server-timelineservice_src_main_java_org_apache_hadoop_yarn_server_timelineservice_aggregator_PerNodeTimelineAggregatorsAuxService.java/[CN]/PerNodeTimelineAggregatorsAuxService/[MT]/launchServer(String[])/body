{
  Thread.setDefaultUncaughtExceptionHandler(new YarnUncaughtExceptionHandler());
  StringUtils.startupShutdownMessage(PerNodeTimelineAggregatorsAuxService.class,args,LOG);
  PerNodeTimelineAggregatorsAuxService auxService=null;
  try {
    auxService=new PerNodeTimelineAggregatorsAuxService();
    ShutdownHookManager.get().addShutdownHook(new ShutdownHook(auxService),SHUTDOWN_HOOK_PRIORITY);
    YarnConfiguration conf=new YarnConfiguration();
    auxService.init(conf);
    auxService.start();
  }
 catch (  Throwable t) {
    LOG.fatal("Error starting PerNodeAggregatorServer",t);
    ExitUtil.terminate(-1,"Error starting PerNodeAggregatorServer");
  }
  return auxService;
}
