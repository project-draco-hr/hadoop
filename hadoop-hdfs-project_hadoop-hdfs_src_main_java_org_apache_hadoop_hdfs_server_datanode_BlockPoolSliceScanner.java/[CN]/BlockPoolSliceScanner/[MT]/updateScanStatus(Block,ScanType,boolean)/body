{
  BlockScanInfo info=blockMap.get(block);
  if (info != null) {
    delBlockInfo(info);
  }
 else {
    info=new BlockScanInfo(block);
  }
  long now=Time.monotonicNow();
  info.lastScanType=type;
  info.lastScanTime=now;
  info.lastScanOk=scanOk;
  addBlockInfo(info);
  if (!scanOk) {
    return;
  }
  if (verificationLog != null) {
    verificationLog.append(now,block.getGenerationStamp(),block.getBlockId());
  }
}
