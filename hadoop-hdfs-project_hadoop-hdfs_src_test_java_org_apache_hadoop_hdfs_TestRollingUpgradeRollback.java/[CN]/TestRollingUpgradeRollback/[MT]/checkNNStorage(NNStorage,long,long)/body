{
  List<File> finalizedEdits=storage.getFiles(NNStorage.NameNodeDirType.EDITS,NNStorage.getFinalizedEditsFileName(1,imageTxId));
  Assert.assertTrue(fileExists(finalizedEdits));
  List<File> inprogressEdits=storage.getFiles(NNStorage.NameNodeDirType.EDITS,NNStorage.getInProgressEditsFileName(imageTxId + 1));
  Assert.assertTrue(fileExists(inprogressEdits));
  if (trashEndTxId > 0) {
    List<File> trashedEdits=storage.getFiles(NNStorage.NameNodeDirType.EDITS,NNStorage.getFinalizedEditsFileName(imageTxId + 1,trashEndTxId) + ".trash");
    Assert.assertTrue(fileExists(trashedEdits));
  }
  String imageFileName=trashEndTxId > 0 ? NNStorage.getImageFileName(imageTxId) : NNStorage.getRollbackImageFileName(imageTxId);
  List<File> imageFiles=storage.getFiles(NNStorage.NameNodeDirType.IMAGE,imageFileName);
  Assert.assertTrue(fileExists(imageFiles));
}
