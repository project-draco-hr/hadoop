{
  INode node=fsdir.getINode(dirPath.toString());
  assertTrue(node.isDirectory() && node.isQuotaSet());
  INodeDirectoryWithQuota dirNode=(INodeDirectoryWithQuota)node;
  assertEquals(dirNode.dumpTreeRecursively().toString(),expectedNs,dirNode.getNamespace());
  assertEquals(dirNode.dumpTreeRecursively().toString(),expectedDs,dirNode.getDiskspace());
  Quota.Counts counts=Quota.Counts.newInstance();
  dirNode.computeQuotaUsage(counts,false);
  assertEquals(dirNode.dumpTreeRecursively().toString(),expectedNs,counts.get(Quota.NAMESPACE));
  assertEquals(dirNode.dumpTreeRecursively().toString(),expectedDs,counts.get(Quota.DISKSPACE));
}
