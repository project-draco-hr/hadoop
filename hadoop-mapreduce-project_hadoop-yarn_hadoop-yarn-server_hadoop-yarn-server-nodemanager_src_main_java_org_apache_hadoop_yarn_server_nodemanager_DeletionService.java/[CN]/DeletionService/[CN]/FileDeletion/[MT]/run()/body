{
  if (null == user) {
    if (baseDirs == null || baseDirs.length == 0) {
      LOG.debug("NM deleting absolute path : " + subDir);
      try {
        lfs.delete(subDir,true);
      }
 catch (      IOException e) {
        LOG.warn("Failed to delete " + subDir);
      }
      return;
    }
    for (    Path baseDir : baseDirs) {
      Path del=subDir == null ? baseDir : new Path(baseDir,subDir);
      LOG.debug("NM deleting path : " + del);
      try {
        lfs.delete(del,true);
      }
 catch (      IOException e) {
        LOG.warn("Failed to delete " + subDir);
      }
    }
  }
 else {
    try {
      exec.deleteAsUser(user,subDir,baseDirs);
    }
 catch (    IOException e) {
      LOG.warn("Failed to delete as user " + user,e);
    }
catch (    InterruptedException e) {
      LOG.warn("Failed to delete as user " + user,e);
    }
  }
}
