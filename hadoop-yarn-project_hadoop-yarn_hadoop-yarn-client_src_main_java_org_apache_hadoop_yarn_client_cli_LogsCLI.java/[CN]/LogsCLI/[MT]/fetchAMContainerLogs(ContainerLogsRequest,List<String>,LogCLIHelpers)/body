{
  List<String> logFiles=request.getLogTypes();
  if (logFiles == null || logFiles.isEmpty()) {
    logFiles=Arrays.asList("syslog");
  }
  request.setLogTypes(logFiles);
  if (!request.isAppFinished()) {
    return printAMContainerLogs(getConf(),request,amContainersList,logCliHelper);
  }
 else {
    if (getConf().getBoolean(YarnConfiguration.APPLICATION_HISTORY_ENABLED,YarnConfiguration.DEFAULT_APPLICATION_HISTORY_ENABLED)) {
      return printAMContainerLogs(getConf(),request,amContainersList,logCliHelper);
    }
 else {
      ApplicationId appId=request.getAppId();
      String appOwner=request.getAppOwner();
      System.err.println("Can not get AMContainers logs for " + "the application:" + appId + " with the appOwner:"+ appOwner);
      System.err.println("This application:" + appId + " has finished."+ " Please enable the application-history service or explicitly"+ " use 'yarn logs -applicationId <appId> "+ "-containerId <containerId> --nodeAddress <nodeHttpAddress>' "+ "to get the container logs.");
      return -1;
    }
  }
}
