{
  if (logFiles == null || logFiles.length == 0) {
    logFiles=new String[]{"syslog"};
  }
  if (appState == YarnApplicationState.ACCEPTED || appState == YarnApplicationState.RUNNING) {
    return printAMContainerLogs(getConf(),appId.toString(),amContainersList,logFiles,logCliHelper,appOwner,false);
  }
 else {
    if (getConf().getBoolean(YarnConfiguration.APPLICATION_HISTORY_ENABLED,YarnConfiguration.DEFAULT_APPLICATION_HISTORY_ENABLED)) {
      return printAMContainerLogs(getConf(),appId.toString(),amContainersList,logFiles,logCliHelper,appOwner,true);
    }
 else {
      System.err.println("Can not get AMContainers logs for " + "the application:" + appId + " with the appOwner:"+ appOwner);
      System.err.println("This application:" + appId + " has finished."+ " Please enable the application-history service or explicitly"+ " use 'yarn logs -applicationId <appId> "+ "-containerId <containerId> --nodeAddress <nodeHttpAddress>' "+ "to get the container logs.");
      return -1;
    }
  }
}
