{
  String nodeHttpAddress=request.getNodeHttpAddress();
  String containerId=request.getContainerId();
  String nodeId=request.getNodeId();
  if (request.isAppFinished()) {
    if (containerId != null && !containerId.isEmpty()) {
      if (nodeId == null || nodeId.isEmpty()) {
        try {
          nodeId=getContainerReport(containerId).getAssignedNode().toString();
          request.setNodeId(nodeId);
        }
 catch (        Exception ex) {
          System.err.println(ex);
          nodeId=null;
        }
      }
      if (nodeId != null && !nodeId.isEmpty()) {
        String[] requestedLogFilesList=null;
        if (!fetchAllLogFiles(logFiles)) {
          requestedLogFilesList=logFiles;
        }
        printContainerLogsForFinishedApplication(request,requestedLogFilesList,logCliHelper,localDir);
      }
    }
  }
 else {
    if (nodeHttpAddress != null && containerId != null && !nodeHttpAddress.isEmpty() && !containerId.isEmpty()) {
      String[] requestedLogFiles=logFiles;
      if (fetchAllLogFiles(logFiles)) {
        requestedLogFiles=getContainerLogFiles(getConf(),containerId,nodeHttpAddress);
      }
      printContainerLogsFromRunningApplication(conf,request,requestedLogFiles,logCliHelper,localDir);
    }
  }
}
