{
  String nodeHttpAddress=request.getNodeHttpAddress();
  String containerId=request.getAmContainerId();
  String nodeId=request.getNodeId();
  if (request.isAppFinished()) {
    if (containerId != null && !containerId.isEmpty()) {
      if (nodeId == null || nodeId.isEmpty()) {
        try {
          nodeId=getContainerReport(containerId).getAssignedNode().toString();
        }
 catch (        Exception ex) {
          System.err.println(ex);
          nodeId=null;
        }
      }
      if (nodeId != null && !nodeId.isEmpty()) {
        printContainerLogsForFinishedApplication(appId,containerId,nodeId,logFiles,logCliHelper,appOwner);
      }
    }
  }
 else {
    if (nodeHttpAddress != null && containerId != null && !nodeHttpAddress.isEmpty() && !containerId.isEmpty()) {
      printContainerLogsFromRunningApplication(conf,appId,containerId,nodeHttpAddress,nodeId,logFiles,logCliHelper,appOwner);
    }
  }
}
