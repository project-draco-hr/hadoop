{
  StartedContainer startingContainer=createStartedContainer(container);
synchronized (startingContainer) {
    addStartingContainer(startingContainer);
    Map<String,ByteBuffer> allServiceResponse;
    ContainerManagementProtocolProxyData proxy=null;
    try {
      proxy=cmProxy.getProxy(container.getNodeId().toString(),container.getId());
      allServiceResponse=proxy.getContainerManagementProtocol().startContainer(StartContainerRequest.newInstance(containerLaunchContext,container.getContainerToken())).getAllServicesMetaData();
      startingContainer.state=ContainerState.RUNNING;
    }
 catch (    YarnException e) {
      startingContainer.state=ContainerState.COMPLETE;
      removeStartedContainer(startingContainer);
      throw e;
    }
catch (    IOException e) {
      startingContainer.state=ContainerState.COMPLETE;
      removeStartedContainer(startingContainer);
      throw e;
    }
catch (    Throwable t) {
      startingContainer.state=ContainerState.COMPLETE;
      removeStartedContainer(startingContainer);
      throw RPCUtil.getRemoteException(t);
    }
 finally {
      if (proxy != null) {
        cmProxy.mayBeCloseProxy(proxy);
      }
    }
    return allServiceResponse;
  }
}
