{
  long possiblyCompressedInputBytes=100000;
  float compressionRatio=0.45F;
  Configuration conf=new Configuration();
  CompressionEmulationUtil.setMapInputCompressionEmulationRatio(conf,compressionRatio);
  long result=CompressionEmulationUtil.getUncompressedInputBytes(possiblyCompressedInputBytes,conf);
  assertEquals(possiblyCompressedInputBytes,result);
  CompressionEmulationUtil.setInputCompressionEmulationEnabled(conf,true);
  result=CompressionEmulationUtil.getUncompressedInputBytes(possiblyCompressedInputBytes,conf);
  assertEquals((long)(possiblyCompressedInputBytes / compressionRatio),result);
}
