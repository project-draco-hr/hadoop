{
  bitSet.clear();
  long initialBits=WritableUtils.readVLong(stream);
  long last=0L;
  while (0L != initialBits) {
    last=Long.lowestOneBit(initialBits);
    initialBits^=last;
    bitSet.set(Long.numberOfTrailingZeros(last));
  }
  for (int offset=Long.SIZE; offset < nbits; offset+=Byte.SIZE) {
    byte bits=stream.readByte();
    while (0 != bits) {
      last=Long.lowestOneBit(bits);
      bits^=last;
      bitSet.set(Long.numberOfTrailingZeros(last) + offset);
    }
  }
}
