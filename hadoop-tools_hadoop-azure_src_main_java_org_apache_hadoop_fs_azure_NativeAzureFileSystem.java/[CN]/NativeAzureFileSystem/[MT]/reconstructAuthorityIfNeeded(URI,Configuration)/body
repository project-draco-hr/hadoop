{
  if (null == uri.getAuthority()) {
    URI defaultUri=FileSystem.getDefaultUri(conf);
    if (defaultUri != null && isWasbScheme(defaultUri.getScheme())) {
      try {
        return new URI(uri.getScheme(),defaultUri.getAuthority(),uri.getPath(),uri.getQuery(),uri.getFragment());
      }
 catch (      URISyntaxException e) {
        throw new Error("Bad URI construction",e);
      }
    }
  }
  return uri;
}
