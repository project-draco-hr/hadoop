{
  if (isClosed) {
    return;
  }
  super.close();
  store.close();
  long startTime=System.currentTimeMillis();
  if (!getConf().getBoolean(SKIP_AZURE_METRICS_PROPERTY_NAME,false)) {
    AzureFileSystemMetricsSystem.unregisterSource(metricsSourceName);
    AzureFileSystemMetricsSystem.fileSystemClosed();
  }
  LOG.debug("Submitting metrics when file system closed took {} ms.",(System.currentTimeMillis() - startTime));
  isClosed=true;
}
