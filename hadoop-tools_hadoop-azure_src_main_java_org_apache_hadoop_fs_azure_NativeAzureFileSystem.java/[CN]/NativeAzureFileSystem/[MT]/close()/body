{
  if (isClosed) {
    return;
  }
  super.close();
  store.close();
  long startTime=System.currentTimeMillis();
  if (!getConf().getBoolean(SKIP_AZURE_METRICS_PROPERTY_NAME,false)) {
    AzureFileSystemMetricsSystem.unregisterSource(metricsSourceName);
    AzureFileSystemMetricsSystem.fileSystemClosed();
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Submitting metrics when file system closed took " + (System.currentTimeMillis() - startTime) + " ms.");
  }
  isClosed=true;
}
