{
  return new ContainerLauncherImpl(context){
    @Override public ContainerManagementProtocolProxyData getCMProxy(    String containerMgrBindAddr,    ContainerId containerId) throws IOException {
      Token dummyToken=Token.newInstance("NMTokenIdentifier".getBytes(),NMTokenIdentifier.KIND.toString(),"password".getBytes(),"NMToken");
      ContainerManagementProtocolProxy cmProxy=new ContainerManagementProtocolProxy(conf,context.getNMTokens());
      InetSocketAddress addr=NetUtils.getConnectAddress(server);
      ContainerManagementProtocolProxyData proxy=cmProxy.new ContainerManagementProtocolProxyData(YarnRPC.create(conf),addr.getHostName() + ":" + addr.getPort(),containerId,dummyToken);
      return proxy;
    }
  }
;
}
