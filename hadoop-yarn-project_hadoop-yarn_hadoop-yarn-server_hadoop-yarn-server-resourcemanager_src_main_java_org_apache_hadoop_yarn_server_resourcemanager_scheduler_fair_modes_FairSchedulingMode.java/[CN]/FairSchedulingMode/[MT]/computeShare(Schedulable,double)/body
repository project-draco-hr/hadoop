{
  double share=sched.getWeight() * r2sRatio;
  share=Math.max(share,sched.getMinShare().getMemory());
  share=Math.min(share,sched.getDemand().getMemory());
  return Resources.createResource((int)share);
}
