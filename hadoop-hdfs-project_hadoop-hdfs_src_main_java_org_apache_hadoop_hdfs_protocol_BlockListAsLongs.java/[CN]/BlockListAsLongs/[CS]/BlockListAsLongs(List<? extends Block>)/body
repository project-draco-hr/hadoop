{
  int finalizedSize=blocks == null ? 0 : blocks.size();
  int len=HEADER_SIZE + (finalizedSize + 1) * LONGS_PER_FINALIZED_BLOCK;
  blockList=new long[len];
  blockList[0]=finalizedSize;
  blockList[1]=0;
  for (int i=0; i < finalizedSize; i++) {
    setBlock(i,blocks.get(i));
  }
  setDelimitingBlock(finalizedSize);
}
