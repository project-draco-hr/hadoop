{
  CodedInputStream cis=CodedInputStream.newInstance(is);
  if (maxDataLength != IPC_MAXIMUM_DATA_LENGTH_DEFAULT) {
    cis.setSizeLimit(maxDataLength);
  }
  int numBlocks=-1;
  ByteString blocksBuf=null;
  while (!cis.isAtEnd()) {
    int tag=cis.readTag();
    int field=WireFormat.getTagFieldNumber(tag);
switch (field) {
case 0:
      break;
case 1:
    numBlocks=(int)cis.readInt32();
  break;
case 2:
blocksBuf=cis.readBytes();
break;
default :
cis.skipField(tag);
break;
}
}
if (numBlocks != -1 && blocksBuf != null) {
return decodeBuffer(numBlocks,blocksBuf,maxDataLength);
}
return null;
}
