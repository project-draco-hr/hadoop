{
  FSNamesystem ns=namenode.getNamesystem();
  ns.readLock();
  int[] r={ns.blockManager.getNumberOfRacks(b),ns.blockManager.countNodes(b).liveReplicas(),ns.blockManager.neededReplications.contains(b) ? 1 : 0};
  ns.readUnlock();
  return r;
}
