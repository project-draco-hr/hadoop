{
  conf.setQueues(CapacitySchedulerConfiguration.ROOT,new String[]{newRoot});
  conf.setMaximumCapacity(CapacitySchedulerConfiguration.ROOT,100);
  conf.setAcl(CapacitySchedulerConfiguration.ROOT,QueueACL.SUBMIT_APPLICATIONS," ");
  final String Q_newRoot=CapacitySchedulerConfiguration.ROOT + "." + newRoot;
  conf.setQueues(Q_newRoot,new String[]{A});
  conf.setCapacity(Q_newRoot,100);
  conf.setMaximumCapacity(Q_newRoot,100);
  conf.setAcl(Q_newRoot,QueueACL.SUBMIT_APPLICATIONS," ");
  final String Q_A=Q_newRoot + "." + A;
  conf.setCapacity(Q_A,100f);
  conf.setMaximumCapacity(Q_A,100);
  conf.setAcl(Q_A,QueueACL.SUBMIT_APPLICATIONS,"*");
  if (addUserLimits) {
    conf.setUserLimit(Q_A,25);
    conf.setUserLimitFactor(Q_A,0.25f);
  }
}
