{
  List<String> names=new ArrayList<String>(1);
  if (dnsToSwitchMapping instanceof CachedDNSToSwitchMapping) {
    names.add(node.getIpAddr());
  }
 else {
    names.add(node.getHostName());
  }
  List<String> rName=dnsToSwitchMapping.resolve(names);
  String networkLocation;
  if (rName == null) {
    LOG.error("The resolve call returned null! Using " + NetworkTopology.DEFAULT_RACK + " for host "+ names);
    networkLocation=NetworkTopology.DEFAULT_RACK;
  }
 else {
    networkLocation=rName.get(0);
  }
  return networkLocation;
}
