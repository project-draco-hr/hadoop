{
  Comparator<DatanodeInfo> comparator=avoidStaleDataNodesForRead ? new DFSUtil.DecomStaleComparator(staleInterval) : DFSUtil.DECOM_COMPARATOR;
  for (  LocatedBlock lb : locatedBlocks) {
    if (lb.isStriped()) {
      sortLocatedStripedBlock(lb,comparator);
    }
 else {
      sortLocatedBlock(lb,targetHost,comparator);
    }
  }
}
