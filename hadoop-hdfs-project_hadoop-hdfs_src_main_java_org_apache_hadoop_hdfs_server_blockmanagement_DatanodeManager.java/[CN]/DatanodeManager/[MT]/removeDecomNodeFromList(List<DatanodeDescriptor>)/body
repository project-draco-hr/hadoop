{
  if (hostsReader.getHosts().isEmpty()) {
    return;
  }
  for (Iterator<DatanodeDescriptor> it=nodeList.iterator(); it.hasNext(); ) {
    DatanodeDescriptor node=it.next();
    if ((!inHostsList(node)) && (!inExcludedHostsList(node)) && node.isDecommissioned()) {
      it.remove();
    }
  }
}
