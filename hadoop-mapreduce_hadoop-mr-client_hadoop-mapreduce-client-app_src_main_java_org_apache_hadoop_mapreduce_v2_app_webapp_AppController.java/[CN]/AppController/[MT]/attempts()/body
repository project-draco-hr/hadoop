{
  requireJob();
  if (app.job != null) {
    try {
      String taskType=$(TASK_TYPE);
      if (taskType.isEmpty()) {
        throw new RuntimeException("missing task-type.");
      }
      String attemptState=$(ATTEMPT_STATE);
      if (attemptState.isEmpty()) {
        throw new RuntimeException("missing attempt-state.");
      }
      setTitle(join(attemptState," ",MRApps.taskType(taskType).toString()," attempts in ",$(JOB_ID)));
    }
 catch (    Exception e) {
      badRequest(e.getMessage());
    }
  }
  render(AttemptsPage.class);
}
