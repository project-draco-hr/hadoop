{
  int n=0;
  while ((n=decompressor.decompress(b,off,len)) == 0) {
    if (decompressor.finished() || decompressor.needsDictionary()) {
      eof=true;
      return -1;
    }
    if (decompressor.needsInput()) {
      getCompressedData();
    }
  }
  return n;
}
