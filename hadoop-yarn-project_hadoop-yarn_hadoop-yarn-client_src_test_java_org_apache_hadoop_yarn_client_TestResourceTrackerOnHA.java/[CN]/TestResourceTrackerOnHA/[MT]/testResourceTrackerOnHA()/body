{
  NodeId nodeId=NodeId.newInstance("localhost",0);
  Resource resource=Resource.newInstance(2048,4);
  RegisterNodeManagerRequest request=RegisterNodeManagerRequest.newInstance(nodeId,0,resource,YarnVersionInfo.getVersion(),null,null);
  resourceTracker.registerNodeManager(request);
  Assert.assertTrue(waitForNodeManagerToConnect(10000,nodeId));
  failoverThread=createAndStartFailoverThread();
  NodeStatus status=NodeStatus.newInstance(NodeId.newInstance("localhost",0),0,null,null,null);
  NodeHeartbeatRequest request2=NodeHeartbeatRequest.newInstance(status,null,null);
  resourceTracker.nodeHeartbeat(request2);
}
