{
  if (Client.LOG.isDebugEnabled()) {
    Client.LOG.debug("stopping client from cache: " + client);
  }
synchronized (this) {
    client.decCount();
    if (client.isZeroReference()) {
      if (Client.LOG.isDebugEnabled()) {
        Client.LOG.debug("removing client from cache: " + client);
      }
      clients.remove(client.getSocketFactory());
    }
  }
  if (client.isZeroReference()) {
    if (Client.LOG.isDebugEnabled()) {
      Client.LOG.debug("stopping actual client because no more references remain: " + client);
    }
    client.stop();
  }
}
