{
  final HttpOpParam.Op op=PutOpParam.Op.RENEWDELEGATIONTOKEN;
  if (delegationToken == null) {
    return new FsPathResponseRunner<Long>(op,null,new TokenArgumentParam(token.encodeToUrlString())){
      @Override Long decodeResponse(      Map<?,?> json) throws IOException {
        return ((Number)json.get("long")).longValue();
      }
    }
.run();
  }
 else {
    return new FsPathResponseRunner<Long>(op,null,new TokenArgumentParam(token.encodeToUrlString()),new DelegationParam(delegationToken.encodeToUrlString())){
      @Override Long decodeResponse(      Map<?,?> json) throws IOException {
        return ((Number)json.get("long")).longValue();
      }
    }
.run();
  }
}
