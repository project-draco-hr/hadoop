{
  UnRegisterNodeManagerRequest request=UnRegisterNodeManagerRequest.newInstance(NodeId.newInstance("host1",1234));
  assertNotNull(client.unRegisterNodeManager(request));
  ResourceTrackerTestImpl.exception=true;
  try {
    client.unRegisterNodeManager(request);
    fail("there  should be YarnException");
  }
 catch (  YarnException e) {
    assertTrue(e.getMessage().startsWith("testMessage"));
  }
 finally {
    ResourceTrackerTestImpl.exception=false;
  }
}
