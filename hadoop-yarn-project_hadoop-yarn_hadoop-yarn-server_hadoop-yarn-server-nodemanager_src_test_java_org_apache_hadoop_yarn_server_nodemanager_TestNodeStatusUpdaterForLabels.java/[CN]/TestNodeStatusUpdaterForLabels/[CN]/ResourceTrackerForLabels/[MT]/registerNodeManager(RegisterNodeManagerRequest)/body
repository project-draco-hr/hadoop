{
  labels=request.getNodeLabels();
  RegisterNodeManagerResponse response=recordFactory.newRecordInstance(RegisterNodeManagerResponse.class);
  response.setNodeAction(NodeAction.NORMAL);
  response.setContainerTokenMasterKey(createMasterKey());
  response.setNMTokenMasterKey(createMasterKey());
  response.setAreNodeLabelsAcceptedByRM(labels != null);
synchronized (ResourceTrackerForLabels.class) {
    receivedNMRegister=true;
    ResourceTrackerForLabels.class.notifyAll();
  }
  return response;
}
