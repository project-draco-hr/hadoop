{
  StreamingOutput stream=null;
  try {
    stream=getStreamingOutput(appId,appOwner,nodeId,containerIdStr,fileName);
  }
 catch (  Exception ex) {
    return createBadResponse(Status.INTERNAL_SERVER_ERROR,ex.getMessage());
  }
  if (stream == null) {
    return createBadResponse(Status.INTERNAL_SERVER_ERROR,"Can not get log for container: " + containerIdStr);
  }
  ResponseBuilder response=Response.ok(stream);
  if (downloadFile) {
    response.header("Content-Type","application/octet-stream");
    response.header("Content-Disposition","attachment; filename=" + fileName);
  }
  return response.build();
}
