{
  long localMinSpaceKill;
synchronized (this) {
    localMinSpaceKill=minSpaceKill;
  }
  if (!enoughFreeSpace(localMinSpaceKill)) {
    acceptNewTasks=false;
synchronized (this) {
      TaskInProgress killMe=findTaskToKill(null);
      if (killMe != null) {
        String msg="Tasktracker running out of space." + " Killing task.";
        LOG.info(killMe.getTask().getTaskID() + ": " + msg);
        killMe.reportDiagnosticInfo(msg);
        purgeTask(killMe,false);
      }
    }
  }
}
