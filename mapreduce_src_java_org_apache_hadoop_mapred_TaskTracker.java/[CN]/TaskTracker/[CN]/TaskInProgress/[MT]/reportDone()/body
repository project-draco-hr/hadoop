{
  if (isCleaningup()) {
    if (this.taskStatus.getRunState() == TaskStatus.State.FAILED_UNCLEAN) {
      this.taskStatus.setRunState(TaskStatus.State.FAILED);
    }
 else     if (this.taskStatus.getRunState() == TaskStatus.State.KILLED_UNCLEAN) {
      this.taskStatus.setRunState(TaskStatus.State.KILLED);
    }
  }
 else {
    this.taskStatus.setRunState(TaskStatus.State.SUCCEEDED);
  }
  this.taskStatus.setProgress(1.0f);
  this.taskStatus.setFinishTime(System.currentTimeMillis());
  this.done=true;
  jvmManager.taskFinished(runner);
  runner.signalDone();
  LOG.info("Task " + task.getTaskID() + " is done.");
  LOG.info("reported output size for " + task.getTaskID() + "  was "+ taskStatus.getOutputSize());
  myInstrumentation.statusUpdate(task,taskStatus);
}
