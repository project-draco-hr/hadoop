{
  if (properties == null) {
    properties=new Properties();
    HashMap<String,String[]> backup=new HashMap<String,String[]>(updatingResource);
    loadResources(properties,resources,quietmode);
    if (overlay != null) {
      properties.putAll(overlay);
      for (      Map.Entry<Object,Object> item : overlay.entrySet()) {
        String key=(String)item.getKey();
        updatingResource.put(key,backup.get(key));
      }
    }
  }
  return properties;
}
