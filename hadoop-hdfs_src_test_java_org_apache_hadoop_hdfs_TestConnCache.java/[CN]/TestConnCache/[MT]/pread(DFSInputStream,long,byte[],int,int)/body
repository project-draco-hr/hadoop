{
  assertTrue("Test buffer too small",buffer.length >= offset + length);
  if (pos >= 0)   in.seek(pos);
  LOG.info("Reading from file of size " + in.getFileLength() + " at offset "+ in.getPos());
  while (length > 0) {
    int cnt=in.read(buffer,offset,length);
    assertTrue("Error in read",cnt > 0);
    offset+=cnt;
    length-=cnt;
  }
  for (int i=0; i < length; ++i) {
    byte actual=buffer[i];
    byte expect=authenticData[(int)pos + i];
    assertEquals("Read data mismatch at file offset " + (pos + i) + ". Expects "+ expect+ "; got "+ actual,actual,expect);
  }
}
