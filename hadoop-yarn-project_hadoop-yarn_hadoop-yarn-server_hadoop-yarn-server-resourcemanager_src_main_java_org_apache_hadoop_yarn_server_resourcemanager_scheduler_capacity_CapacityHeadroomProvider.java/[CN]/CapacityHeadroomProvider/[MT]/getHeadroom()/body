{
  Resource queueCurrentLimit;
  Resource clusterResource;
synchronized (queueResourceLimitsInfo) {
    queueCurrentLimit=queueResourceLimitsInfo.getQueueCurrentLimit();
    clusterResource=queueResourceLimitsInfo.getClusterResource();
  }
  Resource headroom=queue.getHeadroom(user,queueCurrentLimit,clusterResource,application);
  if (headroom.getMemory() < 0) {
    headroom.setMemory(0);
  }
  return headroom;
}
