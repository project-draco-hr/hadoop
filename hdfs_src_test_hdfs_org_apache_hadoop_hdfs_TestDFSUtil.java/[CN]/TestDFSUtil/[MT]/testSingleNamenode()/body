{
  HdfsConfiguration conf=new HdfsConfiguration();
  final String DEFAULT_ADDRESS="localhost:9000";
  final String NN2_ADDRESS="localhost:9001";
  conf.set(DFSConfigKeys.DFS_NAMENODE_RPC_ADDRESS_KEY,DEFAULT_ADDRESS);
  InetSocketAddress testAddress1=NetUtils.createSocketAddr(DEFAULT_ADDRESS);
  boolean isDefault=DFSUtil.isDefaultNamenodeAddress(conf,testAddress1,DFSConfigKeys.DFS_NAMENODE_SERVICE_RPC_ADDRESS_KEY,DFSConfigKeys.DFS_NAMENODE_RPC_ADDRESS_KEY);
  assertTrue(isDefault);
  InetSocketAddress testAddress2=NetUtils.createSocketAddr(NN2_ADDRESS);
  isDefault=DFSUtil.isDefaultNamenodeAddress(conf,testAddress2,DFSConfigKeys.DFS_NAMENODE_SERVICE_RPC_ADDRESS_KEY,DFSConfigKeys.DFS_NAMENODE_RPC_ADDRESS_KEY);
  assertFalse(isDefault);
}
