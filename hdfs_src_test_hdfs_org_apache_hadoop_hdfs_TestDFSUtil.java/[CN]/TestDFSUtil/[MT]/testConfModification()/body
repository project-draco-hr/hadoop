{
  final HdfsConfiguration conf=new HdfsConfiguration();
  conf.set(DFSConfigKeys.DFS_FEDERATION_NAMESERVICES,"nn1");
  conf.set(DFSConfigKeys.DFS_FEDERATION_NAMESERVICE_ID,"nn1");
  final String nameserviceId=DFSUtil.getNameServiceId(conf);
  for (  String key : NameNode.NAMESERVICE_SPECIFIC_KEYS) {
    conf.set(DFSUtil.getNameServiceIdKey(key,nameserviceId),key);
  }
  NameNode.initializeGenericKeys(conf);
  for (  String key : NameNode.NAMESERVICE_SPECIFIC_KEYS) {
    assertEquals(key,conf.get(key));
  }
}
