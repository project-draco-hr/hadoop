{
  YarnConfiguration conf=new YarnConfiguration();
  conf.set(YarnConfiguration.NM_ADDRESS,"0.0.0.0:1234");
  conf.setBoolean(YarnConfiguration.RM_HA_ENABLED,true);
  conf.set(YarnConfiguration.RM_HA_ID,"rm1");
  assertTrue(HAUtil.isHAEnabled(conf));
  InetSocketAddress addr=conf.getSocketAddr(YarnConfiguration.NM_ADDRESS,YarnConfiguration.DEFAULT_NM_ADDRESS,YarnConfiguration.DEFAULT_NM_PORT);
  assertEquals(1234,addr.getPort());
}
