{
  YarnConfiguration conf=new YarnConfiguration();
  conf.set(YarnConfiguration.RM_WEBAPP_ADDRESS,"fortesting:24543");
  conf.set(YarnConfiguration.RM_ADDRESS,"rmtesting:9999");
  String rmWebUrl=WebAppUtils.getRMWebAppURLWithScheme(conf);
  String[] parts=rmWebUrl.split(":");
  Assert.assertEquals("RM Web URL Port is incrrect",24543,Integer.valueOf(parts[parts.length - 1]).intValue());
  Assert.assertNotSame("RM Web Url not resolved correctly. Should not be rmtesting","http://rmtesting:24543",rmWebUrl);
}
