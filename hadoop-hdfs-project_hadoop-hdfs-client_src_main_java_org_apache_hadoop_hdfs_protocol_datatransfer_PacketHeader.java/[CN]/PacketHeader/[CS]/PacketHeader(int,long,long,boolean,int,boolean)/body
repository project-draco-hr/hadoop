{
  this.packetLen=packetLen;
  Preconditions.checkArgument(packetLen >= Ints.BYTES,"packet len %s should always be at least 4 bytes",packetLen);
  PacketHeaderProto.Builder builder=PacketHeaderProto.newBuilder().setOffsetInBlock(offsetInBlock).setSeqno(seqno).setLastPacketInBlock(lastPacketInBlock).setDataLen(dataLen);
  if (syncBlock) {
    builder.setSyncBlock(syncBlock);
  }
  proto=builder.build();
}
