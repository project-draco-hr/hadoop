{
  if (snapshot != null) {
    return getSnapshotINode(snapshot).getFsPermission();
  }
  return new FsPermission((short)PermissionStatusFormat.MODE.retrieve(permission));
}
