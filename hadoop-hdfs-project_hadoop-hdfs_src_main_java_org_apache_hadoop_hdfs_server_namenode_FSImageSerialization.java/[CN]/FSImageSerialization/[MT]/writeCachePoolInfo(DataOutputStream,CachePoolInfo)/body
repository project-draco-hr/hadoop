{
  writeString(info.getPoolName(),out);
  final String ownerName=info.getOwnerName();
  final String groupName=info.getGroupName();
  final Long limit=info.getLimit();
  final FsPermission mode=info.getMode();
  final Long maxRelativeExpiry=info.getMaxRelativeExpiryMs();
  boolean hasOwner, hasGroup, hasMode, hasLimit, hasMaxRelativeExpiry;
  hasOwner=ownerName != null;
  hasGroup=groupName != null;
  hasMode=mode != null;
  hasLimit=limit != null;
  hasMaxRelativeExpiry=maxRelativeExpiry != null;
  int flags=(hasOwner ? 0x1 : 0) | (hasGroup ? 0x2 : 0) | (hasMode ? 0x4 : 0)| (hasLimit ? 0x8 : 0)| (hasMaxRelativeExpiry ? 0x10 : 0);
  writeInt(flags,out);
  if (hasOwner) {
    writeString(ownerName,out);
  }
  if (hasGroup) {
    writeString(groupName,out);
  }
  if (hasMode) {
    mode.write(out);
  }
  if (hasLimit) {
    writeLong(limit,out);
  }
  if (hasMaxRelativeExpiry) {
    writeLong(maxRelativeExpiry,out);
  }
}
