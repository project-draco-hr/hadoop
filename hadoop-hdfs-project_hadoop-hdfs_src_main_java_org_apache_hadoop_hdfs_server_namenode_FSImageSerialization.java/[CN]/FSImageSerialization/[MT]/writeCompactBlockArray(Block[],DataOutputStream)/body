{
  WritableUtils.writeVInt(out,blocks.length);
  Block prev=null;
  for (  Block b : blocks) {
    long szDelta=b.getNumBytes() - (prev != null ? prev.getNumBytes() : 0);
    long gsDelta=b.getGenerationStamp() - (prev != null ? prev.getGenerationStamp() : 0);
    out.writeLong(b.getBlockId());
    WritableUtils.writeVLong(out,szDelta);
    WritableUtils.writeVLong(out,gsDelta);
    prev=b;
  }
}
