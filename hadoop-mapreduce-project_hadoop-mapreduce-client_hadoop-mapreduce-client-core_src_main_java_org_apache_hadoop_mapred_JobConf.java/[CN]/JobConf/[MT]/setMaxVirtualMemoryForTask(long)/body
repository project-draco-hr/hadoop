{
  LOG.warn("setMaxVirtualMemoryForTask() is deprecated." + "Instead use setMemoryForMapTask() and setMemoryForReduceTask()");
  if (vmem < 0) {
    throw new IllegalArgumentException("Task memory allocation may not be < 0");
  }
  if (get(JobConf.MAPRED_TASK_MAXVMEM_PROPERTY) == null) {
    setMemoryForMapTask(vmem / (1024 * 1024));
    setMemoryForReduceTask(vmem / (1024 * 1024));
  }
 else {
    this.setLong(JobConf.MAPRED_TASK_MAXVMEM_PROPERTY,vmem);
  }
}
