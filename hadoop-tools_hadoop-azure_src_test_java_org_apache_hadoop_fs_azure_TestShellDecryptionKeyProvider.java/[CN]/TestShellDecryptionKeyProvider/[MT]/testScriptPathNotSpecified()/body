{
  assumeWindows();
  ShellDecryptionKeyProvider provider=new ShellDecryptionKeyProvider();
  Configuration conf=new Configuration();
  String account="testacct";
  String key="key";
  conf.set(SimpleKeyProvider.KEY_ACCOUNT_KEY_PREFIX + account,key);
  try {
    provider.getStorageAccountKey(account,conf);
    Assert.fail("fs.azure.shellkeyprovider.script is not specified, we should throw");
  }
 catch (  KeyProviderException e) {
    LOG.info("Received an expected exception: " + e.getMessage());
  }
}
