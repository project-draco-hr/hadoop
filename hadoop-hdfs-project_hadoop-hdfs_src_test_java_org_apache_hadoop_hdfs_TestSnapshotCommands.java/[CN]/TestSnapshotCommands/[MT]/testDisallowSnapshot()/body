{
  FsShellRun("-createSnapshot /sub1 sn1");
  FsShellRun("-rmr /sub1",1,"The directory /sub1 cannot be deleted since /sub1 is snapshottable and already has snapshots");
  DFSAdminRun("-disallowSnapshot /sub1",-1,"disallowSnapshot: The directory /sub1 has snapshot(s). Please redo the operation after removing all the snapshots.");
  FsShellRun("-deleteSnapshot /sub1 sn1");
  DFSAdminRun("-disallowSnapshot /sub1",0,"Disallowing snaphot on /sub1 succeeded");
  DFSAdminRun("-disallowSnapshot /sub1",0,"Disallowing snaphot on /sub1 succeeded");
  FsShellRun("-rmr /sub1");
}
