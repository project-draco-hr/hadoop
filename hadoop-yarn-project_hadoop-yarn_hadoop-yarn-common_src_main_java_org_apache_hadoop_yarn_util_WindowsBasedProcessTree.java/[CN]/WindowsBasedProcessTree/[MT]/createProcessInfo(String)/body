{
  String[] processesStr=processesInfoStr.split("\r\n");
  Map<String,ProcessInfo> allProcs=new HashMap<String,ProcessInfo>();
  final int procInfoSplitCount=4;
  for (  String processStr : processesStr) {
    if (processStr != null) {
      String[] procInfo=processStr.split(",");
      if (procInfo.length == procInfoSplitCount) {
        try {
          ProcessInfo pInfo=new ProcessInfo();
          pInfo.pid=procInfo[0];
          pInfo.vmem=Long.parseLong(procInfo[1]);
          pInfo.workingSet=Long.parseLong(procInfo[2]);
          pInfo.cpuTimeMs=Long.parseLong(procInfo[3]);
          allProcs.put(pInfo.pid,pInfo);
        }
 catch (        NumberFormatException nfe) {
          LOG.debug("Error parsing procInfo." + nfe);
        }
      }
 else {
        LOG.debug("Expected split length of proc info to be " + procInfoSplitCount + ". Got "+ procInfo.length);
      }
    }
  }
  return allProcs;
}
