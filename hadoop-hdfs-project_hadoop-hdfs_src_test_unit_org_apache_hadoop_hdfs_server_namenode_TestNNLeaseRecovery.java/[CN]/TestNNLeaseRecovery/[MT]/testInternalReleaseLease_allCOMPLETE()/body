{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Running " + GenericTestUtils.getMethodName());
  }
  LeaseManager.Lease lm=mock(LeaseManager.Lease.class);
  Path file=spy(new Path("/test.dat"));
  DatanodeDescriptor dnd=mock(DatanodeDescriptor.class);
  PermissionStatus ps=new PermissionStatus("test","test",new FsPermission((short)0777));
  fsn.dir.addFile(file.toString(),ps,(short)3,1l,"test","test-machine",dnd,1001l);
  assertTrue("True has to be returned in this case",releaseLease(fsn,lm,file));
}
