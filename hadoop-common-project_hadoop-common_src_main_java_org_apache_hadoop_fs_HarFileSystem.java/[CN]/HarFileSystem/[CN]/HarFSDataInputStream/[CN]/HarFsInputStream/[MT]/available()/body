{
  long remaining=end - underLyingStream.getPos();
  if (remaining > (long)Integer.MAX_VALUE) {
    return Integer.MAX_VALUE;
  }
  return (int)remaining;
}
