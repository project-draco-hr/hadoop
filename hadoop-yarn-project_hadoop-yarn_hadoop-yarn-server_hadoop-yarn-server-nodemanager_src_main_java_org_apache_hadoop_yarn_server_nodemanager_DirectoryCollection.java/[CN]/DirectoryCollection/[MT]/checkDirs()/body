{
  int oldNumFailures=numFailures;
  for (  final String dir : localDirs) {
    try {
      DiskChecker.checkDir(new File(dir));
    }
 catch (    DiskErrorException de) {
      LOG.warn("Directory " + dir + " error "+ de.getMessage()+ ", removing from the list of valid directories.");
      localDirs.remove(dir);
      failedDirs.add(dir);
      numFailures++;
    }
  }
  return numFailures > oldNumFailures;
}
