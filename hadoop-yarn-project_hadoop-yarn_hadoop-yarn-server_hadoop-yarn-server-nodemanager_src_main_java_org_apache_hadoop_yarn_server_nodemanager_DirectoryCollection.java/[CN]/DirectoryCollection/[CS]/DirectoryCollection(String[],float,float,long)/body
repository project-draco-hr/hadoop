{
  conf=new YarnConfiguration();
  try {
    diskValidator=DiskValidatorFactory.getInstance(conf.get(YarnConfiguration.DISK_VALIDATOR));
    LOG.info("Disk Validator: " + YarnConfiguration.DISK_VALIDATOR + " is loaded.");
  }
 catch (  Exception e) {
    throw new YarnRuntimeException(e);
  }
  localDirs=new CopyOnWriteArrayList<>(dirs);
  errorDirs=new CopyOnWriteArrayList<>();
  fullDirs=new CopyOnWriteArrayList<>();
  ReentrantReadWriteLock lock=new ReentrantReadWriteLock();
  this.readLock=lock.readLock();
  this.writeLock=lock.writeLock();
  diskUtilizationPercentageCutoffHigh=Math.max(0.0F,Math.min(100.0F,utilizationPercentageCutOffHigh));
  diskUtilizationPercentageCutoffLow=Math.max(0.0F,Math.min(diskUtilizationPercentageCutoffHigh,utilizationPercentageCutOffLow));
  diskUtilizationSpaceCutoff=utilizationSpaceCutOff < 0 ? 0 : utilizationSpaceCutOff;
  dirsChangeListeners=Collections.newSetFromMap(new ConcurrentHashMap<DirsChangeListener,Boolean>());
}
