{
  ClientRMService clientRMService=mock(ClientRMService.class);
  List<ApplicationReport> appReports=new ArrayList<ApplicationReport>();
  for (  RMApp app : rmContext.getRMApps().values()) {
    ApplicationReport appReport=ApplicationReport.newInstance(app.getApplicationId(),(ApplicationAttemptId)null,app.getUser(),app.getQueue(),app.getName(),(String)null,0,(Token)null,app.createApplicationState(),app.getDiagnostics().toString(),(String)null,app.getStartTime(),app.getFinishTime(),app.getFinalApplicationStatus(),(ApplicationResourceUsageReport)null,app.getTrackingUrl(),app.getProgress(),app.getApplicationType(),(Token)null);
    appReports.add(appReport);
  }
  GetApplicationsResponse response=mock(GetApplicationsResponse.class);
  when(response.getApplicationList()).thenReturn(appReports);
  try {
    when(clientRMService.getApplications(any(GetApplicationsRequest.class))).thenReturn(response);
  }
 catch (  YarnException e) {
    Assert.fail("Exception is not expteced.");
  }
  return clientRMService;
}
