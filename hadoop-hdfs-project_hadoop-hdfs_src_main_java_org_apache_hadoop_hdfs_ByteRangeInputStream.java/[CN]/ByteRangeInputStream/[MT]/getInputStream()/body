{
  if (status != StreamStatus.NORMAL) {
    if (in != null) {
      in.close();
      in=null;
    }
    final URLOpener opener=(resolvedURL.getURL() == null) ? originalURL : resolvedURL;
    final HttpURLConnection connection=opener.openConnection(startPos);
    connection.connect();
    checkResponseCode(connection);
    final String cl=connection.getHeaderField(StreamFile.CONTENT_LENGTH);
    if (cl == null) {
      throw new IOException(StreamFile.CONTENT_LENGTH + " header is missing");
    }
    final long streamlength=Long.parseLong(cl);
    filelength=startPos + streamlength;
    in=new BoundedInputStream(connection.getInputStream(),streamlength);
    resolvedURL.setURL(getResolvedUrl(connection));
    status=StreamStatus.NORMAL;
  }
  return in;
}
