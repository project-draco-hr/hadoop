{
  ContainerLaunchContext container=applicationMasterContext.getAMContainerSpec();
  if (LOG.isDebugEnabled()) {
    StringBuilder message=new StringBuilder("Command to launch container ");
    message.append(containerID).append(" : ");
    if (logCommandLine) {
      message.append(Joiner.on(",").join(container.getCommands()));
    }
 else {
      message.append("<REDACTED> -- Set ");
      message.append(YarnConfiguration.RM_AMLAUNCHER_LOG_COMMAND);
      message.append(" to true to reenable command logging");
    }
    LOG.debug(message.toString());
  }
  setupQueueNameEnv(container,applicationMasterContext);
  setupTokens(container,containerID);
  setFlowContext(container);
  return container;
}
