{
  NamespaceInfo nsInfo=null;
  while (shouldRun()) {
    try {
      nsInfo=bpNamenode.versionRequest();
      LOG.debug(this + " received versionRequest response: " + nsInfo);
      break;
    }
 catch (    SocketTimeoutException e) {
      LOG.warn("Problem connecting to server: " + nnAddr);
    }
catch (    IOException e) {
      LOG.warn("Problem connecting to server: " + nnAddr);
    }
    sleepAndLogInterrupts(5000,"requesting version info from NN");
  }
  if (nsInfo != null) {
    checkNNVersion(nsInfo);
  }
 else {
    throw new IOException("DN shut down before block pool connected");
  }
  return nsInfo;
}
