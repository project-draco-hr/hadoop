{
  DatanodeCommand cmd=null;
  long startTime=Time.monotonicNow();
  if (startTime - lastCacheReport > dnConf.cacheReportInterval) {
    String bpid=bpos.getBlockPoolId();
    BlockListAsLongs blocks=dn.getFSDataset().getCacheReport(bpid);
    cmd=bpNamenode.cacheReport(bpRegistration,bpid,blocks.getBlockListAsLongs());
  }
  return cmd;
}
