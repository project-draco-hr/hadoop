{
  LinkedList<BPServiceActorAction> duplicateQueue;
synchronized (bpThreadQueue) {
    duplicateQueue=new LinkedList<BPServiceActorAction>(bpThreadQueue);
    bpThreadQueue.clear();
  }
  while (!duplicateQueue.isEmpty()) {
    BPServiceActorAction actionItem=duplicateQueue.remove();
    try {
      actionItem.reportTo(bpNamenode,bpRegistration);
    }
 catch (    BPServiceActorActionException baae) {
      LOG.warn(baae.getMessage() + nnAddr,baae);
      bpThreadEnqueue(actionItem);
    }
  }
}
