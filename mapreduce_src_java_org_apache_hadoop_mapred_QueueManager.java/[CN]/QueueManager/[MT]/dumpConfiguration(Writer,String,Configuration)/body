{
  if (conf != null && conf.get(DeprecatedQueueConfigurationParser.MAPRED_QUEUE_NAMES_KEY) != null) {
    return;
  }
  JsonFactory dumpFactory=new JsonFactory();
  JsonGenerator dumpGenerator=dumpFactory.createJsonGenerator(out);
  QueueConfigurationParser parser;
  boolean aclsEnabled=false;
  if (conf != null) {
    aclsEnabled=conf.getBoolean(MRConfig.MR_ACLS_ENABLED,false);
  }
  if (configFile != null && !"".equals(configFile)) {
    parser=new QueueConfigurationParser(configFile,aclsEnabled);
  }
 else {
    parser=getQueueConfigurationParser(null,false,aclsEnabled);
  }
  dumpGenerator.writeStartObject();
  dumpGenerator.writeFieldName("queues");
  dumpGenerator.writeStartArray();
  dumpConfiguration(dumpGenerator,parser.getRoot().getChildren());
  dumpGenerator.writeEndArray();
  dumpGenerator.writeEndObject();
  dumpGenerator.flush();
}
