{
  ArrayList<QueueAclsInfo> queueAclsInfolist=new ArrayList<QueueAclsInfo>();
  QueueACL[] qAcls=QueueACL.values();
  for (  String queueName : leafQueues.keySet()) {
    QueueAclsInfo queueAclsInfo=null;
    ArrayList<String> operationsAllowed=null;
    for (    QueueACL qAcl : qAcls) {
      if (hasAccess(queueName,qAcl,ugi)) {
        if (operationsAllowed == null) {
          operationsAllowed=new ArrayList<String>();
        }
        operationsAllowed.add(qAcl.getAclName());
      }
    }
    if (operationsAllowed != null) {
      queueAclsInfo=new QueueAclsInfo(queueName,operationsAllowed.toArray(new String[operationsAllowed.size()]));
      queueAclsInfolist.add(queueAclsInfo);
    }
  }
  return queueAclsInfolist.toArray(new QueueAclsInfo[queueAclsInfolist.size()]);
}
