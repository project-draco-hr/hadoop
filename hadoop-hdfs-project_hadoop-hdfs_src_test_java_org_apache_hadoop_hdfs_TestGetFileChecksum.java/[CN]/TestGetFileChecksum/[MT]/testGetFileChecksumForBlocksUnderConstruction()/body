{
  try {
    FSDataOutputStream file=dfs.create(new Path("/testFile"));
    file.write("Performance Testing".getBytes());
    dfs.getFileChecksum(new Path("/testFile"));
    fail("getFileChecksum should fail for files " + "with blocks under construction");
  }
 catch (  IOException ie) {
    Assert.assertTrue(ie.getMessage().contains("Fail to get checksum, since file /testFile " + "is under construction."));
  }
}
