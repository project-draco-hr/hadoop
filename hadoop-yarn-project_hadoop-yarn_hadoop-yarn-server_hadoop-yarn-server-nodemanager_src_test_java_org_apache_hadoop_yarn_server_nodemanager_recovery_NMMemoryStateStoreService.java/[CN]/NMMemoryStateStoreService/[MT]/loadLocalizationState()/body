{
  RecoveredLocalizationState result=new RecoveredLocalizationState();
  for (  Map.Entry<TrackerKey,TrackerState> e : trackerStates.entrySet()) {
    TrackerKey tk=e.getKey();
    TrackerState ts=e.getValue();
    if (tk.user == null) {
      result.publicTrackerState=loadTrackerState(ts);
    }
 else {
      RecoveredUserResources rur=result.userResources.get(tk.user);
      if (rur == null) {
        rur=new RecoveredUserResources();
        result.userResources.put(tk.user,rur);
      }
      if (tk.appId == null) {
        rur.privateTrackerState=loadTrackerState(ts);
      }
 else {
        rur.appTrackerStates.put(tk.appId,loadTrackerState(ts));
      }
    }
  }
  return result;
}
