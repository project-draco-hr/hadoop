{
  long bsLiveShadow=this.bsLive;
  long bsBuffShadow=this.bsBuff;
  if (bsLiveShadow < n) {
    final InputStream inShadow=this.in;
    do {
      int thech=readAByte(inShadow);
      if (thech < 0) {
        throw new IOException("unexpected end of stream");
      }
      bsBuffShadow=(bsBuffShadow << 8) | thech;
      bsLiveShadow+=8;
    }
 while (bsLiveShadow < n);
    this.bsBuff=bsBuffShadow;
  }
  this.bsLive=bsLiveShadow - n;
  return (bsBuffShadow >> (bsLiveShadow - n)) & ((1L << n) - 1);
}
