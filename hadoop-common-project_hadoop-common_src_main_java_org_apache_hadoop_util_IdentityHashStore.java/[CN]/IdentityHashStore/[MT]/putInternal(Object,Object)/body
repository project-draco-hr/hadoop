{
  final int hash=System.identityHashCode(k);
  final int numEntries=buffer.length >> 1;
  int index=hash & (numEntries - 1);
  while (true) {
    if (buffer[2 * index] == null) {
      buffer[2 * index]=k;
      buffer[1 + (2 * index)]=v;
      numInserted++;
      return;
    }
    index=(index + 1) % numEntries;
  }
}
