{
  DirectoryWithSnapshotFeature sf=getDirectoryWithSnapshotFeature();
  Preconditions.checkState(sf != null,"Directory does not have snapshot feature");
  sf.getDiffs().removeChild(ListType.DELETED,oldChild);
  sf.getDiffs().replaceChild(ListType.CREATED,oldChild,newChild);
  addChild(newChild,true,Snapshot.CURRENT_STATE_ID);
}
