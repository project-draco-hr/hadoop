{
  final INodeDirectory parent=getParent();
  Preconditions.checkArgument(parent != null,"parent is null, this=%s",this);
  final int i=parent.searchChildrenForExistingINode(newDir);
  final INode oldDir=parent.children.set(i,newDir);
  oldDir.setParent(null);
}
