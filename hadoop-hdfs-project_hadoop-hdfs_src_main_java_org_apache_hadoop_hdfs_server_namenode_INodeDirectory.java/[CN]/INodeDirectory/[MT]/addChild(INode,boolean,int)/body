{
  final int low=searchChildren(node.getLocalNameBytes());
  if (low >= 0) {
    return false;
  }
  if (isInLatestSnapshot(latestSnapshotId)) {
    DirectoryWithSnapshotFeature sf=this.getDirectoryWithSnapshotFeature();
    if (sf == null) {
      sf=this.addSnapshotFeature(null);
    }
    return sf.addChild(this,node,setModTime,latestSnapshotId);
  }
  addChild(node,low);
  if (setModTime) {
    updateModificationTime(node.getModificationTime(),latestSnapshotId);
  }
  return true;
}
