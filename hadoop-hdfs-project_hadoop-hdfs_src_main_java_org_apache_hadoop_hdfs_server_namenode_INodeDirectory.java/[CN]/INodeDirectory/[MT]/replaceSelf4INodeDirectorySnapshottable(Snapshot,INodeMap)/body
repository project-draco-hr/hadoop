{
  Preconditions.checkState(!(this instanceof INodeDirectorySnapshottable),"this is already an INodeDirectorySnapshottable, this=%s",this);
  final INodeDirectorySnapshottable s=new INodeDirectorySnapshottable(this);
  replaceSelf(s,inodeMap).saveSelf2Snapshot(latest,this);
  return s;
}
