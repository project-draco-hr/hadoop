{
  int total=0;
  if (prior == null && snapshot == null) {
    total+=destroyAndCollectBlocks(collectedBlocks);
  }
 else {
    total+=cleanSubtreeRecursively(snapshot,prior,collectedBlocks);
  }
  return total;
}
