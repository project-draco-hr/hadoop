{
  final DirectoryWithSnapshotFeature sf=getDirectoryWithSnapshotFeature();
  if (sf != null) {
    sf.clear(this,collectedBlocks,removedINodes);
  }
  for (  INode child : getChildrenList(null)) {
    child.destroyAndCollectBlocks(collectedBlocks,removedINodes);
  }
  clear();
  removedINodes.add(this);
}
