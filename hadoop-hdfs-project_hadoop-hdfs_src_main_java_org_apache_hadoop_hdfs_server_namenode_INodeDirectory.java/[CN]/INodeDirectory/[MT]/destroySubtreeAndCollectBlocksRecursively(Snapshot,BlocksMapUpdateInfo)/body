{
  int total=0;
  for (  INode child : getChildrenList(snapshot)) {
    total+=child.destroySubtreeAndCollectBlocks(snapshot,collectedBlocks);
  }
  return total;
}
