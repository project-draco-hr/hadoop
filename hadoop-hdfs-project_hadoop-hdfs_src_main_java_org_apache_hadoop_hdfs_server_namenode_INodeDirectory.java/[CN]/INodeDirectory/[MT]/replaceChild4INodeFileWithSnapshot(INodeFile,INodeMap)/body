{
  Preconditions.checkArgument(!(child instanceof INodeFileWithSnapshot),"Child file is already an INodeFileWithSnapshot, child=" + child);
  final INodeFileWithSnapshot newChild=new INodeFileWithSnapshot(child);
  replaceChildFile(child,newChild,inodeMap);
  return newChild;
}
