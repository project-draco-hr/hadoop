{
  final FSNamesystem fsn=context.getSourceNamesystem();
  OutputStream out=sectionOutputStream;
  NameSystemSection.Builder b=NameSystemSection.newBuilder().setGenstampV1(fsn.getGenerationStampV1()).setGenstampV1Limit(fsn.getGenerationStampV1Limit()).setGenstampV2(fsn.getGenerationStampV2()).setLastAllocatedBlockId(fsn.getLastAllocatedBlockId()).setTransactionId(context.getTxId());
  b.setNamespaceId(fsn.unprotectedGetNamespaceInfo().getNamespaceID());
  if (fsn.isRollingUpgrade()) {
    b.setRollingUpgradeStartTime(fsn.getRollingUpgradeInfo().getStartTime());
  }
  NameSystemSection s=b.build();
  s.writeDelimitedTo(out);
  commitSection(summary,SectionName.NS_INFO);
}
