{
  CacheManagerSection s=CacheManagerSection.parseDelimitedFrom(in);
  ArrayList<CachePoolInfoProto> pools=Lists.newArrayListWithCapacity(s.getNumPools());
  ArrayList<CacheDirectiveInfoProto> directives=Lists.newArrayListWithCapacity(s.getNumDirectives());
  for (int i=0; i < s.getNumPools(); ++i)   pools.add(CachePoolInfoProto.parseDelimitedFrom(in));
  for (int i=0; i < s.getNumDirectives(); ++i)   directives.add(CacheDirectiveInfoProto.parseDelimitedFrom(in));
  fsn.getCacheManager().loadState(new CacheManager.PersistState(s,pools,directives));
}
