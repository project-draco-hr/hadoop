{
  if (needsReset) {
    internalReset();
  }
  int result=0;
  result=this.input.read(b,off,len);
  if (result == BZip2Constants.END_OF_BLOCK) {
    this.posSM=POS_ADVERTISEMENT_STATE_MACHINE.ADVERTISE;
  }
  if (this.posSM == POS_ADVERTISEMENT_STATE_MACHINE.ADVERTISE) {
    result=this.input.read(b,off,off + 1);
    this.updatePos(true);
    this.posSM=POS_ADVERTISEMENT_STATE_MACHINE.HOLD;
  }
  return result;
}
