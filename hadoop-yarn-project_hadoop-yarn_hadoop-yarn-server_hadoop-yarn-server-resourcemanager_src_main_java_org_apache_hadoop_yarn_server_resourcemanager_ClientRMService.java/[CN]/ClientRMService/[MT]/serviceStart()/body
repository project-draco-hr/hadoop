{
  Configuration conf=getConfig();
  YarnRPC rpc=YarnRPC.create(conf);
  this.server=rpc.getServer(ClientRMProtocol.class,this,clientBindAddress,conf,this.rmDTSecretManager,conf.getInt(YarnConfiguration.RM_CLIENT_THREAD_COUNT,YarnConfiguration.DEFAULT_RM_CLIENT_THREAD_COUNT));
  if (conf.getBoolean(CommonConfigurationKeysPublic.HADOOP_SECURITY_AUTHORIZATION,false)) {
    refreshServiceAcls(conf,new RMPolicyProvider());
  }
  this.server.start();
  clientBindAddress=conf.updateConnectAddr(YarnConfiguration.RM_ADDRESS,server.getListenerAddress());
  RMDelegationTokenIdentifier.Renewer.setSecretManager(rmDTSecretManager,clientBindAddress);
  super.serviceStart();
}
