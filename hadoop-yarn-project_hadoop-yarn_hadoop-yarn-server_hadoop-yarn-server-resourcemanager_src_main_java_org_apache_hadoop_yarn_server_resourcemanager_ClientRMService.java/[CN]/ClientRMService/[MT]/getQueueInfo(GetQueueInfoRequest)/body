{
  GetQueueInfoResponse response=recordFactory.newRecordInstance(GetQueueInfoResponse.class);
  try {
    QueueInfo queueInfo=scheduler.getQueueInfo(request.getQueueName(),request.getIncludeChildQueues(),request.getRecursive());
    List<ApplicationReport> appReports=EMPTY_APPS_REPORT;
    if (request.getIncludeApplications()) {
      List<ApplicationAttemptId> apps=scheduler.getAppsInQueue(request.getQueueName());
      appReports=new ArrayList<ApplicationReport>(apps.size());
      for (      ApplicationAttemptId app : apps) {
        RMApp rmApp=rmContext.getRMApps().get(app.getApplicationId());
        appReports.add(rmApp.createAndGetApplicationReport(null,true));
      }
    }
    queueInfo.setApplications(appReports);
    response.setQueueInfo(queueInfo);
  }
 catch (  IOException ioe) {
    LOG.info("Failed to getQueueInfo for " + request.getQueueName(),ioe);
  }
  return response;
}
