{
  UserGroupInformation callerUGI;
  try {
    callerUGI=UserGroupInformation.getCurrentUser();
  }
 catch (  IOException ie) {
    RMAuditLogger.logFailure("UNKNOWN",auditConstant,queueName,"ClientRMService","Error getting UGI");
    throw RPCUtil.getRemoteException(ie);
  }
  if (!queueACLsManager.checkAccess(callerUGI,QueueACL.SUBMIT_APPLICATIONS,queueName)) {
    RMAuditLogger.logFailure(callerUGI.getShortUserName(),auditConstant,"User doesn't have permissions to " + QueueACL.SUBMIT_APPLICATIONS.toString(),"ClientRMService",AuditConstants.UNAUTHORIZED_USER);
    throw RPCUtil.getRemoteException(new AccessControlException("User " + callerUGI.getShortUserName() + " cannot perform operation "+ QueueACL.SUBMIT_APPLICATIONS.name()+ " on queue"+ queueName));
  }
  return callerUGI.getShortUserName();
}
