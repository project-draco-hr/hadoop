{
  ApplicationId appId=BuilderUtils.newApplicationId(clusterTimestamp,1);
  JobId jobId=MRBuilderUtils.newJobId(appId,1);
  int partitions=2;
  Path remoteJobConfFile=mock(Path.class);
  JobConf conf=new JobConf();
  TaskAttemptListener taskAttemptListener=mock(TaskAttemptListener.class);
  Token<JobTokenIdentifier> jobToken=(Token<JobTokenIdentifier>)mock(Token.class);
  Credentials credentials=null;
  Clock clock=new SystemClock();
  int appAttemptId=3;
  MRAppMetrics metrics=mock(MRAppMetrics.class);
  Resource minContainerRequirements=mock(Resource.class);
  when(minContainerRequirements.getMemory()).thenReturn(1000);
  ClusterInfo clusterInfo=mock(ClusterInfo.class);
  when(clusterInfo.getMinContainerCapability()).thenReturn(minContainerRequirements);
  AppContext appContext=mock(AppContext.class);
  when(appContext.getClusterInfo()).thenReturn(clusterInfo);
  TaskSplitMetaInfo taskSplitMetaInfo=mock(TaskSplitMetaInfo.class);
  MapTaskImpl mapTask=new MapTaskImpl(jobId,partitions,eh,remoteJobConfFile,conf,taskSplitMetaInfo,taskAttemptListener,jobToken,credentials,clock,appAttemptId,metrics,appContext);
  return mapTask;
}
