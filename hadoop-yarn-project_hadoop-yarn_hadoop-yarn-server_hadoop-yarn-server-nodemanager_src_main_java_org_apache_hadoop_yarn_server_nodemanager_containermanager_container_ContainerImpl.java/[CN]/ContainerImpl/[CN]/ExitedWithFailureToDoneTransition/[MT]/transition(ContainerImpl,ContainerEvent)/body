{
  if (container.wasLaunched) {
    container.metrics.endRunningContainer();
  }
  container.metrics.failedContainer();
  NMAuditLogger.logFailure(container.user,AuditConstants.FINISH_FAILED_CONTAINER,"ContainerImpl","Container failed with state: " + container.getContainerState(),container.containerId.getApplicationAttemptId().getApplicationId(),container.containerId);
  super.transition(container,event);
}
