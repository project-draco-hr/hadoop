{
  for (  String s : diags) {
    this.diagnostics.append(s);
  }
  if (isRetryContextSet() && diagnostics.length() > diagnosticsMaxSize) {
    diagnostics.delete(0,diagnostics.length() - diagnosticsMaxSize);
  }
  try {
    stateStore.storeContainerDiagnostics(containerId,diagnostics);
  }
 catch (  IOException e) {
    LOG.warn("Unable to update diagnostics in state store for " + containerId,e);
  }
}
