{
  MRApp app=new MRApp(0,1,true,this.getClass().getName(),true){
    @Override protected ContainerLauncher createContainerLauncher(    AppContext context){
      return new MockContainerLauncher(){
        @Override public void handle(        ContainerLauncherEvent event){
          if (event instanceof ContainerRemoteLaunchEvent) {
            containerObtainedByContainerLauncher=((ContainerRemoteLaunchEvent)event).getAllocatedContainer();
          }
          super.handle(event);
        }
      }
;
    }
  }
;
  Job job=app.submit(new Configuration());
  app.waitForState(job,JobState.SUCCEEDED);
  app.verifyCompleted();
  Collection<Task> tasks=job.getTasks().values();
  Collection<TaskAttempt> taskAttempts=tasks.iterator().next().getAttempts().values();
  TaskAttemptImpl taskAttempt=(TaskAttemptImpl)taskAttempts.iterator().next();
  Assert.assertTrue(taskAttempt.container == containerObtainedByContainerLauncher);
}
