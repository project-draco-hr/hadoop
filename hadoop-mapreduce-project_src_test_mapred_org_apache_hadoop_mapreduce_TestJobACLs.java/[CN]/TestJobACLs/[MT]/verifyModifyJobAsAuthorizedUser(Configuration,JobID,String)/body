{
  UserGroupInformation authorizedUGI=UserGroupInformation.createUserForTesting(authorizedUser,new String[]{});
  authorizedUGI.doAs(new PrivilegedExceptionAction<Object>(){
    @SuppressWarnings("null") @Override public Object run() throws Exception {
      Job myJob=null;
      try {
        Cluster cluster=new Cluster(clusterConf);
        myJob=cluster.getJob(jobId);
      }
 catch (      Exception e) {
        fail("Exception .." + e);
      }
      assertNotNull("Job " + jobId + " is not known to the JobTracker!",myJob);
      try {
        myJob.setPriority(JobPriority.HIGH);
        assertEquals(myJob.getPriority(),JobPriority.HIGH);
      }
 catch (      IOException ioe) {
        fail("Unexpected.. exception.. " + ioe);
      }
      try {
        myJob.killJob();
      }
 catch (      IOException ioe) {
        fail("Unexpected.. exception.. " + ioe);
      }
      return null;
    }
  }
);
}
