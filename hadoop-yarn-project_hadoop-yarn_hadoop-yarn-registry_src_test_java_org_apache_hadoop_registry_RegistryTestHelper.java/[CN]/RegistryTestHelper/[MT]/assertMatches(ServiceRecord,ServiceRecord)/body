{
  assertNotNull("Null source record ",source);
  assertNotNull("Null resolved record ",resolved);
  assertEquals(source.description,resolved.description);
  Map<String,String> srcAttrs=source.attributes();
  Map<String,String> resolvedAttrs=resolved.attributes();
  String sourceAsString=source.toString();
  String resolvedAsString=resolved.toString();
  assertEquals("Wrong count of attrs in \n" + sourceAsString + "\nfrom\n"+ resolvedAsString,srcAttrs.size(),resolvedAttrs.size());
  for (  Map.Entry<String,String> entry : srcAttrs.entrySet()) {
    String attr=entry.getKey();
    assertEquals("attribute " + attr,entry.getValue(),resolved.get(attr));
  }
  assertEquals("wrong external endpoint count",source.external.size(),resolved.external.size());
  assertEquals("wrong external endpoint count",source.internal.size(),resolved.internal.size());
}
