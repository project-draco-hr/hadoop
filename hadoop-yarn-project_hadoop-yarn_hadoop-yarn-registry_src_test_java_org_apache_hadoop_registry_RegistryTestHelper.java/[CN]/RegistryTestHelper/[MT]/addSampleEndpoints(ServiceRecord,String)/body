{
  assertNotNull(hostname);
  entry.addExternalEndpoint(webEndpoint("web",new URI("http",hostname + ":80","/")));
  entry.addExternalEndpoint(restEndpoint(API_WEBHDFS,new URI("http",hostname + ":8020","/")));
  Endpoint endpoint=ipcEndpoint(API_HDFS,true,null);
  endpoint.addresses.add(tuple(hostname,"8030"));
  entry.addInternalEndpoint(endpoint);
  InetSocketAddress localhost=new InetSocketAddress("localhost",8050);
  entry.addInternalEndpoint(inetAddrEndpoint(NNIPC,ProtocolTypes.PROTOCOL_THRIFT,"localhost",8050));
  entry.addInternalEndpoint(RegistryTypeUtils.ipcEndpoint(IPC2,true,RegistryTypeUtils.marshall(localhost)));
}
