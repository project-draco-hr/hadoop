{
  JobConf conf=new JobConf();
  String dummyClass=DummyTaskTrackerInstrumentation.class.getName();
  String classList=dummyClass + "," + dummyClass;
  conf.set(TTConfig.TT_INSTRUMENTATION,classList);
  TaskTracker tracker=new TaskTracker();
  TaskTrackerInstrumentation inst=TaskTracker.createInstrumentation(tracker,conf);
  assertEquals(CompositeTaskTrackerInstrumentation.class.getName(),inst.getClass().getName());
  CompositeTaskTrackerInstrumentation comp=(CompositeTaskTrackerInstrumentation)inst;
  List<TaskTrackerInstrumentation> insts=comp.getInstrumentations();
  assertEquals(2,insts.size());
  assertEquals(DummyTaskTrackerInstrumentation.class.getName(),insts.get(0).getClass().getName());
  assertEquals(DummyTaskTrackerInstrumentation.class.getName(),insts.get(1).getClass().getName());
}
