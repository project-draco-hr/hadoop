{
  long position=fc.position();
  if (position + 4096 >= fc.size()) {
    if (FSNamesystem.LOG.isDebugEnabled()) {
      FSNamesystem.LOG.debug("Preallocating Edit log, current size " + fc.size());
    }
    fill.position(0);
    IOUtils.writeFully(fc,fill,position);
    if (FSNamesystem.LOG.isDebugEnabled()) {
      FSNamesystem.LOG.debug("Edit log size is now " + fc.size() + " written "+ fill.capacity()+ " bytes "+ " at offset "+ position);
    }
  }
}
