{
  super();
  shouldSyncWritesAndSkipFsync=conf.getBoolean(DFSConfigKeys.DFS_NAMENODE_EDITS_NOEDITLOGCHANNELFLUSH,DFSConfigKeys.DFS_NAMENODE_EDITS_NOEDITLOGCHANNELFLUSH_DEFAULT);
  file=name;
  doubleBuf=new EditsDoubleBuffer(size);
  RandomAccessFile rp;
  if (shouldSyncWritesAndSkipFsync) {
    rp=new RandomAccessFile(name,"rws");
  }
 else {
    rp=new RandomAccessFile(name,"rw");
  }
  fp=new FileOutputStream(rp.getFD());
  fc=rp.getChannel();
  fc.position(fc.size());
}
