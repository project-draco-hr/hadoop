{
  String[] qs={"default","qAZ1"};
  taskTrackerManager.addQueues(qs);
  ArrayList<FakeQueueInfo> queues=new ArrayList<FakeQueueInfo>();
  queues.add(new FakeQueueInfo("default",25.0f,true,25));
  FakeQueueInfo qi=new FakeQueueInfo("qAZ1",-1.0f,true,25);
  qi.maxCapacity=40.0f;
  queues.add(qi);
  taskTrackerManager.setFakeQueues(queues);
  try {
    scheduler.start();
    fail("scheduler start should fail ");
  }
 catch (  IOException ise) {
    Throwable e=ise.getCause();
    assertTrue(e instanceof IllegalStateException);
    assertEquals(e.getMessage()," Capacity share (" + 75.0f + ")for unconfigured queue "+ "qAZ1"+ " is greater than its maximum-capacity percentage "+ 40.0f);
  }
}
