{
  taskTrackerManager.addQueues(new String[]{"default"});
  ArrayList<FakeQueueInfo> queues=new ArrayList<FakeQueueInfo>();
  queues.add(new FakeQueueInfo("default",50.0f,true,25));
  taskTrackerManager.setFakeQueues(queues);
  scheduler.start();
  FakeJobInProgress j1=taskTrackerManager.submitJobAndInit(JobStatus.PREP,3,0,"default","u1");
  FakeJobInProgress j2=taskTrackerManager.submitJobAndInit(JobStatus.PREP,3,0,"default","u1");
  Task t=checkAssignment(taskTrackerManager,scheduler,"tt1","attempt_test_0001_m_000001_0 on tt1");
  t=checkAssignment(taskTrackerManager,scheduler,"tt1","attempt_test_0001_m_000002_0 on tt1");
  taskTrackerManager.finishTask("attempt_test_0001_m_000001_0",j1);
  taskTrackerManager.finishTask("attempt_test_0001_m_000002_0",j1);
  t=checkAssignment(taskTrackerManager,scheduler,"tt1","attempt_test_0001_m_000003_0 on tt1");
  t=checkAssignment(taskTrackerManager,scheduler,"tt1","attempt_test_0002_m_000001_0 on tt1");
  taskTrackerManager.finishTask("attempt_test_0002_m_000001_0",j2);
  taskTrackerManager.finishTask("attempt_test_0001_m_000003_0",j1);
  t=checkAssignment(taskTrackerManager,scheduler,"tt1","attempt_test_0002_m_000002_0 on tt1");
  taskTrackerManager.finishTask("attempt_test_0002_m_000002_0",j2);
  scheduler.jobQueuesManager.getJobQueue(j1).jobCompleted(j1);
  t=checkAssignment(taskTrackerManager,scheduler,"tt1","attempt_test_0002_m_000003_0 on tt1");
  taskTrackerManager.finishTask("attempt_test_0002_m_000003_0",j2);
}
