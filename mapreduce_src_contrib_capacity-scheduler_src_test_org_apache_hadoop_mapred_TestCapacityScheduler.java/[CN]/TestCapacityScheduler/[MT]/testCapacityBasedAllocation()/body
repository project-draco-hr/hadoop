{
  String[] qs={"default","q2"};
  taskTrackerManager.addQueues(qs);
  ArrayList<FakeQueueInfo> queues=new ArrayList<FakeQueueInfo>();
  queues.add(new FakeQueueInfo("default",10.0f,true,25));
  queues.add(new FakeQueueInfo("q2",90.0f,true,25));
  taskTrackerManager.setFakeQueues(queues);
  scheduler.start();
  taskTrackerManager.submitJobAndInit(JobStatus.PREP,10,0,"default","u1");
  taskTrackerManager.submitJobAndInit(JobStatus.PREP,10,0,"q2","u1");
  checkAssignment(taskTrackerManager,scheduler,"tt1","attempt_test_0002_m_000001_0 on tt1");
  verifyCapacity(taskTrackerManager,"0","default");
  verifyCapacity(taskTrackerManager,"3","q2");
  taskTrackerManager.addTaskTracker("tt3");
  checkAssignment(taskTrackerManager,scheduler,"tt2","attempt_test_0002_m_000002_0 on tt2");
  verifyCapacity(taskTrackerManager,"0","default");
  verifyCapacity(taskTrackerManager,"5","q2");
  taskTrackerManager.addTaskTracker("tt4");
  checkAssignment(taskTrackerManager,scheduler,"tt3","attempt_test_0002_m_000003_0 on tt3");
  verifyCapacity(taskTrackerManager,"0","default");
  verifyCapacity(taskTrackerManager,"7","q2");
  taskTrackerManager.addTaskTracker("tt5");
  checkAssignment(taskTrackerManager,scheduler,"tt4","attempt_test_0001_m_000001_0 on tt4");
  verifyCapacity(taskTrackerManager,"1","default");
  verifyCapacity(taskTrackerManager,"9","q2");
}
