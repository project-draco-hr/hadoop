{
  namesystem.readLock();
  try {
    final List<DatanodeDescriptor> decommissioningNodes=new ArrayList<DatanodeDescriptor>();
    final List<DatanodeDescriptor> results=getDatanodeListForReport(DatanodeReportType.LIVE);
    for (    DatanodeDescriptor node : results) {
      if (node.isDecommissionInProgress()) {
        decommissioningNodes.add(node);
      }
    }
    return decommissioningNodes;
  }
  finally {
    namesystem.readUnlock();
  }
}
