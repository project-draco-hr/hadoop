{
  byte[] data;
  try {
    data=elector.getActiveData();
  }
 catch (  ActiveStandbyElector.ActiveNotFoundException e) {
    return true;
  }
  YarnServerResourceManagerServiceProtos.ActiveRMInfoProto proto;
  try {
    proto=YarnServerResourceManagerServiceProtos.ActiveRMInfoProto.parseFrom(data);
  }
 catch (  InvalidProtocolBufferException e) {
    LOG.error("Invalid data in ZK: " + StringUtils.byteToHexString(data));
    return false;
  }
  if (!proto.getClusterId().equals(clusterId)) {
    LOG.error("Mismatched cluster! The other RM seems " + "to be from a different cluster. Current cluster = " + clusterId + "Other RM's cluster = "+ proto.getClusterId());
    return false;
  }
  return true;
}
