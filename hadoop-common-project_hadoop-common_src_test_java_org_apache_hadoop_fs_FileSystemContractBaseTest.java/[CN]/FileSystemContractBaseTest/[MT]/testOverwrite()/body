{
  Path path=path("/test/hadoop/file");
  fs.mkdirs(path.getParent());
  createFile(path);
  assertTrue("Exists",fs.exists(path));
  assertEquals("Length",data.length,fs.getFileStatus(path).getLen());
  try {
    fs.create(path,false).close();
    fail("Should throw IOException.");
  }
 catch (  IOException e) {
  }
  FSDataOutputStream out=fs.create(path,true);
  out.write(data,0,data.length);
  out.close();
  assertTrue("Exists",fs.exists(path));
  assertEquals("Length",data.length,fs.getFileStatus(path).getLen());
}
