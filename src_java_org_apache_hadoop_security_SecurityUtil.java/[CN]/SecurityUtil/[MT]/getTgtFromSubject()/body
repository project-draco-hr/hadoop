{
  Subject current=Subject.getSubject(AccessController.getContext());
  if (current == null) {
    throw new IOException("Can't get TGT from current Subject, because it is null");
  }
  Set<KerberosTicket> tickets=current.getPrivateCredentials(KerberosTicket.class);
  for (  KerberosTicket t : tickets) {
    if (isOriginalTGT(t.getServer().getName()))     return t;
  }
  throw new IOException("Failed to find TGT from current Subject");
}
