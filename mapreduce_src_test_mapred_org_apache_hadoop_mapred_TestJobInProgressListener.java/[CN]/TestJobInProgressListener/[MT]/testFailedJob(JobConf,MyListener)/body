{
  LOG.info("Testing job-fail");
  Path inDir=new Path(TEST_ROOT_DIR + "/jiplistenerfailjob/input");
  Path outDir=new Path(TEST_ROOT_DIR + "/jiplistenerfailjob/output");
  job.setNumMapTasks(1);
  job.setNumReduceTasks(0);
  job.setMaxMapAttempts(1);
  RunningJob rJob=UtilsForTests.runJobFail(job,inDir,outDir);
  JobID id=rJob.getID();
  assertFalse("Missing event notification on failing a running job",myListener.contains(id));
  assertEquals("Job failed!",JobStatus.FAILED,rJob.getJobState());
}
