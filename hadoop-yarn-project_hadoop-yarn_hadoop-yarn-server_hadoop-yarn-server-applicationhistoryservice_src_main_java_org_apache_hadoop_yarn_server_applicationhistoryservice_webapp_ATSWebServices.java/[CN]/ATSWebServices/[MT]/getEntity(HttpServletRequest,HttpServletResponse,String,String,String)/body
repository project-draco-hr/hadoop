{
  init(res);
  ATSEntity entity=null;
  try {
    entity=store.getEntity(parseStr(entityId),parseStr(entityType),parseFieldsStr(fields,","));
  }
 catch (  IllegalArgumentException e) {
    throw new BadRequestException("requested invalid field.");
  }
  if (entity == null) {
    throw new WebApplicationException(Response.Status.NOT_FOUND);
  }
  return entity;
}
