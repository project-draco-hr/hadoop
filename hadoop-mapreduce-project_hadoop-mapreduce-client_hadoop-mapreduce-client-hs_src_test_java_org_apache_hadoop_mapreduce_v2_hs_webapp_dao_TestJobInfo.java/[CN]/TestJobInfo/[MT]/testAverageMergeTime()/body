{
  String historyFileName="job_1329348432655_0001-1329348443227-user-Sleep+job-1329348468601-10-1-SUCCEEDED-default.jhist";
  String confFileName="job_1329348432655_0001_conf.xml";
  Configuration conf=new Configuration();
  JobACLsManager jobAclsMgr=new JobACLsManager(conf);
  Path fulleHistoryPath=new Path(TestJobHistoryEntities.class.getClassLoader().getResource(historyFileName).getFile());
  Path fullConfPath=new Path(TestJobHistoryEntities.class.getClassLoader().getResource(confFileName).getFile());
  HistoryFileInfo info=mock(HistoryFileInfo.class);
  when(info.getConfFile()).thenReturn(fullConfPath);
  JobId jobId=MRBuilderUtils.newJobId(1329348432655l,1,1);
  CompletedJob completedJob=new CompletedJob(conf,jobId,fulleHistoryPath,true,"user",info,jobAclsMgr);
  JobInfo jobInfo=new JobInfo(completedJob);
  Assert.assertEquals(50L,jobInfo.getAvgMergeTime().longValue());
}
