{
synchronized (syncData) {
    RuntimeException thisStack=new RuntimeException(Thread.currentThread().toString());
    if (userStack != null && raced == false) {
      RuntimeException other=userStack;
      raced=true;
      LOG.fatal("Race between two threads.");
      LOG.fatal("First",thisStack);
      LOG.fatal("Second",other);
      throw new RuntimeException("Raced");
    }
 else {
      userStack=thisStack;
    }
  }
}
