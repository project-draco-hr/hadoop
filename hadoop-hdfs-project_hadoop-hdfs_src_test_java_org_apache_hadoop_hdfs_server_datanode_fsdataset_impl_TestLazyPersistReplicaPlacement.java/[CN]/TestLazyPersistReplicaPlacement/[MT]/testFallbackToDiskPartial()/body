{
  startUpCluster(true,2);
  final String METHOD_NAME=GenericTestUtils.getMethodName();
  Path path=new Path("/" + METHOD_NAME + ".dat");
  makeTestFile(path,BLOCK_SIZE * 5,true);
  Thread.sleep(6 * LAZY_WRITER_INTERVAL_SEC * 1000);
  triggerBlockReport();
  int numBlocksOnRamDisk=0;
  int numBlocksOnDisk=0;
  long fileLength=client.getFileInfo(path.toString()).getLen();
  LocatedBlocks locatedBlocks=client.getLocatedBlocks(path.toString(),0,fileLength);
  for (  LocatedBlock locatedBlock : locatedBlocks.getLocatedBlocks()) {
    if (locatedBlock.getStorageTypes()[0] == RAM_DISK) {
      numBlocksOnRamDisk++;
    }
 else     if (locatedBlock.getStorageTypes()[0] == DEFAULT) {
      numBlocksOnDisk++;
    }
  }
  assert(numBlocksOnRamDisk <= 2);
  assert(numBlocksOnDisk >= 3);
}
