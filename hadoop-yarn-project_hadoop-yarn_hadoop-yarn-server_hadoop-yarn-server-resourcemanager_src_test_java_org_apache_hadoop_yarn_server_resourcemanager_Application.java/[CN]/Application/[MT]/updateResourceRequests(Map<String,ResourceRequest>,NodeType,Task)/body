{
  if (type == NodeType.NODE_LOCAL) {
    for (    String host : task.getHosts()) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("updateResourceRequests:" + " application=" + applicationId + " type="+ type+ " host="+ host+ " request="+ ((requests == null) ? "null" : requests.get(host)));
      }
      updateResourceRequest(requests.get(host));
    }
  }
  if (type == NodeType.NODE_LOCAL || type == NodeType.RACK_LOCAL) {
    for (    String rack : task.getRacks()) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("updateResourceRequests:" + " application=" + applicationId + " type="+ type+ " rack="+ rack+ " request="+ ((requests == null) ? "null" : requests.get(rack)));
      }
      updateResourceRequest(requests.get(rack));
    }
  }
  updateResourceRequest(requests.get(ResourceRequest.ANY));
  if (LOG.isDebugEnabled()) {
    LOG.debug("updateResourceRequests:" + " application=" + applicationId + " #asks="+ ask.size());
  }
}
