{
  String stateString=reportedStatus.taskState.toString();
  TaskAttemptId attemptID=reportedStatus.id;
  TaskId taskID=attemptID.getTaskId();
  Job job=context.getJob(taskID.getJobId());
  if (job == null) {
    return;
  }
  Task task=job.getTask(taskID);
  if (task == null) {
    return;
  }
  estimator.updateAttempt(reportedStatus,timestamp);
  if (pendingSpeculations.get(task) != null) {
    if (pendingSpeculations.get(task).get()) {
      return;
    }
  }
  if (stateString.equals(TaskAttemptState.RUNNING.name())) {
    runningTasks.putIfAbsent(taskID,Boolean.TRUE);
  }
 else {
    runningTasks.remove(taskID,Boolean.TRUE);
  }
}
