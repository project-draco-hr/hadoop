{
  TaskAttemptImpl.RequestContainerTransition rct=new TaskAttemptImpl.RequestContainerTransition(false);
  EventHandler eventHandler=mock(EventHandler.class);
  String[] hosts=new String[3];
  hosts[0]="host1";
  hosts[1]="host2";
  hosts[2]="host3";
  TaskSplitMetaInfo splitInfo=new TaskSplitMetaInfo(hosts,0,128 * 1024 * 1024l);
  TaskAttemptImpl mockTaskAttempt=createMapTaskAttemptImplForTest(eventHandler,splitInfo);
  TaskAttemptEvent mockTAEvent=mock(TaskAttemptEvent.class);
  rct.transition(mockTaskAttempt,mockTAEvent);
  ArgumentCaptor<Event> arg=ArgumentCaptor.forClass(Event.class);
  verify(eventHandler,times(2)).handle(arg.capture());
  if (!(arg.getAllValues().get(1) instanceof ContainerRequestEvent)) {
    Assert.fail("Second Event not of type ContainerRequestEvent");
  }
  ContainerRequestEvent cre=(ContainerRequestEvent)arg.getAllValues().get(1);
  String[] requestedRacks=cre.getRacks();
  assertEquals(1,requestedRacks.length);
}
