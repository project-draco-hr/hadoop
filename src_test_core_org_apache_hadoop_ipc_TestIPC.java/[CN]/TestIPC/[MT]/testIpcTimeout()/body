{
  Server server=new TestServer(1,true);
  InetSocketAddress addr=NetUtils.getConnectAddress(server);
  server.start();
  Client client=new Client(LongWritable.class,conf);
  try {
    client.call(new LongWritable(RANDOM.nextLong()),addr,null,null,MIN_SLEEP_TIME / 2);
    fail("Expected an exception to have been thrown");
  }
 catch (  SocketTimeoutException e) {
    LOG.info("Get a SocketTimeoutException ",e);
  }
  client.call(new LongWritable(RANDOM.nextLong()),addr,null,null,3 * PING_INTERVAL + MIN_SLEEP_TIME);
}
