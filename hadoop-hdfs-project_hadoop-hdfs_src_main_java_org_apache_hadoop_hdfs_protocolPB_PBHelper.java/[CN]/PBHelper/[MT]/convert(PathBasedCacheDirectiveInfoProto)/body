{
  PathBasedCacheDirective.Builder builder=new PathBasedCacheDirective.Builder();
  if (proto.hasId()) {
    builder.setId(proto.getId());
  }
  if (proto.hasPath()) {
    builder.setPath(new Path(proto.getPath()));
  }
  if (proto.hasReplication()) {
    builder.setReplication(Shorts.checkedCast(proto.getReplication()));
  }
  if (proto.hasPool()) {
    builder.setPool(proto.getPool());
  }
  if (proto.hasBytesNeeded()) {
    builder.setBytesNeeded(proto.getBytesNeeded());
  }
  if (proto.hasBytesCached()) {
    builder.setBytesCached(proto.getBytesCached());
  }
  if (proto.hasFilesAffected()) {
    builder.setFilesAffected(proto.getFilesAffected());
  }
  return builder.build();
}
