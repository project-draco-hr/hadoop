{
  if (cs == null)   return null;
  ContentSummaryProto.Builder builder=ContentSummaryProto.newBuilder();
  builder.setLength(cs.getLength()).setFileCount(cs.getFileCount()).setDirectoryCount(cs.getDirectoryCount()).setQuota(cs.getQuota()).setSpaceConsumed(cs.getSpaceConsumed()).setSpaceQuota(cs.getSpaceQuota());
  if (cs.isTypeQuotaSet() || cs.isTypeConsumedAvailable()) {
    HdfsProtos.StorageTypeQuotaInfosProto.Builder isb=HdfsProtos.StorageTypeQuotaInfosProto.newBuilder();
    for (    StorageType t : StorageType.getTypesSupportingQuota()) {
      HdfsProtos.StorageTypeQuotaInfoProto info=HdfsProtos.StorageTypeQuotaInfoProto.newBuilder().setType(PBHelperClient.convertStorageType(t)).setConsumed(cs.getTypeConsumed(t)).setQuota(cs.getTypeQuota(t)).build();
      isb.addTypeQuotaInfo(info);
    }
    builder.setTypeQuotaInfos(isb);
  }
  return builder.build();
}
