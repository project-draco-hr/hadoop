{
  BlockECReconstructionInfoProto.Builder builder=BlockECReconstructionInfoProto.newBuilder();
  builder.setBlock(PBHelperClient.convert(blockEcRecoveryInfo.getExtendedBlock()));
  DatanodeInfo[] sourceDnInfos=blockEcRecoveryInfo.getSourceDnInfos();
  builder.setSourceDnInfos(convertToDnInfosProto(sourceDnInfos));
  DatanodeInfo[] targetDnInfos=blockEcRecoveryInfo.getTargetDnInfos();
  builder.setTargetDnInfos(convertToDnInfosProto(targetDnInfos));
  String[] targetStorageIDs=blockEcRecoveryInfo.getTargetStorageIDs();
  builder.setTargetStorageUuids(convertStorageIDs(targetStorageIDs));
  StorageType[] targetStorageTypes=blockEcRecoveryInfo.getTargetStorageTypes();
  builder.setTargetStorageTypes(convertStorageTypesProto(targetStorageTypes));
  byte[] liveBlockIndices=blockEcRecoveryInfo.getLiveBlockIndices();
  builder.setLiveBlockIndices(PBHelperClient.getByteString(liveBlockIndices));
  builder.setEcPolicy(PBHelperClient.convertErasureCodingPolicy(blockEcRecoveryInfo.getErasureCodingPolicy()));
  return builder.build();
}
