{
  if (lb == null) {
    return null;
  }
  LocatedBlocksProto.Builder builder=LocatedBlocksProto.newBuilder();
  if (lb.getLastLocatedBlock() != null) {
    builder.setLastBlock(PBHelper.convert(lb.getLastLocatedBlock()));
  }
  if (lb.getKey() != null) {
    builder.setKey(ByteString.copyFrom(lb.getKey()));
  }
  if (lb.getIv() != null) {
    builder.setIv(ByteString.copyFrom(lb.getIv()));
  }
  return builder.setFileLength(lb.getFileLength()).setUnderConstruction(lb.isUnderConstruction()).addAllBlocks(PBHelper.convertLocatedBlock2(lb.getLocatedBlocks())).setIsLastBlockComplete(lb.isLastBlockComplete()).build();
}
