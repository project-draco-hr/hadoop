{
  final List<String> datanodeUuids=b.getDatanodeUuidsList();
  final List<String> storageUuids=b.getStorageUuidsList();
  final List<StorageTypeProto> storageTypes=b.getStorageTypesList();
  return new BlockWithLocations(convert(b.getBlock()),datanodeUuids.toArray(new String[datanodeUuids.size()]),storageUuids.toArray(new String[storageUuids.size()]),convertStorageTypes(storageTypes,storageUuids.size()));
}
