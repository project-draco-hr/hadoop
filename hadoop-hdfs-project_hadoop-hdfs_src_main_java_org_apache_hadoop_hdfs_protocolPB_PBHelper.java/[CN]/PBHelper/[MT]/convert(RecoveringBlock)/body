{
  if (b == null) {
    return null;
  }
  LocatedBlockProto lb=PBHelper.convert((LocatedBlock)b);
  RecoveringBlockProto.Builder builder=RecoveringBlockProto.newBuilder();
  builder.setBlock(lb).setNewGenStamp(b.getNewGenerationStamp());
  if (b.getNewBlock() != null)   builder.setTruncateBlock(PBHelper.convert(b.getNewBlock()));
  return builder.build();
}
