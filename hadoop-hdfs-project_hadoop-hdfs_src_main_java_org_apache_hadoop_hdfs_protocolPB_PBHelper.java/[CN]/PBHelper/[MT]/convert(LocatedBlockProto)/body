{
  if (proto == null)   return null;
  List<DatanodeInfoProto> locs=proto.getLocsList();
  DatanodeInfo[] targets=new DatanodeInfo[locs.size()];
  for (int i=0; i < locs.size(); i++) {
    targets[i]=PBHelper.convert(locs.get(i));
  }
  LocatedBlock lb=new LocatedBlock(PBHelper.convert(proto.getB()),targets,proto.getOffset(),proto.getCorrupt());
  lb.setBlockToken(PBHelper.convert(proto.getBlockToken()));
  return lb;
}
