{
  ReceivedDeletedBlockInfoProto.Builder builder=ReceivedDeletedBlockInfoProto.newBuilder();
  ReceivedDeletedBlockInfoProto.BlockStatus status;
switch (receivedDeletedBlockInfo.getStatus()) {
case RECEIVING_BLOCK:
    status=ReceivedDeletedBlockInfoProto.BlockStatus.RECEIVING;
  break;
case RECEIVED_BLOCK:
status=ReceivedDeletedBlockInfoProto.BlockStatus.RECEIVED;
break;
case DELETED_BLOCK:
status=ReceivedDeletedBlockInfoProto.BlockStatus.DELETED;
break;
default :
throw new IllegalArgumentException("Bad status: " + receivedDeletedBlockInfo.getStatus());
}
builder.setStatus(status);
if (receivedDeletedBlockInfo.getDelHints() != null) {
builder.setDeleteHint(receivedDeletedBlockInfo.getDelHints());
}
return builder.setBlock(PBHelper.convert(receivedDeletedBlockInfo.getBlock())).build();
}
