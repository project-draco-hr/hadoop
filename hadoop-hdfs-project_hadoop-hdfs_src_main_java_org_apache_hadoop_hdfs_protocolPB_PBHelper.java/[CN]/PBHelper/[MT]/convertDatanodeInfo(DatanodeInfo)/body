{
  if (di == null)   return null;
  DatanodeInfoProto.Builder builder=DatanodeInfoProto.newBuilder();
  if (di.getHostName() != null) {
    builder.setHostName(di.getHostName());
  }
  if (di.getNetworkLocation() != null) {
    builder.setLocation(di.getNetworkLocation());
  }
  return builder.setId(PBHelper.convert((DatanodeID)di)).setCapacity(di.getCapacity()).setDfsUsed(di.getDfsUsed()).setRemaining(di.getRemaining()).setBlockPoolUsed(di.getBlockPoolUsed()).setLastUpdate(di.getLastUpdate()).setXceiverCount(di.getXceiverCount()).setAdminState(PBHelper.convert(di.getAdminState())).build();
}
