{
  int blockIdx=(int)(currentOffset / stat.getBlockSize());
  UnderlyingBlock block=underlyingBlocks[blockIdx];
  if (currentBlock == block || currentBlock != null && currentBlock.path == block.path) {
    if (currentStream != null) {
      currentBlock=block;
      return;
    }
  }
 else {
    closeCurrentStream();
  }
  currentBlock=block;
  currentStream=lfs.fs.open(currentBlock.path,buffersize);
  long offset=block.actualFileOffset + (currentOffset - block.originalFileOffset);
  currentStream.seek(offset);
}
