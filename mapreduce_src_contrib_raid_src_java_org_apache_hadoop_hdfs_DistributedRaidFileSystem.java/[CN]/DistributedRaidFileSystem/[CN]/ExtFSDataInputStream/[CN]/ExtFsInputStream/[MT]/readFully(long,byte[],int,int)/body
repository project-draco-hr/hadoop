{
  long oldPos=currentOffset;
  seek(pos);
  try {
    while (true) {
      try {
        while (length > 0) {
          int n=read(b,offset,length);
          if (n < 0) {
            throw new IOException("Premature EOF");
          }
          offset+=n;
          length-=n;
        }
        nextLocation=0;
        return;
      }
 catch (      BlockMissingException e) {
        setAlternateLocations(e,currentOffset);
      }
catch (      ChecksumException e) {
        setAlternateLocations(e,currentOffset);
      }
    }
  }
  finally {
    seek(oldPos);
  }
}
