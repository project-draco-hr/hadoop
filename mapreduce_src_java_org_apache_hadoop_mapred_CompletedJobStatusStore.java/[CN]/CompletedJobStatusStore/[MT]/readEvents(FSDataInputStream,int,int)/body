{
  int size=dataIn.readInt();
  if (offset > size) {
    return TaskCompletionEvent.EMPTY_ARRAY;
  }
  if (offset + len > size) {
    len=size - offset;
  }
  TaskCompletionEvent[] events=new TaskCompletionEvent[len];
  for (int i=0; i < (offset + len); i++) {
    TaskCompletionEvent event=new TaskCompletionEvent();
    event.readFields(dataIn);
    if (i >= offset) {
      events[i - offset]=event;
    }
  }
  return events;
}
