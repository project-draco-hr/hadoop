{
  NumberReplicas numberReplicas=blockManager.countNodes(block);
  assertThat(numberReplicas.liveReplicas(),is(expectedReplicas));
  assertThat(numberReplicas.excessReplicas(),is(0));
  assertThat(numberReplicas.corruptReplicas(),is(0));
  assertThat(numberReplicas.decommissionedAndDecommissioning(),is(0));
  assertThat(numberReplicas.replicasOnStaleNodes(),is(0));
  BlockManagerTestUtil.updateState(blockManager);
  assertThat(blockManager.getUnderReplicatedBlocksCount(),is(0L));
  assertThat(blockManager.getExcessBlocksCount(),is(0L));
}
