{
  nodeLocalRequest.setNumContainers(nodeLocalRequest.getNumContainers() - 1);
  if (nodeLocalRequest.getNumContainers() == 0) {
    this.requests.get(priority).remove(node.getNodeName());
  }
  ResourceRequest rackLocalRequest=requests.get(priority).get(node.getRackName());
  rackLocalRequest.setNumContainers(rackLocalRequest.getNumContainers() - 1);
  if (rackLocalRequest.getNumContainers() == 0) {
    this.requests.get(priority).remove(node.getRackName());
  }
  ResourceRequest offRackRequest=requests.get(priority).get(ResourceRequest.ANY);
  decrementOutstanding(offRackRequest);
  resourceRequests.add(cloneResourceRequest(nodeLocalRequest));
  resourceRequests.add(cloneResourceRequest(rackLocalRequest));
  resourceRequests.add(cloneResourceRequest(offRackRequest));
}
