{
  NodeId nodeId=request.getNodeId();
  Priority priority=request.getPriority();
  ContainerId containerId=request.getContainerId();
  Map<Priority,Map<ContainerId,SchedContainerChangeRequest>> requestsOnNode=increaseRequestMap.get(nodeId);
  if (null == requestsOnNode) {
    requestsOnNode=new HashMap<Priority,Map<ContainerId,SchedContainerChangeRequest>>();
    increaseRequestMap.put(nodeId,requestsOnNode);
  }
  Map<ContainerId,SchedContainerChangeRequest> requestsOnNodeWithPriority=requestsOnNode.get(priority);
  if (null == requestsOnNodeWithPriority) {
    requestsOnNodeWithPriority=new TreeMap<ContainerId,SchedContainerChangeRequest>();
    requestsOnNode.put(priority,requestsOnNodeWithPriority);
  }
  requestsOnNodeWithPriority.put(containerId,request);
  String partition=request.getRMContainer().getNodeLabelExpression();
  Resource delta=request.getDeltaCapacity();
  appResourceUsage.incPending(partition,delta);
  queue.incPendingResource(partition,delta);
  if (LOG.isDebugEnabled()) {
    LOG.debug("Added increase request:" + request.getContainerId() + " delta="+ request.getDeltaCapacity());
  }
  priorities.add(priority);
}
