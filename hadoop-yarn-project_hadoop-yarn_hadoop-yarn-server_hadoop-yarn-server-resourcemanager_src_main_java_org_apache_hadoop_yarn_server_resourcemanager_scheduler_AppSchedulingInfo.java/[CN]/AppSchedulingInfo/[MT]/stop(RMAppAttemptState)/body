{
  QueueMetrics metrics=queue.getMetrics();
  for (  Map<String,ResourceRequest> asks : requests.values()) {
    ResourceRequest request=asks.get(RMNode.ANY);
    if (request != null) {
      metrics.decrPendingResources(user,request.getNumContainers(),Resources.multiply(request.getCapability(),request.getNumContainers()));
    }
  }
  metrics.finishApp(this,rmAppAttemptFinalState);
  clearRequests();
}
