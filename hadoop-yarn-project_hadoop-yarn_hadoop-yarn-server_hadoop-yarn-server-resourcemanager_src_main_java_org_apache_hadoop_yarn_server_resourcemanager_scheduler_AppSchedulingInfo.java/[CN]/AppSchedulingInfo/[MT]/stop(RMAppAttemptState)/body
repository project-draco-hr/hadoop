{
  QueueMetrics metrics=queue.getMetrics();
  for (  Map<String,ResourceRequest> asks : requests.values()) {
    ResourceRequest request=asks.get(ResourceRequest.ANY);
    if (request != null) {
      metrics.decrPendingResources(user,request.getNumContainers(),request.getCapability());
    }
  }
  metrics.finishAppAttempt(applicationId,pending,user);
  clearRequests();
}
