{
  try {
    StorageInfo si=PBHelper.convert(request.getStorage(),NodeType.NAME_NODE);
    Boolean result=impl.canRollBack(convert(request.getJid()),si,PBHelper.convert(request.getPrevStorage(),NodeType.NAME_NODE),request.getTargetLayoutVersion());
    return CanRollBackResponseProto.newBuilder().setCanRollBack(result).build();
  }
 catch (  IOException e) {
    throw new ServiceException(e);
  }
}
