{
  Path baseDir=new Path(testBaseDir1());
  Path file=new Path(testBaseDir1(),"file");
  Path link=new Path(testBaseDir1(),"link");
  Path linkToDir=new Path(testBaseDir2(),"linkToDir");
  Path linkViaLink=new Path(linkToDir,"link");
  Path linkNewViaLink=new Path(linkToDir,"linkNew");
  createAndWriteFile(file);
  fc.createSymlink(file,link,false);
  fc.createSymlink(baseDir,linkToDir,false);
  fc.rename(linkViaLink,linkNewViaLink);
  assertFalse(exists(fc,linkViaLink));
  assertTrue(exists(fc,file));
  assertTrue(fc.getFileLinkStatus(linkNewViaLink).isSymlink());
  readFile(linkNewViaLink);
}
