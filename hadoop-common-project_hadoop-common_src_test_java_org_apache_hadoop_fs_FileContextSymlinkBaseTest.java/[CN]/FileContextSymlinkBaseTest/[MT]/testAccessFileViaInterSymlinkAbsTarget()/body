{
  Path baseDir=new Path(testBaseDir1());
  Path file=new Path(testBaseDir1(),"file");
  Path fileNew=new Path(baseDir,"fileNew");
  Path linkToDir=new Path(testBaseDir2(),"linkToDir");
  Path fileViaLink=new Path(linkToDir,"file");
  Path fileNewViaLink=new Path(linkToDir,"fileNew");
  fc.createSymlink(baseDir,linkToDir,false);
  createAndWriteFile(fileViaLink);
  assertTrue(exists(fc,fileViaLink));
  assertTrue(isFile(fc,fileViaLink));
  assertFalse(isDir(fc,fileViaLink));
  assertFalse(fc.getFileLinkStatus(fileViaLink).isSymlink());
  assertFalse(isDir(fc,fileViaLink));
  assertEquals(fc.getFileStatus(file),fc.getFileLinkStatus(file));
  assertEquals(fc.getFileStatus(fileViaLink),fc.getFileLinkStatus(fileViaLink));
  readFile(fileViaLink);
  appendToFile(fileViaLink);
  fc.rename(fileViaLink,fileNewViaLink);
  assertFalse(exists(fc,fileViaLink));
  assertTrue(exists(fc,fileNewViaLink));
  readFile(fileNewViaLink);
  assertEquals(fc.getFileBlockLocations(fileNew,0,1).length,fc.getFileBlockLocations(fileNewViaLink,0,1).length);
  assertEquals(fc.getFileChecksum(fileNew),fc.getFileChecksum(fileNewViaLink));
  fc.delete(fileNewViaLink,true);
  assertFalse(exists(fc,fileNewViaLink));
}
