{
  if (request.getCapability().getMemorySize() < 0 || request.getCapability().getMemorySize() > maximumAllocation.getMemorySize()) {
    return false;
  }
  if (request.getCapability().getVirtualCores() < 0 || request.getCapability().getVirtualCores() > maximumAllocation.getVirtualCores()) {
    return false;
  }
  ResourceScheduler scheduler=rmContext.getScheduler();
  ResourceCalculator rc=scheduler.getResourceCalculator();
  Resource targetResource=Resources.normalize(rc,request.getCapability(),scheduler.getMinimumResourceCapability(),scheduler.getMaximumResourceCapability(),scheduler.getMinimumResourceCapability());
  request.setCapability(targetResource);
  return true;
}
