{
  if (closed)   return;
  closed=true;
  if (cacheCleaner != null) {
    executor.remove(cacheCleaner);
  }
  for (Iterator<Entry<Key,Value>> iter=map.entries().iterator(); iter.hasNext(); iter=map.entries().iterator()) {
    Entry<Key,Value> entry=iter.next();
    entry.getValue().close();
    iter.remove();
  }
}
