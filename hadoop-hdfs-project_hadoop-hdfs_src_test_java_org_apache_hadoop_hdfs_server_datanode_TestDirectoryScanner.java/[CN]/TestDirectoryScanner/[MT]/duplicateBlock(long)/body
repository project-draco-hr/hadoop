{
synchronized (fds) {
    ReplicaInfo b=FsDatasetTestUtil.fetchReplicaInfo(fds,bpid,blockId);
    for (    FsVolumeSpi v : fds.getVolumes()) {
      if (v.getStorageID().equals(b.getVolume().getStorageID())) {
        continue;
      }
      File sourceBlock=b.getBlockFile();
      File sourceMeta=b.getMetaFile();
      String sourceRoot=b.getVolume().getBasePath();
      String destRoot=v.getBasePath();
      String relativeBlockPath=new File(sourceRoot).toURI().relativize(sourceBlock.toURI()).getPath();
      String relativeMetaPath=new File(sourceRoot).toURI().relativize(sourceMeta.toURI()).getPath();
      File destBlock=new File(destRoot,relativeBlockPath);
      File destMeta=new File(destRoot,relativeMetaPath);
      destBlock.getParentFile().mkdirs();
      FileUtils.copyFile(sourceBlock,destBlock);
      FileUtils.copyFile(sourceMeta,destMeta);
      if (destBlock.exists() && destMeta.exists()) {
        LOG.info("Copied " + sourceBlock + " ==> "+ destBlock);
        LOG.info("Copied " + sourceMeta + " ==> "+ destMeta);
      }
    }
  }
}
