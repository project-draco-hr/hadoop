{
  FSDataOutputStream out=create(f,overwrite,false,bufferSize,replication,blockSize,progress);
  boolean success=false;
  try {
    setPermission(f,permission);
    success=true;
    return out;
  }
  finally {
    if (!success) {
      IOUtils.cleanup(LOG,out);
    }
  }
}
