{
  ClientProtocol server=mock(ClientProtocol.class);
  RpcController controller=mock(RpcController.class);
  AddPathBasedCacheDirectiveRequestProto request=AddPathBasedCacheDirectiveRequestProto.newBuilder().setDirective(PathBasedCacheDirectiveProto.newBuilder().setPath("").setPool("pool").build()).build();
  ClientNamenodeProtocolServerSideTranslatorPB translator=new ClientNamenodeProtocolServerSideTranslatorPB(server);
  try {
    translator.addPathBasedCacheDirective(controller,request);
    fail("Expected ServiceException");
  }
 catch (  ServiceException e) {
    assertNotNull(e.getCause());
    assertTrue(e.getCause() instanceof EmptyPathError);
  }
}
