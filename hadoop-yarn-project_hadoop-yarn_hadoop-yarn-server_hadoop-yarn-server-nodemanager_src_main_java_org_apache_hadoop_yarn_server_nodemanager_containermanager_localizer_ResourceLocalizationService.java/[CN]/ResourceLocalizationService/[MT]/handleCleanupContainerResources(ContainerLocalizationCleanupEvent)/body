{
  Container c=rsrcCleanup.getContainer();
  Map<LocalResourceVisibility,Collection<LocalResourceRequest>> rsrcs=rsrcCleanup.getResources();
  for (  Map.Entry<LocalResourceVisibility,Collection<LocalResourceRequest>> e : rsrcs.entrySet()) {
    LocalResourcesTracker tracker=getLocalResourcesTracker(e.getKey(),c.getUser(),c.getContainerId().getApplicationAttemptId().getApplicationId());
    for (    LocalResourceRequest req : e.getValue()) {
      tracker.handle(new ResourceReleaseEvent(req,c.getContainerId()));
    }
  }
  String locId=ConverterUtils.toString(c.getContainerId());
  localizerTracker.cleanupPrivLocalizers(locId);
  String userName=c.getUser();
  String containerIDStr=c.toString();
  String appIDStr=ConverterUtils.toString(c.getContainerId().getApplicationAttemptId().getApplicationId());
  for (  String localDir : dirsHandler.getLocalDirsForCleanup()) {
    Path usersdir=new Path(localDir,ContainerLocalizer.USERCACHE);
    Path userdir=new Path(usersdir,userName);
    Path allAppsdir=new Path(userdir,ContainerLocalizer.APPCACHE);
    Path appDir=new Path(allAppsdir,appIDStr);
    Path containerDir=new Path(appDir,containerIDStr);
    submitDirForDeletion(userName,containerDir);
    Path sysDir=new Path(localDir,NM_PRIVATE_DIR);
    Path appSysDir=new Path(sysDir,appIDStr);
    Path containerSysDir=new Path(appSysDir,containerIDStr);
    submitDirForDeletion(null,containerSysDir);
  }
  dispatcher.getEventHandler().handle(new ContainerEvent(c.getContainerId(),ContainerEventType.CONTAINER_RESOURCES_CLEANEDUP));
}
