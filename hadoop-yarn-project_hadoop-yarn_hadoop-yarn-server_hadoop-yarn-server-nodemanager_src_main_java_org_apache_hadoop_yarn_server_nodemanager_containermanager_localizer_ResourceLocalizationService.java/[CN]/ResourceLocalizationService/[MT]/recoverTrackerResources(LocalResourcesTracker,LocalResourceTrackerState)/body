{
  for (  LocalizedResourceProto proto : state.getLocalizedResources()) {
    LocalResource rsrc=new LocalResourcePBImpl(proto.getResource());
    LocalResourceRequest req=new LocalResourceRequest(rsrc);
    LOG.info("Recovering localized resource " + req + " at "+ proto.getLocalPath());
    tracker.handle(new ResourceRecoveredEvent(req,new Path(proto.getLocalPath()),proto.getSize()));
  }
  for (  Map.Entry<LocalResourceProto,Path> entry : state.getInProgressResources().entrySet()) {
    LocalResource rsrc=new LocalResourcePBImpl(entry.getKey());
    LocalResourceRequest req=new LocalResourceRequest(rsrc);
    Path localPath=entry.getValue();
    tracker.handle(new ResourceRecoveredEvent(req,localPath,0));
    LOG.info("Deleting in-progress localization for " + req + " at "+ localPath);
    tracker.remove(tracker.getLocalizedResource(req),delService);
  }
}
