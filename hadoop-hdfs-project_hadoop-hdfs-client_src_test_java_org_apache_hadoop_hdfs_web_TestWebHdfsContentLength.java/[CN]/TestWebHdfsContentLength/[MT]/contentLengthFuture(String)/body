{
  return executor.submit(new Callable<String>(){
    @Override public String call() throws Exception {
      Socket client=listenSocket.accept();
      client.setSoTimeout(2000);
      try {
        client.getOutputStream().write(response.getBytes());
        client.shutdownOutput();
        byte[] buf=new byte[4 * 1024];
        StringBuilder sb=new StringBuilder();
        for (; ; ) {
          int n=client.getInputStream().read(buf);
          if (n <= 0) {
            break;
          }
          sb.append(new String(buf,0,n,"UTF-8"));
        }
        return sb.toString();
      }
  finally {
        client.close();
      }
    }
  }
);
}
