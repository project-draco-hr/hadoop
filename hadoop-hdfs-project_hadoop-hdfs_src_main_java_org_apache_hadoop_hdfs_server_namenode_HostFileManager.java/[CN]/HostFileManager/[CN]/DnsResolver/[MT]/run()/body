{
  EntrySet oldIncludes, oldExcludes;
synchronized (HostFileManager.this) {
    oldIncludes=includes;
    oldExcludes=excludes;
  }
  MutableEntrySet newIncludes=new MutableEntrySet();
  for (  Entry e : oldIncludes) {
    newIncludes.add(Entry.fromPrefixAndPort(null,e.prefix,e.port));
  }
  MutableEntrySet newExcludes=new MutableEntrySet();
  for (  Entry e : oldExcludes) {
    newExcludes.add(Entry.fromPrefixAndPort(null,e.prefix,e.port));
  }
synchronized (HostFileManager.this) {
    if (includes == oldIncludes) {
      includes=newIncludes;
    }
    if (excludes == oldExcludes) {
      excludes=newExcludes;
    }
  }
}
