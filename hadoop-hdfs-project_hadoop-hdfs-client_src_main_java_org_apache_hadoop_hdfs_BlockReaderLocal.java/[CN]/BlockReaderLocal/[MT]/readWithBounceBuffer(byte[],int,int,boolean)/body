{
  createDataBufIfNeeded();
  if (!dataBuf.hasRemaining()) {
    dataBuf.position(0);
    dataBuf.limit(maxReadaheadLength);
    fillDataBuf(canSkipChecksum);
  }
  if (dataBuf.remaining() == 0)   return -1;
  int toRead=Math.min(dataBuf.remaining(),len);
  dataBuf.get(arr,off,toRead);
  return toRead;
}
