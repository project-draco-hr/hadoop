{
  boolean anchor=verifyChecksum && (opts.contains(ReadOption.SKIP_CHECKSUMS) == false);
  if (anchor) {
    if (!createNoChecksumContext()) {
      if (LOG.isTraceEnabled()) {
        LOG.trace("can't get an mmap for " + block + " of "+ filename+ " since SKIP_CHECKSUMS was not given, "+ "we aren't skipping checksums, and the block is not mlocked.");
      }
      return null;
    }
  }
  ClientMmap clientMmap=null;
  try {
    clientMmap=replica.getOrCreateClientMmap(anchor);
  }
  finally {
    if ((clientMmap == null) && anchor) {
      releaseNoChecksumContext();
    }
  }
  return clientMmap;
}
