{
  int assignedContainers=0;
  ResourceRequest request=application.getResourceRequest(priority,node.getRMNode().getRackName());
  if (request != null) {
    int assignableContainers=Math.min(getMaxAllocatableContainers(application,priority,node,NodeType.RACK_LOCAL),request.getNumContainers());
    assignedContainers=assignContainer(node,application,priority,assignableContainers,request,NodeType.RACK_LOCAL);
  }
  return assignedContainers;
}
