{
  SchedulerApp application=getApplication(applicationAttemptId);
  if (application == null) {
    throw new IOException("Unknown application " + applicationAttemptId + " has completed!");
  }
  for (  RMContainer container : application.getLiveContainers()) {
    containerCompleted(container,RMContainerEventType.KILL);
  }
  application.stop(rmAppAttemptFinalState);
  applications.remove(applicationAttemptId);
}
