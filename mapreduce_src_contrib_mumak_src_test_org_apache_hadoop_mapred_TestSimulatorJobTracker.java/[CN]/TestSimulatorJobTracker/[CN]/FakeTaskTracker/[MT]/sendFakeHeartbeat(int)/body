{
  int numLaunchTaskActions=0;
  this.now=current;
  List<TaskStatus> taskStatuses=collectAndCloneTaskStatuses();
  TaskTrackerStatus taskTrackerStatus=new SimulatorTaskTrackerStatus(taskTrackerName,hostName,httpPort,taskStatuses,0,maxMapSlots,maxReduceSlots,this.now);
  HeartbeatResponse response=null;
  LOG.debug("sending heartbeat at time = " + this.now + " responseId = "+ responseId);
  response=jobTracker.heartbeat(taskTrackerStatus,false,firstHeartbeat,true,responseId);
  firstHeartbeat=false;
  responseId=response.getResponseId();
  numLaunchTaskActions=findLaunchTaskActions(response);
  return numLaunchTaskActions;
}
