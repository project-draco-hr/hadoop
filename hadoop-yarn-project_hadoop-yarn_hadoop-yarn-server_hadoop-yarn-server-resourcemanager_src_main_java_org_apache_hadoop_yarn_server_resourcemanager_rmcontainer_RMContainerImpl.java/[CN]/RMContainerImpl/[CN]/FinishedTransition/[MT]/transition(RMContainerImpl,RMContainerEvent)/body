{
  RMContainerFinishedEvent finishedEvent=(RMContainerFinishedEvent)event;
  container.finishTime=System.currentTimeMillis();
  container.finishedStatus=finishedEvent.getRemoteContainerStatus();
  updateAttemptMetrics(container);
  container.eventHandler.handle(new RMAppAttemptContainerFinishedEvent(container.appAttemptId,finishedEvent.getRemoteContainerStatus(),container.getAllocatedNode()));
  container.rmContext.getRMApplicationHistoryWriter().containerFinished(container);
  container.rmContext.getSystemMetricsPublisher().containerFinished(container,container.finishTime);
}
