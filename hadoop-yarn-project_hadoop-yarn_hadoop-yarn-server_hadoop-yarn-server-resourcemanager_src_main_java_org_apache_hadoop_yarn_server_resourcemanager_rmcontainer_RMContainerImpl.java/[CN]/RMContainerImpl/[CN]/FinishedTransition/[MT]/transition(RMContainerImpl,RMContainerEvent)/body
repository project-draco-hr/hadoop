{
  RMContainerFinishedEvent finishedEvent=(RMContainerFinishedEvent)event;
  container.finishTime=System.currentTimeMillis();
  container.finishedStatus=finishedEvent.getRemoteContainerStatus();
  updateMetricsIfPreempted(container);
  container.eventHandler.handle(new RMAppAttemptContainerFinishedEvent(container.appAttemptId,finishedEvent.getRemoteContainerStatus()));
  container.rmContext.getRMApplicationHistoryWriter().containerFinished(container);
}
