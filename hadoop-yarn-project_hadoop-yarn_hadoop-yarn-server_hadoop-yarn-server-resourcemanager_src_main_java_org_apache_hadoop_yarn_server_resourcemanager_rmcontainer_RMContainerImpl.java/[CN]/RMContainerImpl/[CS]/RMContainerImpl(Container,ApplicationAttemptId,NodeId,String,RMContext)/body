{
  this.stateMachine=stateMachineFactory.make(this);
  this.containerId=container.getId();
  this.nodeId=nodeId;
  this.container=container;
  this.appAttemptId=appAttemptId;
  this.user=user;
  this.startTime=System.currentTimeMillis();
  this.rmContext=rmContext;
  this.eventHandler=rmContext.getDispatcher().getEventHandler();
  this.containerAllocationExpirer=rmContext.getContainerAllocationExpirer();
  ReentrantReadWriteLock lock=new ReentrantReadWriteLock();
  this.readLock=lock.readLock();
  this.writeLock=lock.writeLock();
  rmContext.getRMApplicationHistoryWriter().containerStarted(this);
}
