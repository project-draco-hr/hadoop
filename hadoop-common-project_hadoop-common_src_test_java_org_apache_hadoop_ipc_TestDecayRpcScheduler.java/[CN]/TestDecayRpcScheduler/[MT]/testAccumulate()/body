{
  Configuration conf=new Configuration();
  conf.set("ns." + DecayRpcScheduler.IPC_FCQ_DECAYSCHEDULER_PERIOD_KEY,"99999999");
  scheduler=new DecayRpcScheduler(1,"ns",conf);
  assertEquals(0,scheduler.getCallCountSnapshot().size());
  scheduler.getPriorityLevel(mockCall("A"));
  assertEquals(1,scheduler.getCallCountSnapshot().get("A").longValue());
  assertEquals(1,scheduler.getCallCountSnapshot().get("A").longValue());
  scheduler.getPriorityLevel(mockCall("A"));
  scheduler.getPriorityLevel(mockCall("B"));
  scheduler.getPriorityLevel(mockCall("A"));
  assertEquals(3,scheduler.getCallCountSnapshot().get("A").longValue());
  assertEquals(1,scheduler.getCallCountSnapshot().get("B").longValue());
}
