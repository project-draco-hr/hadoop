{
  RollingWindow window=new RollingWindow(WINDOW_LEN,BUCKET_CNT);
  long time=2 * WINDOW_LEN + BUCKET_LEN * 3 / 2;
  window.incAt(time,5);
  time++;
  Assert.assertEquals("The sum of rolling window does not reflect the recent update",5,window.getSum(time));
  long reorderedTime=time - 2 * BUCKET_LEN;
  window.incAt(reorderedTime,6);
  Assert.assertEquals("The sum of rolling window does not reflect the reordered update",11,window.getSum(time));
  time=reorderedTime + WINDOW_LEN;
  Assert.assertEquals("The sum of rolling window does not reflect rolling effect",5,window.getSum(time));
}
