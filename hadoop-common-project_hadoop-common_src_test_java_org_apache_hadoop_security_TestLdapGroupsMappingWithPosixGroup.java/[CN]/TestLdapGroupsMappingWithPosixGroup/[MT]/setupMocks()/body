{
  SearchResult mockUserResult=mock(SearchResult.class);
  when(mockUserNamingEnum.nextElement()).thenReturn(mockUserResult);
  Attribute mockUidNumberAttr=mock(Attribute.class);
  Attribute mockGidNumberAttr=mock(Attribute.class);
  Attribute mockUidAttr=mock(Attribute.class);
  Attributes mockAttrs=mock(Attributes.class);
  when(mockUidAttr.get()).thenReturn("some_user");
  when(mockUidNumberAttr.get()).thenReturn("700");
  when(mockGidNumberAttr.get()).thenReturn("600");
  when(mockAttrs.get(eq("uid"))).thenReturn(mockUidAttr);
  when(mockAttrs.get(eq("uidNumber"))).thenReturn(mockUidNumberAttr);
  when(mockAttrs.get(eq("gidNumber"))).thenReturn(mockGidNumberAttr);
  when(mockUserResult.getAttributes()).thenReturn(mockAttrs);
}
