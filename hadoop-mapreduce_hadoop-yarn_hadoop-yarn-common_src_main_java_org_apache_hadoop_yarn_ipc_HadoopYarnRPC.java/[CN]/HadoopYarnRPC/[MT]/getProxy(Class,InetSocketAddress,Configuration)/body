{
  Configuration myConf=new Configuration(conf);
  LOG.info("Creating a HadoopYarnRpc proxy for protocol " + protocol);
  LOG.debug("Configured SecurityInfo class name is " + myConf.get(YarnConfiguration.YARN_SECURITY_INFO));
  RPC.setProtocolEngine(myConf,protocol,AvroSpecificRpcEngine.class);
  try {
    return RPC.getProxy(protocol,1,addr,myConf);
  }
 catch (  IOException e) {
    throw new YarnException(e);
  }
}
