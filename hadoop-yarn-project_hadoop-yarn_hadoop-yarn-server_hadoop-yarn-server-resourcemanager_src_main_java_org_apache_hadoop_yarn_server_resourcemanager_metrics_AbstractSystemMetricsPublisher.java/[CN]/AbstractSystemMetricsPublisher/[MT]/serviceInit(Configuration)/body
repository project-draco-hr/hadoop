{
  dispatcher=new MultiThreadedDispatcher(getConfig().getInt(YarnConfiguration.RM_SYSTEM_METRICS_PUBLISHER_DISPATCHER_POOL_SIZE,YarnConfiguration.DEFAULT_RM_SYSTEM_METRICS_PUBLISHER_DISPATCHER_POOL_SIZE));
  dispatcher.setDrainEventsOnStop();
  addIfService(dispatcher);
  super.serviceInit(conf);
}
