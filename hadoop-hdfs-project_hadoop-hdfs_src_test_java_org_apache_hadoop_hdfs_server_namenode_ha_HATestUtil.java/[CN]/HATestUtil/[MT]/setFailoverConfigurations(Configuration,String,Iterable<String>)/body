{
  List<String> nnids=new ArrayList<String>();
  int i=0;
  for (  String address : nnAddresses) {
    String nnId="nn" + (i + 1);
    nnids.add(nnId);
    conf.set(DFSUtil.addKeySuffixes(DFS_NAMENODE_RPC_ADDRESS_KEY,logicalName,nnId),address);
    i++;
  }
  conf.set(DFSConfigKeys.DFS_NAMESERVICES,logicalName);
  conf.set(DFSUtil.addKeySuffixes(DFS_HA_NAMENODES_KEY_PREFIX,logicalName),Joiner.on(',').join(nnids));
  conf.set(HdfsClientConfigKeys.Failover.PROXY_PROVIDER_KEY_PREFIX + "." + logicalName,ConfiguredFailoverProxyProvider.class.getName());
  conf.set("fs.defaultFS","hdfs://" + logicalName);
}
