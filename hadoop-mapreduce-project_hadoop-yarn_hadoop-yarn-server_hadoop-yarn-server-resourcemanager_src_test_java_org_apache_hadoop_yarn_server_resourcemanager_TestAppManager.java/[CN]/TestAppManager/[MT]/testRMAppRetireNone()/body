{
  long now=System.currentTimeMillis();
  RMContext rmContext=mockRMContext(10,now - 10);
  TestRMAppManager appMonitor=new TestRMAppManager(rmContext,new Configuration());
  appMonitor.setCompletedAppsMax(10);
  Assert.assertEquals("Number of apps incorrect before checkAppTimeLimit",10,rmContext.getRMApps().size());
  addToCompletedApps(appMonitor,rmContext);
  appMonitor.checkAppNumCompletedLimit();
  Assert.assertEquals("Number of apps incorrect after # completed check",10,rmContext.getRMApps().size());
  Assert.assertEquals("Number of completed apps incorrect after check",10,appMonitor.getCompletedAppsListSize());
}
