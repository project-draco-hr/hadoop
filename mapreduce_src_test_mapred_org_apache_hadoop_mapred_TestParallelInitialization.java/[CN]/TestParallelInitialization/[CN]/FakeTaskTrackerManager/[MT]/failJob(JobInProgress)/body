{
  JobStatus prevStatus=(JobStatus)job.getStatus().clone();
  job.fail();
  JobStatus newStatus=(JobStatus)job.getStatus().clone();
  if (prevStatus.getRunState() != newStatus.getRunState()) {
    JobStatusChangeEvent event=new JobStatusChangeEvent(job,EventType.RUN_STATE_CHANGED,prevStatus,newStatus);
    for (    JobInProgressListener listener : listeners) {
      listener.jobUpdated(event);
    }
  }
}
