{
  if (fsd.isPermissionEnabled()) {
    fsd.checkPermission(pc,src,false,null,FsAction.WRITE,null,null,false,false);
    fsd.checkPermission(pc,dst,false,FsAction.WRITE,null,null,null,false,false);
  }
  long mtime=now();
  renameTo(fsd,src,dst,mtime,collectedBlocks,options);
  fsd.getEditLog().logRename(src,dst,mtime,logRetryCache,options);
}
