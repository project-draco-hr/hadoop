{
  if (fsd.isPermissionEnabled()) {
    INodesInPath srcIIP=fsd.getINodesInPath(src,false);
    fsd.checkPermission(pc,srcIIP,false,null,FsAction.WRITE,null,null,false);
    INodesInPath dstIIP=fsd.getINodesInPath(dst,false);
    fsd.checkPermission(pc,dstIIP,false,FsAction.WRITE,null,null,null,false);
  }
  long mtime=now();
  renameTo(fsd,src,dst,mtime,collectedBlocks,options);
  fsd.getEditLog().logRename(src,dst,mtime,logRetryCache,options);
}
