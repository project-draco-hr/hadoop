{
  Path file=getTestRootPath(fc,"file");
  Path link=getTestRootPath(fc,"linkToFile");
  if (!fc.getDefaultFileSystem().supportsSymlinks()) {
    try {
      fc.createSymlink(file,link,false);
      Assert.fail("Created a symlink on a file system that " + "does not support symlinks.");
    }
 catch (    IOException e) {
    }
    createFile(file);
    try {
      fc.getLinkTarget(file);
      Assert.fail("Got a link target on a file system that " + "does not support symlinks.");
    }
 catch (    IOException e) {
    }
    Assert.assertEquals(fc.getFileStatus(file),fc.getFileLinkStatus(file));
  }
}
