{
  ContainerId containerId=container.getContainerId();
  if (null != rm.scheduler.getRMContainer(containerId)) {
    if (containerId.equals(amContainerId)) {
      rm.waitForState(nm,containerId,RMContainerState.COMPLETED);
    }
 else {
      rm.waitForState(nm,containerId,RMContainerState.KILLED);
    }
  }
 else {
    rm.drainEvents();
  }
}
