{
  ChildrenDiff diff=null;
  Integer undoInfo=null;
  if (isInLatestSnapshot(latest)) {
    diff=diffs.checkAndAddLatestSnapshotDiff(latest,this).diff;
    undoInfo=diff.create(inode);
  }
  final boolean added=super.addChild(inode,setModTime,null,inodeMap);
  if (!added && undoInfo != null) {
    diff.undoCreate(inode,undoInfo);
  }
  return added;
}
