{
  ChildrenDiff diff=null;
  UndoInfo<INode> undoInfo=null;
  if (latest != null) {
    diff=diffs.checkAndAddLatestSnapshotDiff(latest).diff;
    undoInfo=diff.delete(child);
  }
  final INode removed=super.removeChild(child,null);
  if (undoInfo != null) {
    if (removed == null) {
      diff.undoDelete(child,undoInfo);
    }
  }
  return removed;
}
