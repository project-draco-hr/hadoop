{
  Diff diff=null;
  Triple<Integer,INode,Integer> undoInfo=null;
  if (latest != null) {
    diff=checkAndAddLatestDiff(latest);
    undoInfo=diff.delete(child,true);
  }
  final INode removed=super.removeChild(child,null);
  if (removed == null && undoInfo != null) {
    diff.undoDelete(child,undoInfo);
  }
  return removed;
}
