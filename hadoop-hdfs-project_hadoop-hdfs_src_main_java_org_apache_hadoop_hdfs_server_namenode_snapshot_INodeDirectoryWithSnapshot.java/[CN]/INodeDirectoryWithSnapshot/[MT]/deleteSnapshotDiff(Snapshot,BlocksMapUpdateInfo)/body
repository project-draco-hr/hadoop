{
  int snapshotIndex=Collections.binarySearch(diffs,snapshot);
  if (snapshotIndex == -1) {
    return null;
  }
 else {
    SnapshotDiff diffToRemove=null;
    diffToRemove=diffs.remove(snapshotIndex);
    if (snapshotIndex > 0) {
      SnapshotDiff previousDiff=diffs.get(snapshotIndex - 1);
      previousDiff.diff.combinePostDiff(diffToRemove.diff,collectedBlocks);
      previousDiff.posteriorDiff=diffToRemove.posteriorDiff;
      diffToRemove.posteriorDiff=null;
    }
    return diffToRemove;
  }
}
