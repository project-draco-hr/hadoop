{
  ChildrenDiff diff=null;
  UndoInfo<INode> undoInfo=null;
  if (isInLatestSnapshot(latest)) {
    diff=diffs.checkAndAddLatestSnapshotDiff(latest,this).diff;
    undoInfo=diff.delete(child);
  }
  final boolean removed=removeChild(child);
  if (undoInfo != null) {
    if (!removed) {
      diff.undoDelete(child,undoInfo);
    }
  }
  return removed;
}
