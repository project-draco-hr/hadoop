{
  final INodeDirectoryWithSnapshot withSnapshot=new INodeDirectoryWithSnapshot(dir,true,null);
  if (latest != null) {
    withSnapshot.diffs.addSnapshotDiff(latest,dir,false);
  }
  return withSnapshot;
}
