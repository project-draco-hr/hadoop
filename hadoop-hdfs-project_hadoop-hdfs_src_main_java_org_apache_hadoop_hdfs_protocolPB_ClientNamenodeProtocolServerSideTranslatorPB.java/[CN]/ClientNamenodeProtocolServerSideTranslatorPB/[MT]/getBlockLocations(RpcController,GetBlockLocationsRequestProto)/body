{
  try {
    LocatedBlocks b=server.getBlockLocations(req.getSrc(),req.getOffset(),req.getLength());
    Builder builder=GetBlockLocationsResponseProto.newBuilder();
    if (b != null) {
      builder.setLocations(PBHelper.convert(server.getBlockLocations(req.getSrc(),req.getOffset(),req.getLength()))).build();
    }
    return builder.build();
  }
 catch (  IOException e) {
    throw new ServiceException(e);
  }
}
