{
  try {
    Token<DelegationTokenIdentifier> token=server.getDelegationToken(new Text(req.getRenewer()));
    GetDelegationTokenResponseProto.Builder rspBuilder=GetDelegationTokenResponseProto.newBuilder();
    if (token != null) {
      rspBuilder.setToken(PBHelper.convert(token));
    }
    return rspBuilder.build();
  }
 catch (  IOException e) {
    throw new ServiceException(e);
  }
}
