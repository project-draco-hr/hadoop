{
  ArrayList<Rename> optionList=new ArrayList<Rename>();
  if (req.getOverwriteDest()) {
    optionList.add(Rename.OVERWRITE);
  }
 else   if (req.hasMoveToTrash()) {
    optionList.add(Rename.TO_TRASH);
  }
  if (optionList.isEmpty()) {
    optionList.add(Rename.NONE);
  }
  try {
    server.rename2(req.getSrc(),req.getDst(),optionList.toArray(new Rename[optionList.size()]));
  }
 catch (  IOException e) {
    throw new ServiceException(e);
  }
  return VOID_RENAME2_RESPONSE;
}
