{
  builder.setRecordFilter(recordFilter).setMetricFilter(metricFilter);
  try {
    source.getMetrics(builder,all);
  }
 catch (  Exception e) {
    LOG.error("Error getting metrics from source " + name,e);
  }
  for (  MetricsRecordBuilderImpl rb : builder) {
    for (    MetricsTag t : injectedTags) {
      rb.add(t);
    }
  }
  return builder.getRecords();
}
