{
  List<InodeTree.MountPoint<AbstractFileSystem>> mountPoints=fsState.getMountPoints();
  int initialListSize=0;
  for (  InodeTree.MountPoint<AbstractFileSystem> im : mountPoints) {
    initialListSize+=im.target.targetDirLinkList.length;
  }
  List<Token<?>> result=new ArrayList<Token<?>>(initialListSize);
  for (int i=0; i < mountPoints.size(); ++i) {
    List<Token<?>> tokens=mountPoints.get(i).target.targetFileSystem.getDelegationTokens(renewer);
    if (tokens != null) {
      result.addAll(tokens);
    }
  }
  return result;
}
