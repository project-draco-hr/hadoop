{
  Configuration conf=new YarnConfiguration();
  YarnClient mockYarnClient=createMockYarnClient(YarnApplicationState.FINISHED,UserGroupInformation.getCurrentUser().getShortUserName());
  LogsCLI dumper=new LogsCLIForTest(mockYarnClient);
  dumper.setConf(conf);
  int exitCode=dumper.run(new String[]{});
  assertTrue(exitCode == -1);
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  PrintWriter pw=new PrintWriter(baos);
  pw.println("Retrieve logs for completed YARN applications.");
  pw.println("usage: yarn logs -applicationId <application ID> [OPTIONS]");
  pw.println();
  pw.println("general options are:");
  pw.println(" -am <AM Containers>             Prints the AM Container logs for this");
  pw.println("                                 application. Specify comma-separated");
  pw.println("                                 value to get logs for related AM");
  pw.println("                                 Container. For example, If we specify -am");
  pw.println("                                 1,2, we will get the logs for the first");
  pw.println("                                 AM Container as well as the second AM");
  pw.println("                                 Container. To get logs for all AM");
  pw.println("                                 Containers, use -am ALL. To get logs for");
  pw.println("                                 the latest AM Container, use -am -1. By");
  pw.println("                                 default, it will only print out syslog.");
  pw.println("                                 Work with -logFiles to get other logs");
  pw.println(" -appOwner <Application Owner>   AppOwner (assumed to be current user if");
  pw.println("                                 not specified)");
  pw.println(" -containerId <Container ID>     ContainerId. By default, it will only");
  pw.println("                                 print syslog if the application is");
  pw.println("                                 running. Work with -logFiles to get other");
  pw.println("                                 logs. If specified, the applicationId can");
  pw.println("                                 be omitted");
  pw.println(" -help                           Displays help for all commands.");
  pw.println(" -list_nodes                     Show the list of nodes that successfully");
  pw.println("                                 aggregated logs. This option can only be");
  pw.println("                                 used with finished applications.");
  pw.println(" -logFiles <Log File Name>       Specify comma-separated value to get");
  pw.println("                                 specified container log files. Use \"ALL\"");
  pw.println("                                 to fetch all the log files for the");
  pw.println("                                 container. It also supports Java Regex.");
  pw.println(" -nodeAddress <Node Address>     NodeAddress in the format nodename:port");
  pw.println(" -out <Local Directory>          Local directory for storing individual");
  pw.println("                                 container logs. The container logs will");
  pw.println("                                 be stored based on the node the container");
  pw.println("                                 ran on.");
  pw.println(" -show_meta_info                 Show the log metadata, including log-file");
  pw.println("                                 names, the size of the log files. You can");
  pw.println("                                 combine this with --containerId to get");
  pw.println("                                 log metadata for the specific container,");
  pw.println("                                 or with --nodeAddress to get log metadata");
  pw.println("                                 for all the containers on the specific");
  pw.println("                                 NodeManager. Currently, this option can");
  pw.println("                                 only be used for finished applications.");
  pw.println(" -size <size>                    Prints the log file's first 'n' bytes or");
  pw.println("                                 the last 'n' bytes. Use negative values");
  pw.println("                                 as bytes to read from the end and");
  pw.println("                                 positive values as bytes to read from the");
  pw.println("                                 beginning.");
  pw.close();
  String appReportStr=baos.toString("UTF-8");
  Assert.assertEquals(appReportStr,sysOutStream.toString());
}
