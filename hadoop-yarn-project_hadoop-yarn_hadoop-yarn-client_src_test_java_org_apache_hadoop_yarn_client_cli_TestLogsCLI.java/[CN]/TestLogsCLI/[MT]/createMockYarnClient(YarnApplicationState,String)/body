{
  YarnClient mockClient=mock(YarnClient.class);
  ApplicationReport mockAppReport=mock(ApplicationReport.class);
  doReturn(user).when(mockAppReport).getUser();
  doReturn(appState).when(mockAppReport).getYarnApplicationState();
  doReturn(mockAppReport).when(mockClient).getApplicationReport(any(ApplicationId.class));
  return mockClient;
}
