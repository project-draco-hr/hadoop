{
  YarnClient mockClient=mock(YarnClient.class);
  ApplicationReport mockAppReport=mock(ApplicationReport.class);
  doReturn(user).when(mockAppReport).getUser();
  doReturn(appState).when(mockAppReport).getYarnApplicationState();
  doReturn(mockAppReport).when(mockClient).getApplicationReport(any(ApplicationId.class));
  if (mockContainerReport) {
    doReturn(mockAttempts).when(mockClient).getApplicationAttempts(any(ApplicationId.class));
    doReturn(mockContainers).when(mockClient).getContainers(any(ApplicationAttemptId.class));
  }
  return mockClient;
}
