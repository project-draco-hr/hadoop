{
  String msg=null;
  RMAppFailedAttemptEvent failedEvent=(RMAppFailedAttemptEvent)event;
  if (this.submissionContext.getUnmanagedAM()) {
    msg="Unmanaged application " + this.getApplicationId() + " failed due to "+ failedEvent.getDiagnostics()+ ". Failing the application.";
  }
 else   if (getNumNonPreemptedAppAttempts() >= this.maxAppAttempts) {
    msg="Application " + this.getApplicationId() + " failed "+ this.maxAppAttempts+ " times due to "+ failedEvent.getDiagnostics()+ ". Failing the application.";
  }
  return msg;
}
