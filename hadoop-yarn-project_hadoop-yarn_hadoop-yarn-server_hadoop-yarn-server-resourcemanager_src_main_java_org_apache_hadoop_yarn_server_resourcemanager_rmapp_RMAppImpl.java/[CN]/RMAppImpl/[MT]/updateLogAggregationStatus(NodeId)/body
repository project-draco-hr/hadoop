{
  LogAggregationStatus status=this.logAggregationStatus.get(nodeId).getLogAggregationStatus();
  if (status.equals(LogAggregationStatus.SUCCEEDED)) {
    this.logAggregationSucceed++;
  }
 else   if (status.equals(LogAggregationStatus.FAILED)) {
    this.logAggregationFailed++;
  }
  if (this.logAggregationSucceed == this.logAggregationStatus.size()) {
    this.logAggregationStatusForAppReport=LogAggregationStatus.SUCCEEDED;
    this.logAggregationStatus.clear();
    this.logAggregationDiagnosticsForNMs.clear();
    this.logAggregationFailureMessagesForNMs.clear();
  }
 else   if (this.logAggregationSucceed + this.logAggregationFailed == this.logAggregationStatus.size()) {
    this.logAggregationStatusForAppReport=LogAggregationStatus.FAILED;
    for (Iterator<Map.Entry<NodeId,LogAggregationReport>> it=this.logAggregationStatus.entrySet().iterator(); it.hasNext(); ) {
      Map.Entry<NodeId,LogAggregationReport> entry=it.next();
      if (entry.getValue().getLogAggregationStatus().equals(LogAggregationStatus.SUCCEEDED)) {
        it.remove();
      }
    }
    this.logAggregationDiagnosticsForNMs.clear();
  }
}
