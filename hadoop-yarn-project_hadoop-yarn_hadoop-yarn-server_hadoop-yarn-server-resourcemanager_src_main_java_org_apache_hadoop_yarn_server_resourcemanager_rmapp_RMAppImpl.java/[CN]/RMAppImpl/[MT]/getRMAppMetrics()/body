{
  Resource resourcePreempted=Resource.newInstance(0,0);
  int numAMContainerPreempted=0;
  int numNonAMContainerPreempted=0;
  for (  RMAppAttempt attempt : attempts.values()) {
    if (null != attempt) {
      RMAppAttemptMetrics attemptMetrics=attempt.getRMAppAttemptMetrics();
      Resources.addTo(resourcePreempted,attemptMetrics.getResourcePreempted());
      numAMContainerPreempted+=attemptMetrics.getIsPreempted() ? 1 : 0;
      numNonAMContainerPreempted+=attemptMetrics.getNumNonAMContainersPreempted();
    }
  }
  return new RMAppMetrics(resourcePreempted,numNonAMContainerPreempted,numAMContainerPreempted);
}
