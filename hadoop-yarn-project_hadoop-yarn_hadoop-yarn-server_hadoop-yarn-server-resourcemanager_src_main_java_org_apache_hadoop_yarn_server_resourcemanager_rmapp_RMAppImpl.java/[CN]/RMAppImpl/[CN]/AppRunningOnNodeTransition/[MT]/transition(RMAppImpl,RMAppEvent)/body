{
  RMAppRunningOnNodeEvent nodeAddedEvent=(RMAppRunningOnNodeEvent)event;
  if (isAppInFinalState(app)) {
    app.handler.handle(new RMNodeCleanAppEvent(nodeAddedEvent.getNodeId(),nodeAddedEvent.getApplicationId()));
    return;
  }
  app.ranNodes.add(nodeAddedEvent.getNodeId());
  if (!app.logAggregationStatus.containsKey(nodeAddedEvent.getNodeId())) {
    app.logAggregationStatus.put(nodeAddedEvent.getNodeId(),LogAggregationReport.newInstance(app.applicationId,app.logAggregationEnabled ? LogAggregationStatus.NOT_START : LogAggregationStatus.DISABLED,""));
  }
}
