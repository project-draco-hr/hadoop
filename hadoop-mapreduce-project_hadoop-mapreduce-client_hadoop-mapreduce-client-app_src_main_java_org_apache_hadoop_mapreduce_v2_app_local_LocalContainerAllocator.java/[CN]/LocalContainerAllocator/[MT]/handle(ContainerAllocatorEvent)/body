{
  if (event.getType() == ContainerAllocator.EventType.CONTAINER_REQ) {
    LOG.info("Processing the event " + event.toString());
    ContainerId cID=recordFactory.newRecordInstance(ContainerId.class);
    cID.setApplicationAttemptId(applicationAttemptId);
    cID.setId(this.containerId.getId());
    Container container=recordFactory.newRecordInstance(Container.class);
    container.setId(cID);
    NodeId nodeId=Records.newRecord(NodeId.class);
    nodeId.setHost(this.nmHost);
    nodeId.setPort(this.nmPort);
    container.setNodeId(nodeId);
    container.setContainerToken(null);
    container.setNodeHttpAddress(this.nmHost + ":" + this.nmHttpPort);
    if (event.getAttemptID().getTaskId().getTaskType() == TaskType.MAP) {
      JobCounterUpdateEvent jce=new JobCounterUpdateEvent(event.getAttemptID().getTaskId().getJobId());
      jce.addCounterUpdate(JobCounter.OTHER_LOCAL_MAPS,1);
      eventHandler.handle(jce);
    }
    eventHandler.handle(new TaskAttemptContainerAssignedEvent(event.getAttemptID(),container,applicationACLs));
  }
}
