{
synchronized (cancelLock) {
    thread.preventCheckpointsFor(PREVENT_AFTER_CANCEL_MS);
    if (canceler != null) {
      canceler.cancel(msg);
    }
  }
}
