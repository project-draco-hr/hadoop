{
  setUpHaCluster(false);
  int exitCode=admin.run(new String[]{"-safemode","enter"});
  assertEquals(err.toString().trim(),0,exitCode);
  String message="Safe mode is ON in.*";
  assertOutputMatches(message + "\n" + message+ "\n");
  exitCode=admin.run(new String[]{"-safemode","get"});
  assertEquals(err.toString().trim(),0,exitCode);
  message="Safe mode is ON in.*";
  assertOutputMatches(message + "\n" + message+ "\n");
  exitCode=admin.run(new String[]{"-safemode","leave"});
  assertEquals(err.toString().trim(),0,exitCode);
  message="Safe mode is OFF in.*";
  assertOutputMatches(message + "\n" + message+ "\n");
  exitCode=admin.run(new String[]{"-safemode","get"});
  assertEquals(err.toString().trim(),0,exitCode);
  message="Safe mode is OFF in.*";
  assertOutputMatches(message + "\n" + message+ "\n");
}
