{
  LOG.info("Job " + event.getJobInProgress().getJobID().toString() + " updated");
  if (event instanceof JobStatusChangeEvent) {
    JobStatusChangeEvent statusEvent=(JobStatusChangeEvent)event;
    if (statusEvent.getEventType() == EventType.RUN_STATE_CHANGED) {
      JobInProgress jip=event.getJobInProgress();
      String jobId=jip.getJobID().toString();
      if (jip.isComplete()) {
        LOG.info("Job " + jobId + " deleted from the running queue");
        if (statusEvent.getOldStatus().getRunState() == JobStatus.PREP) {
          wjobs.remove(jip);
        }
 else {
          rjobs.remove(jip);
        }
      }
 else {
        LOG.info("Job " + jobId + " deleted from the waiting queue");
        wjobs.remove(jip);
        rjobs.add(jip);
        rjobsAdded.add(jip.getJobID());
      }
    }
  }
}
