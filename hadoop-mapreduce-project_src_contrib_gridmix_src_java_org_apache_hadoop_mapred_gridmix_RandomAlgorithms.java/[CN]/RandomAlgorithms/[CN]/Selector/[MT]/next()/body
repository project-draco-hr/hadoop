{
switch (n) {
case 0:
    return -1;
case 1:
{
    int index=mapping.get(0);
    --n;
    return index;
  }
default :
{
  int pos=rand.nextInt(n);
  int index=mapping.get(pos);
  mapping.swap(pos,--n);
  return index;
}
}
}
