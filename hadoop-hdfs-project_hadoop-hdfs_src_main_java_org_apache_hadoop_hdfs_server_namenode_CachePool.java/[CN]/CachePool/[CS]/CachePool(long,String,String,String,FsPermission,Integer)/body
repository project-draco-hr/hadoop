{
  this.id=id;
  if (poolName == null || poolName.isEmpty()) {
    throw new IOException("invalid empty cache pool name");
  }
  UserGroupInformation ugi=null;
  if (ownerName == null) {
    ugi=NameNode.getRemoteUser();
    ownerName=ugi.getShortUserName();
  }
  if (groupName == null) {
    if (ugi == null) {
      ugi=NameNode.getRemoteUser();
    }
    String[] groups=ugi.getGroupNames();
    if (groups.length == 0) {
      throw new IOException("failed to get group names from UGI " + ugi);
    }
    groupName=groups[0];
  }
  if (mode == null) {
    mode=FsPermission.getDirDefault();
  }
  if (weight == null) {
    weight=100;
  }
  CachePoolInfo.Builder builder=CachePoolInfo.newBuilder();
  builder.setPoolName(poolName).setOwnerName(ownerName).setGroupName(groupName).setMode(mode).setWeight(weight);
  this.info=builder.build();
}
