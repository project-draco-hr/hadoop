{
  UserGroupInformation ugi=null;
  String ownerName=info.getOwnerName();
  if (ownerName == null) {
    if (ugi == null) {
      ugi=NameNode.getRemoteUser();
    }
    ownerName=ugi.getShortUserName();
  }
  String groupName=info.getGroupName();
  if (groupName == null) {
    if (ugi == null) {
      ugi=NameNode.getRemoteUser();
    }
    groupName=ugi.getPrimaryGroupName();
  }
  FsPermission mode=(info.getMode() == null) ? FsPermission.getCachePoolDefault() : info.getMode();
  Integer weight=(info.getWeight() == null) ? DEFAULT_WEIGHT : info.getWeight();
  return new CachePool(info.getPoolName(),ownerName,groupName,mode,weight);
}
