{
  UserGroupInformation ugi=null;
  String ownerName=info.getOwnerName();
  if (ownerName == null) {
    ugi=NameNode.getRemoteUser();
    ownerName=ugi.getShortUserName();
  }
  String groupName=info.getGroupName();
  if (groupName == null) {
    if (ugi == null) {
      ugi=NameNode.getRemoteUser();
    }
    groupName=ugi.getPrimaryGroupName();
  }
  FsPermission mode=(info.getMode() == null) ? FsPermission.getCachePoolDefault() : info.getMode();
  long limit=info.getLimit() == null ? CachePoolInfo.DEFAULT_LIMIT : info.getLimit();
  short defaultReplication=info.getDefaultReplication() == null ? CachePoolInfo.DEFAULT_REPLICATION_NUM : info.getDefaultReplication();
  long maxRelativeExpiry=info.getMaxRelativeExpiryMs() == null ? CachePoolInfo.DEFAULT_MAX_RELATIVE_EXPIRY : info.getMaxRelativeExpiryMs();
  return new CachePool(info.getPoolName(),ownerName,groupName,mode,limit,defaultReplication,maxRelativeExpiry);
}
