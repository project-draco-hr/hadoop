{
  skipTo((getCurrentValue() & ~BLOCK_GROUP_INDEX_MASK) + MAX_BLOCKS_IN_GROUP);
  final Block b=new Block(getCurrentValue());
  while (hasValidBlockInRange(b)) {
    skipTo(getCurrentValue() + MAX_BLOCKS_IN_GROUP);
    b.setBlockId(getCurrentValue());
  }
  if (b.getBlockId() >= 0) {
    throw new IllegalStateException("All negative block group IDs are used, " + "growing into positive IDs, " + "which might conflict with non-erasure coded blocks.");
  }
  return getCurrentValue();
}
