{
  ChecksumTypeProto type=ChecksumTypeProto.valueOf(checksum.getChecksumType().name());
  if (type == null) {
    throw new IllegalArgumentException("Can't convert checksum to protobuf: " + checksum);
  }
  return ChecksumProto.newBuilder().setBytesPerChecksum(checksum.getBytesPerChecksum()).setType(type).build();
}
