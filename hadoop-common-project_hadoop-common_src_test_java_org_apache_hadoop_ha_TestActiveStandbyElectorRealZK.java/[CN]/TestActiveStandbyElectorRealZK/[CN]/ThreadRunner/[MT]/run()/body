{
  LOG.info("starting " + index);
  while (true) {
synchronized (test) {
      if (!test.start) {
        try {
          test.wait();
        }
 catch (        InterruptedException e) {
          Assert.fail(e.getMessage());
        }
      }
 else {
        break;
      }
    }
  }
  byte[] data=new byte[8];
  ActiveStandbyElector elector=test.elector[index];
  LOG.info("joining " + index);
  elector.joinElection(data);
  try {
    while (true) {
synchronized (this) {
        if (wait) {
          wait(30000);
        }
 else {
          break;
        }
      }
    }
    Thread.sleep(1000);
    elector.quitElection();
  }
 catch (  InterruptedException e) {
    Assert.fail(e.getMessage());
  }
  LOG.info("ending " + index);
}
