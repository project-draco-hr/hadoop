{
  long secretKeyInterval=conf.getLong(YarnConfiguration.DELEGATION_KEY_UPDATE_INTERVAL_KEY,YarnConfiguration.DELEGATION_KEY_UPDATE_INTERVAL_DEFAULT);
  long tokenMaxLifetime=conf.getLong(YarnConfiguration.DELEGATION_TOKEN_MAX_LIFETIME_KEY,YarnConfiguration.DELEGATION_TOKEN_MAX_LIFETIME_DEFAULT);
  long tokenRenewInterval=conf.getLong(YarnConfiguration.DELEGATION_TOKEN_RENEW_INTERVAL_KEY,YarnConfiguration.DELEGATION_TOKEN_RENEW_INTERVAL_DEFAULT);
  secretManager=new TimelineDelegationTokenSecretManager(secretKeyInterval,tokenMaxLifetime,tokenRenewInterval,3600000);
  secretManager.startThreads();
  if (YarnConfiguration.useHttps(getConfig())) {
    serviceAddr=getConfig().getSocketAddr(YarnConfiguration.TIMELINE_SERVICE_WEBAPP_HTTPS_ADDRESS,YarnConfiguration.DEFAULT_TIMELINE_SERVICE_WEBAPP_HTTPS_ADDRESS,YarnConfiguration.DEFAULT_TIMELINE_SERVICE_WEBAPP_HTTPS_PORT);
  }
 else {
    serviceAddr=getConfig().getSocketAddr(YarnConfiguration.TIMELINE_SERVICE_WEBAPP_ADDRESS,YarnConfiguration.DEFAULT_TIMELINE_SERVICE_WEBAPP_ADDRESS,YarnConfiguration.DEFAULT_TIMELINE_SERVICE_WEBAPP_PORT);
  }
  super.init(conf);
}
