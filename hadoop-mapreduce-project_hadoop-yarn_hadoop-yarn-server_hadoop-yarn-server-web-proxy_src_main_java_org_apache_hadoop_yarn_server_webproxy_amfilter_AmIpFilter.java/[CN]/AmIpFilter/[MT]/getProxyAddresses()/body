{
  long now=System.currentTimeMillis();
synchronized (this) {
    if (proxyAddresses == null || (lastUpdate + updateInterval) >= now) {
      try {
        proxyAddresses=new HashSet<String>();
        for (        InetAddress add : InetAddress.getAllByName(proxyHost)) {
          proxyAddresses.add(add.getHostAddress());
        }
        lastUpdate=now;
      }
 catch (      UnknownHostException e) {
        throw new ServletException("Could not locate " + proxyHost,e);
      }
    }
    return proxyAddresses;
  }
}
