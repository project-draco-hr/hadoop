{
  if (exists(f)) {
    if (flag.contains(CreateFlag.APPEND)) {
      return append(f,bufferSize,progress);
    }
 else     if (!flag.contains(CreateFlag.OVERWRITE)) {
      throw new IOException("File already exists: " + f);
    }
  }
 else {
    if (flag.contains(CreateFlag.APPEND) && !flag.contains(CreateFlag.CREATE))     throw new IOException("File already exists: " + f.toString());
  }
  return this.create(f,absolutePermission,flag.contains(CreateFlag.OVERWRITE),bufferSize,replication,blockSize,progress);
}
