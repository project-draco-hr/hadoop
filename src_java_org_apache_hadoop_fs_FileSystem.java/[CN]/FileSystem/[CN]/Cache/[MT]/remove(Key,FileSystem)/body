{
  if (map.containsKey(key) && fs == map.get(key)) {
    map.remove(key);
    if (map.isEmpty() && !clientFinalizer.isAlive()) {
      if (!Runtime.getRuntime().removeShutdownHook(clientFinalizer)) {
        LOG.info("Could not cancel cleanup thread, though no " + "FileSystems are open");
      }
    }
  }
}
