{
  Configuration conf=new Configuration();
  final String ns=CommonConfigurationKeys.IPC_NAMESPACE + ".0";
  final String schedulerClassName="org.apache.hadoop.ipc.DecayRpcScheduler";
  conf.setStrings(ns + "." + CommonConfigurationKeys.IPC_SCHEDULER_IMPL_KEY,schedulerClassName);
  Class<? extends BlockingQueue<FakeCall>> queue=(Class<? extends BlockingQueue<FakeCall>>)getQueueClass(ns,conf);
  assertTrue(queue.getCanonicalName().equals("java.util.concurrent." + "LinkedBlockingQueue"));
  manager=new CallQueueManager<FakeCall>(queue,Server.getSchedulerClass(ns,conf),false,3,"",conf);
  assertCanPut(manager,3,3);
  assertCanPut(manager,0,1);
}
