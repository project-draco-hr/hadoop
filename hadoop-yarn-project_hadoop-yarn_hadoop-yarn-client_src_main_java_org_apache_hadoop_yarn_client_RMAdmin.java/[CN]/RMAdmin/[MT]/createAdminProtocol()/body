{
  final YarnConfiguration conf=new YarnConfiguration(getConf());
  final InetSocketAddress addr=conf.getSocketAddr(YarnConfiguration.RM_ADMIN_ADDRESS,YarnConfiguration.DEFAULT_RM_ADMIN_ADDRESS,YarnConfiguration.DEFAULT_RM_ADMIN_PORT);
  final YarnRPC rpc=YarnRPC.create(conf);
  RMAdminProtocol adminProtocol=getUGI(conf).doAs(new PrivilegedAction<RMAdminProtocol>(){
    @Override public RMAdminProtocol run(){
      return (RMAdminProtocol)rpc.getProxy(RMAdminProtocol.class,addr,conf);
    }
  }
);
  return adminProtocol;
}
