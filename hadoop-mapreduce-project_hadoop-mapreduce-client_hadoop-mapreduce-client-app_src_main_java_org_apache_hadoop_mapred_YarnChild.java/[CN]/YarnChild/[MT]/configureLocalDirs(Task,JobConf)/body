{
  String[] localSysDirs=StringUtils.getTrimmedStrings(System.getenv(ApplicationConstants.LOCAL_DIR_ENV));
  job.setStrings(MRConfig.LOCAL_DIR,localSysDirs);
  LOG.info(MRConfig.LOCAL_DIR + " for child: " + job.get(MRConfig.LOCAL_DIR));
  LocalDirAllocator lDirAlloc=new LocalDirAllocator(MRConfig.LOCAL_DIR);
  Path workDir=lDirAlloc.getLocalPathForWrite("work",job);
  FileSystem lfs=FileSystem.getLocal(job).getRaw();
  if (!lfs.mkdirs(workDir)) {
    throw new IOException("Mkdirs failed to create " + workDir.toString());
  }
  job.set(MRJobConfig.JOB_LOCAL_DIR,workDir.toString());
}
