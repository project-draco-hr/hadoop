{
  FsPermission perms=file.getPermission();
  int existing=perms.toShort();
  boolean exeOk=file.isDir() || (existing & 0111) != 0;
  return (short)combineModes(existing,exeOk);
}
