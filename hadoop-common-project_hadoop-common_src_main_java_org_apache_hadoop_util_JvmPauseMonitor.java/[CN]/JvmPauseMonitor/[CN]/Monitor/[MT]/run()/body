{
  StopWatch sw=new StopWatch();
  Map<String,GcTimes> gcTimesBeforeSleep=getGcTimes();
  while (shouldRun) {
    sw.reset().start();
    try {
      Thread.sleep(SLEEP_INTERVAL_MS);
    }
 catch (    InterruptedException ie) {
      return;
    }
    long extraSleepTime=sw.now(TimeUnit.MILLISECONDS) - SLEEP_INTERVAL_MS;
    Map<String,GcTimes> gcTimesAfterSleep=getGcTimes();
    if (extraSleepTime > warnThresholdMs) {
      ++numGcWarnThresholdExceeded;
      LOG.warn(formatMessage(extraSleepTime,gcTimesAfterSleep,gcTimesBeforeSleep));
    }
 else     if (extraSleepTime > infoThresholdMs) {
      ++numGcInfoThresholdExceeded;
      LOG.info(formatMessage(extraSleepTime,gcTimesAfterSleep,gcTimesBeforeSleep));
    }
    totalGcExtraSleepTime+=extraSleepTime;
    gcTimesBeforeSleep=gcTimesAfterSleep;
  }
}
