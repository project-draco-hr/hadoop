{
  KerberosTestUtils.doAs(HTTP_USER + "/localhost",new Callable<Void>(){
    @Override public Void call() throws Exception {
      TimelineDomain domainToStore=new TimelineDomain();
      domainToStore.setId(TestTimelineAuthenticationFilter.class.getName());
      domainToStore.setReaders("*");
      domainToStore.setWriters("*");
      client.putDomain(domainToStore);
      TimelineDomain domainToRead=testTimelineServer.getTimelineStore().getDomain(TestTimelineAuthenticationFilter.class.getName());
      Assert.assertNotNull(domainToRead);
      return null;
    }
  }
);
}
