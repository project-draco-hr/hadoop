{
  Map<ReservationInterval,ReservationRequest> allocations=generateAllocation(start,alloc,isStep);
  ReservationDefinition rDef=createSimpleReservationDefinition(start,start + alloc.length,alloc.length,allocations.values());
  Map<ReservationInterval,Resource> allocs=ReservationSystemUtil.toResources(allocations);
  return new InMemoryReservationAllocation(reservationID,rDef,user,planName,start,start + alloc.length,allocs,resCalc,minAlloc);
}
