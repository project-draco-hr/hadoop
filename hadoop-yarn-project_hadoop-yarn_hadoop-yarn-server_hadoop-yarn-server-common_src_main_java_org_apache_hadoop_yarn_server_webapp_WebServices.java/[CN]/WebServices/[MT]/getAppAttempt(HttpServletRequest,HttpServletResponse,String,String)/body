{
  UserGroupInformation callerUGI=getUser(req);
  ApplicationId aid=parseApplicationId(appId);
  final ApplicationAttemptId aaid=parseApplicationAttemptId(appAttemptId);
  validateIds(aid,aaid,null);
  ApplicationAttemptReport appAttempt=null;
  try {
    if (callerUGI == null) {
      GetApplicationAttemptReportRequest request=GetApplicationAttemptReportRequest.newInstance(aaid);
      appAttempt=appBaseProt.getApplicationAttemptReport(request).getApplicationAttemptReport();
    }
 else {
      appAttempt=callerUGI.doAs(new PrivilegedExceptionAction<ApplicationAttemptReport>(){
        @Override public ApplicationAttemptReport run() throws Exception {
          GetApplicationAttemptReportRequest request=GetApplicationAttemptReportRequest.newInstance(aaid);
          return appBaseProt.getApplicationAttemptReport(request).getApplicationAttemptReport();
        }
      }
);
    }
  }
 catch (  Exception e) {
    rewrapAndThrowException(e);
  }
  if (appAttempt == null) {
    throw new NotFoundException("app attempt with id: " + appAttemptId + " not found");
  }
  return new AppAttemptInfo(appAttempt);
}
