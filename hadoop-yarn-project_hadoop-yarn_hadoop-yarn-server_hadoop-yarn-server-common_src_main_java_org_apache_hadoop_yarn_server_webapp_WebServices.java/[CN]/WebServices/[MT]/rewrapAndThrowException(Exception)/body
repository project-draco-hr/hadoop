{
  if (e instanceof UndeclaredThrowableException) {
    if (e.getCause() instanceof AuthorizationException) {
      throw new ForbiddenException(e.getCause());
    }
 else {
      throw new WebApplicationException(e.getCause());
    }
  }
 else {
    if (e instanceof AuthorizationException) {
      throw new ForbiddenException(e);
    }
 else {
      throw new WebApplicationException(e);
    }
  }
}
