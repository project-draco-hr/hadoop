{
  this.conf=conf;
  dockerClient=new DockerClient(conf);
  allowedNetworks.clear();
  allowedNetworks.addAll(Arrays.asList(conf.getStrings(YarnConfiguration.NM_DOCKER_ALLOWED_CONTAINER_NETWORKS,YarnConfiguration.DEFAULT_NM_DOCKER_ALLOWED_CONTAINER_NETWORKS)));
  defaultNetwork=conf.get(YarnConfiguration.NM_DOCKER_DEFAULT_CONTAINER_NETWORK,YarnConfiguration.DEFAULT_NM_DOCKER_DEFAULT_CONTAINER_NETWORK);
  if (!allowedNetworks.contains(defaultNetwork)) {
    String message="Default network: " + defaultNetwork + " is not in the set of allowed networks: "+ allowedNetworks;
    if (LOG.isWarnEnabled()) {
      LOG.warn(message + ". Please check " + "configuration");
    }
    throw new ContainerExecutionException(message);
  }
  privilegedContainersAcl=new AccessControlList(conf.get(YarnConfiguration.NM_DOCKER_PRIVILEGED_CONTAINERS_ACL,YarnConfiguration.DEFAULT_NM_DOCKER_PRIVILEGED_CONTAINERS_ACL));
}
