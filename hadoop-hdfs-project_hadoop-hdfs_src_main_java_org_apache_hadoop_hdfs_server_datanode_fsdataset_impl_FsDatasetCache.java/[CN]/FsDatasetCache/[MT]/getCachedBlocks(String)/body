{
  List<Block> blocks=new ArrayList<Block>();
  Iterator<MappableBlock> it=cachedBlocks.values().iterator();
  while (it.hasNext()) {
    MappableBlock mapBlock=it.next();
    if (mapBlock.getBlockPoolId().equals(bpid)) {
      blocks.add(mapBlock.getBlock());
    }
  }
  return blocks;
}
