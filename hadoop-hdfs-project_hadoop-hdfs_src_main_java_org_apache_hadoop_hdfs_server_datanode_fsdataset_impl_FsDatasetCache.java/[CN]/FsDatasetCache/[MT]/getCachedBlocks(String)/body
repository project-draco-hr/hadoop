{
  List<Block> blocks=new ArrayList<Block>();
  MappableBlock mapBlock=null;
  for (Iterator<MappableBlock> it=cachedBlocks.values().iterator(); it.hasNext(); mapBlock=it.next()) {
    if (mapBlock.getBlockPoolId().equals(bpid)) {
      blocks.add(mapBlock.getBlock());
    }
  }
  return blocks;
}
