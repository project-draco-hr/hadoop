{
  List<Long> blocks=new ArrayList<Long>();
  Iterator<MappableBlock> it=cachedBlocks.values().iterator();
  while (it.hasNext()) {
    MappableBlock mapBlock=it.next();
    if (mapBlock.getBlockPoolId().equals(bpid)) {
      blocks.add(mapBlock.getBlock().getBlockId());
    }
  }
  return blocks;
}
