{
  MappableBlock mapBlock=cachedBlocks.get(blockId);
  if (mapBlock != null && mapBlock.getBlockPoolId().equals(bpid) && mapBlock.getBlock().getBlockId() == blockId) {
    mapBlock.close();
    cachedBlocks.remove(blockId);
    long bytes=mapBlock.getNumBytes();
    long used=usedBytes.get();
    while (!usedBytes.compareAndSet(used,used - bytes)) {
      used=usedBytes.get();
    }
    LOG.info("Successfully uncached block " + blockId);
  }
 else {
    LOG.info("Could not uncache block " + blockId + ": unknown block.");
  }
}
