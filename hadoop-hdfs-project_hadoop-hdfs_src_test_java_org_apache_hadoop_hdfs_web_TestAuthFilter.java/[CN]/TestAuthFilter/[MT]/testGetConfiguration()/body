{
  AuthFilter filter=new AuthFilter();
  Map<String,String> m=new HashMap<String,String>();
  m.put(DFSConfigKeys.DFS_WEB_AUTHENTICATION_KERBEROS_PRINCIPAL_KEY,"xyz/thehost@REALM");
  m.put(DFSConfigKeys.DFS_WEB_AUTHENTICATION_KERBEROS_KEYTAB_KEY,"thekeytab");
  FilterConfig config=new DummyFilterConfig(m);
  Properties p=filter.getConfiguration("random",config);
  Assert.assertEquals("xyz/thehost@REALM",p.getProperty("kerberos.principal"));
  Assert.assertEquals("thekeytab",p.getProperty("kerberos.keytab"));
  Assert.assertEquals("true",p.getProperty(PseudoAuthenticationHandler.ANONYMOUS_ALLOWED));
}
