{
  if (isWindows)   return;
  try {
    conf.set(CONTEXT,BUFFER_DIR[2] + "," + BUFFER_DIR[3]);
    createTempFile(SMALL_FILE_SIZE);
    int firstDirIdx=(dirAllocator.getCurrentDirectoryIndex() == 0) ? 2 : 3;
    int secondDirIdx=(firstDirIdx == 2) ? 3 : 2;
    validateTempDirCreation(firstDirIdx);
    validateTempDirCreation(secondDirIdx);
    validateTempDirCreation(firstDirIdx);
  }
  finally {
    rmBufferDirs();
  }
}
