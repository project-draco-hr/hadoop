{
  MessageDigest digester=MD5Hash.getDigester();
  while (getPositionInBlock() < getMaxTargetLength()) {
    long remaining=getMaxTargetLength() - getPositionInBlock();
    final int toReconstructLen=(int)Math.min(getStripedReader().getBufferSize(),remaining);
    getStripedReader().readMinimumSources(toReconstructLen);
    reconstructTargets(toReconstructLen);
    getChecksum().calculateChunkedSums(targetBuffer.array(),0,targetBuffer.remaining(),checksumBuf,0);
    digester.update(checksumBuf,0,checksumBuf.length);
    checksumDataLen+=checksumBuf.length;
    updatePositionInBlock(toReconstructLen);
    clearBuffers();
  }
  byte[] digest=digester.digest();
  md5=new MD5Hash(digest);
  md5.write(checksumWriter);
}
