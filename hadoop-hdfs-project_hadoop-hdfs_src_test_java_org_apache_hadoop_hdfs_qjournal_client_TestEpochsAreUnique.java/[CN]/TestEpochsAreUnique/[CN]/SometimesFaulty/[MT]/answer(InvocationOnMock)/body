{
  if (r.nextFloat() < faultProbability) {
    return Futures.immediateFailedFuture(new IOException("Injected fault"));
  }
  return (ListenableFuture<T>)invocation.callRealMethod();
}
