{
  namesystem.metaSave("metaSaveOverwrite.out.txt");
  namesystem.metaSave("metaSaveOverwrite.out.txt");
  FileInputStream fis=null;
  InputStreamReader isr=null;
  BufferedReader rdr=null;
  try {
    fis=new FileInputStream(getLogFile("metaSaveOverwrite.out.txt"));
    isr=new InputStreamReader(fis);
    rdr=new BufferedReader(isr);
    boolean foundLiveDatanodesLine=false;
    String line=rdr.readLine();
    while (line != null) {
      if (line.startsWith("Live Datanodes")) {
        if (foundLiveDatanodesLine) {
          fail("multiple Live Datanodes lines, output file not overwritten");
        }
        foundLiveDatanodesLine=true;
      }
      line=rdr.readLine();
    }
  }
  finally {
    IOUtils.cleanup(null,rdr,isr,fis);
  }
}
