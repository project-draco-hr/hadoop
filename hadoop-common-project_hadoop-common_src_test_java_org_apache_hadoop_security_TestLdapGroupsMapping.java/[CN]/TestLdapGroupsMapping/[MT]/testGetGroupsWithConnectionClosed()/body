{
  when(getContext().search(anyString(),anyString(),any(Object[].class),any(SearchControls.class))).thenThrow(new CommunicationException("Connection is closed")).thenReturn(getUserNames(),getGroupNames());
  doTestGetGroups(Arrays.asList(getTestGroups()),1 + 2);
}
