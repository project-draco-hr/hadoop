{
  FiCaSchedulerNode schedulerNode=new FiCaSchedulerNode(nodeManager,usePortForNodeName,nodeManager.getNodeLabels());
  this.nodes.put(nodeManager.getNodeID(),schedulerNode);
  Resources.addTo(clusterResource,schedulerNode.getTotalResource());
  if (labelManager != null) {
    labelManager.activateNode(nodeManager.getNodeID(),schedulerNode.getTotalResource());
  }
  root.updateClusterResource(clusterResource,new ResourceLimits(clusterResource));
  int numNodes=numNodeManagers.incrementAndGet();
  updateMaximumAllocation(schedulerNode,true);
  LOG.info("Added node " + nodeManager.getNodeAddress() + " clusterResource: "+ clusterResource);
  if (scheduleAsynchronously && numNodes == 1) {
    asyncSchedulerThread.beginSchedule();
  }
}
