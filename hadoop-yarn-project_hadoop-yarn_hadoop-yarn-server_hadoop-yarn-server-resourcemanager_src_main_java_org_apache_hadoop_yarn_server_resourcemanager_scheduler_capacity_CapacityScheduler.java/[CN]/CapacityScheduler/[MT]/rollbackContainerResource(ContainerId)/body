{
  RMContainer rmContainer=getRMContainer(containerId);
  if (rmContainer == null) {
    LOG.info("Cannot rollback resource for container " + containerId + ". The container does not exist.");
    return;
  }
  FiCaSchedulerApp application=getCurrentAttemptForContainer(containerId);
  if (application == null) {
    LOG.info("Cannot rollback resource for container " + containerId + ". The application that the container belongs to does not exist.");
    return;
  }
  LOG.info("Roll back resource for container " + containerId);
  LeafQueue leafQueue=(LeafQueue)application.getQueue();
synchronized (leafQueue) {
    SchedulerNode schedulerNode=getSchedulerNode(rmContainer.getAllocatedNode());
    SchedContainerChangeRequest decreaseRequest=new SchedContainerChangeRequest(this.rmContext,schedulerNode,rmContainer,rmContainer.getLastConfirmedResource());
    decreaseContainer(decreaseRequest,application);
  }
}
