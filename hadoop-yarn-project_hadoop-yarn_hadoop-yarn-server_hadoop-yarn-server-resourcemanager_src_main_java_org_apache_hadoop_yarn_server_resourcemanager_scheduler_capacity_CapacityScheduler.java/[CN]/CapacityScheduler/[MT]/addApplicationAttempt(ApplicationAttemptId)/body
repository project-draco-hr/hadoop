{
  SchedulerApplication application=applications.get(applicationAttemptId.getApplicationId());
  CSQueue queue=(CSQueue)application.getQueue();
  FiCaSchedulerApp SchedulerApp=new FiCaSchedulerApp(applicationAttemptId,application.getUser(),queue,queue.getActiveUsersManager(),rmContext);
  appAttempts.put(applicationAttemptId,SchedulerApp);
  queue.submitApplicationAttempt(SchedulerApp,application.getUser());
  LOG.info("Added Application Attempt " + applicationAttemptId + " to scheduler from user "+ application.getUser()+ " in queue "+ queue.getQueueName());
  rmContext.getDispatcher().getEventHandler().handle(new RMAppAttemptEvent(applicationAttemptId,RMAppAttemptEventType.ATTEMPT_ADDED));
}
