{
  this.cgroupPrefix=conf.get(YarnConfiguration.NM_LINUX_CONTAINER_CGROUPS_HIERARCHY,"/hadoop-yarn");
  this.cgroupMount=conf.getBoolean(YarnConfiguration.NM_LINUX_CONTAINER_CGROUPS_MOUNT,false);
  this.cgroupMountPath=conf.get(YarnConfiguration.NM_LINUX_CONTAINER_CGROUPS_MOUNT_PATH,null);
  if (cgroupPrefix.charAt(0) == '/') {
    cgroupPrefix=cgroupPrefix.substring(1);
  }
  int len=cgroupPrefix.length();
  if (cgroupPrefix.charAt(len - 1) == '/') {
    cgroupPrefix=cgroupPrefix.substring(0,len - 1);
  }
  if (cgroupMount && cgroupMountPath != null) {
    ArrayList<String> cgroupKVs=new ArrayList<String>();
    cgroupKVs.add(CONTROLLER_CPU + "=" + cgroupMountPath+ "/"+ CONTROLLER_CPU);
    lce.mountCgroups(cgroupKVs,cgroupPrefix);
  }
  initializeControllerPaths();
}
