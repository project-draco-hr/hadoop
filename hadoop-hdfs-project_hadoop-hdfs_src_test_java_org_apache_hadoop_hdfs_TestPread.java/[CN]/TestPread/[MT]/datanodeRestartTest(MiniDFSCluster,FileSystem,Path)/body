{
  if (simulatedStorage) {
    return;
  }
  int numBlocks=1;
  assertTrue(numBlocks <= HdfsClientConfigKeys.DFS_CLIENT_MAX_BLOCK_ACQUIRE_FAILURES_DEFAULT);
  byte[] expected=new byte[numBlocks * blockSize];
  Random rand=new Random(seed);
  rand.nextBytes(expected);
  byte[] actual=new byte[numBlocks * blockSize];
  FSDataInputStream stm=fileSys.open(name);
  stm.readFully(0,actual);
  checkAndEraseData(actual,0,expected,"Pread Datanode Restart Setup");
  assertTrue(cluster.restartDataNodes());
  cluster.waitActive();
  stm.readFully(0,actual);
  checkAndEraseData(actual,0,expected,"Pread Datanode Restart Test");
}
