{
  FSDataOutputStream out=null;
  try {
    byte[] bytes=new byte[len];
    out=files.create(p,EnumSet.of(CREATE,OVERWRITE));
    r.nextBytes(bytes);
    out.write(bytes);
  }
  finally {
    if (out != null)     out.close();
  }
  LocalResource ret=recordFactory.newRecordInstance(LocalResource.class);
  ret.setResource(ConverterUtils.getYarnUrlFromPath(p));
  ret.setSize(len);
  ret.setType(LocalResourceType.FILE);
  ret.setVisibility(vis);
  ret.setTimestamp(files.getFileStatus(p).getModificationTime());
  return ret;
}
