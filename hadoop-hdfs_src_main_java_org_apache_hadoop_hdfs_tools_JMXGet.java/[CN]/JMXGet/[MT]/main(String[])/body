{
  int res=-1;
  Options opts=new Options();
  CommandLine commandLine=null;
  try {
    commandLine=parseArgs(opts,args);
  }
 catch (  IllegalArgumentException iae) {
    commandLine=null;
  }
  if (commandLine == null) {
    err("Invalid args");
    printUsage(opts);
    System.exit(-1);
  }
  JMXGet jm=new JMXGet();
  if (commandLine.hasOption("port")) {
    jm.setPort(commandLine.getOptionValue("port"));
  }
  if (commandLine.hasOption("service")) {
    jm.setService(commandLine.getOptionValue("service"));
  }
  if (commandLine.hasOption("server")) {
    jm.setServer(commandLine.getOptionValue("server"));
  }
  if (commandLine.hasOption("localVM")) {
    jm.setLocalVMUrl(commandLine.getOptionValue("localVM"));
  }
  if (commandLine.hasOption("help")) {
    printUsage(opts);
    System.exit(0);
  }
  args=commandLine.getArgs();
  try {
    jm.init();
    if (args.length == 0) {
      jm.printAllValues();
    }
 else {
      for (      String key : args) {
        err("key = " + key);
        String val=jm.getValue(key);
        if (val != null)         System.out.format(JMXGet.format,key,val);
      }
    }
    res=0;
  }
 catch (  Exception re) {
    re.printStackTrace();
    res=-1;
  }
  System.exit(res);
}
