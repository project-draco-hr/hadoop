{
  final byte[][] components=INode.getPathComponents(src);
  INodesInPath inodesInPath=INodesInPath.resolve(rootDir,components,resolveLink);
  if (inodesInPath.isSnapshot()) {
    throw new SnapshotAccessControlException("Modification on a read-only snapshot is disallowed");
  }
  return inodesInPath;
}
