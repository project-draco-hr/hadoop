{
  int depth=0;
  for (INode i=inode; i != null && !i.equals(ancestor); i=i.getParent()) {
    depth++;
  }
  INode[] inodes=new INode[depth];
  for (int i=0; i < depth; i++) {
    if (inode == null) {
      NameNode.stateChangeLog.warn("Could not get full path." + " Corresponding file might have deleted already.");
      return null;
    }
    inodes[depth - i - 1]=inode;
    inode=inode.getParent();
  }
  return inodes;
}
