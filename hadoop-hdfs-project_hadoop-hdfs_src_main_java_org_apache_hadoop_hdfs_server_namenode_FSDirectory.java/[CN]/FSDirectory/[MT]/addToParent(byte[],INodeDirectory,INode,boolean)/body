{
  INodeDirectory newParent=null;
  writeLock();
  try {
    try {
      newParent=rootDir.addToParent(src,newNode,parentINode,propagateModTime);
      cacheName(newNode);
    }
 catch (    FileNotFoundException e) {
      return null;
    }
    if (newParent == null)     return null;
    if (!newNode.isDirectory() && !newNode.isSymlink()) {
      INodeFile newF=(INodeFile)newNode;
      BlockInfo[] blocks=newF.getBlocks();
      for (int i=0; i < blocks.length; i++) {
        newF.setBlock(i,getBlockManager().addBlockCollection(blocks[i],newF));
      }
    }
  }
  finally {
    writeUnlock();
  }
  return newParent;
}
