{
  if (!oldnode.removeNode(latestSnapshot)) {
    final String mess="FSDirectory.replaceINodeUnsynced: failed to remove " + path;
    NameNode.stateChangeLog.warn("DIR* " + mess);
    throw new IOException(mess);
  }
  rootDir.addINode(path,newnode);
}
