{
  INodeAttributes nodeAttrs=node;
  if (attributeProvider != null) {
    nodeAttrs=node.getSnapshotINode(snapshot);
    fullPath=fullPath + (fullPath.endsWith(Path.SEPARATOR) ? "" : Path.SEPARATOR) + DFSUtil.bytes2String(path);
    nodeAttrs=attributeProvider.getAttributes(fullPath,nodeAttrs);
  }
 else {
    nodeAttrs=node.getSnapshotINode(snapshot);
  }
  return nodeAttrs;
}
