{
  if (NameNode.stateChangeLog.isDebugEnabled()) {
    NameNode.stateChangeLog.debug("DIR* FSDirectory.delete: " + src);
  }
  waitForReady();
  long now=now();
  int filesRemoved;
  writeLock();
  try {
    filesRemoved=unprotectedDelete(src,collectedBlocks,now);
  }
  finally {
    writeUnlock();
  }
  if (filesRemoved <= 0) {
    return false;
  }
  incrDeletedFileCount(filesRemoved);
  getFSNamesystem().removePathAndBlocks(src,null);
  fsImage.getEditLog().logDelete(src,now);
  return true;
}
