{
  if (maxDirItems == 0) {
    return;
  }
  final INodeDirectory parent=(INodeDirectory)pathComponents[pos - 1];
  final int count=parent.getChildrenList(null).size();
  if (count >= maxDirItems) {
    final MaxDirectoryItemsExceededException e=new MaxDirectoryItemsExceededException(maxDirItems,count);
    if (ready) {
      e.setPathName(getFullPathName(pathComponents,pos - 1));
      throw e;
    }
 else {
      NameNode.LOG.error("FSDirectory.verifyMaxDirItems: " + e.getLocalizedMessage());
    }
  }
}
