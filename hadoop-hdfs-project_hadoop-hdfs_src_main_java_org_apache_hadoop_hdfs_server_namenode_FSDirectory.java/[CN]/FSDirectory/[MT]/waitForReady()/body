{
  if (!ready) {
    writeLock();
    try {
      while (!ready) {
        try {
          cond.await(5000,TimeUnit.MILLISECONDS);
        }
 catch (        InterruptedException ignored) {
        }
      }
    }
  finally {
      writeUnlock();
    }
  }
}
