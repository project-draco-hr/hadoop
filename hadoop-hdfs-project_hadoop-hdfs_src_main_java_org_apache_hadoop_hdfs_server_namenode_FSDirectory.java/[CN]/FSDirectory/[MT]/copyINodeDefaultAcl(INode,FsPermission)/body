{
  if (LOG.isDebugEnabled()) {
    LOG.debug("child: {}, posixAclInheritanceEnabled: {}, modes: {}",child,posixAclInheritanceEnabled,modes);
  }
  if (posixAclInheritanceEnabled && modes != null && modes.getUnmasked() != null) {
    child.setPermission(modes.getUnmasked());
    if (!AclStorage.copyINodeDefaultAcl(child)) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("{}: no parent default ACL to inherit",child);
      }
      child.setPermission(modes.getMasked());
    }
  }
 else {
    AclStorage.copyINodeDefaultAcl(child);
  }
}
