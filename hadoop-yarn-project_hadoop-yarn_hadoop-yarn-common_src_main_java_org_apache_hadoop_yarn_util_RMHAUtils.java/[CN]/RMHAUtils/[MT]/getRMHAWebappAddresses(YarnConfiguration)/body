{
  String prefix;
  String defaultPort;
  if (YarnConfiguration.useHttps(conf)) {
    prefix=YarnConfiguration.RM_WEBAPP_HTTPS_ADDRESS;
    defaultPort=":" + YarnConfiguration.DEFAULT_RM_WEBAPP_HTTPS_PORT;
  }
 else {
    prefix=YarnConfiguration.RM_WEBAPP_ADDRESS;
    defaultPort=":" + YarnConfiguration.DEFAULT_RM_WEBAPP_PORT;
  }
  Collection<String> rmIds=conf.getStringCollection(YarnConfiguration.RM_HA_IDS);
  List<String> addrs=new ArrayList<String>();
  for (  String id : rmIds) {
    String addr=conf.get(HAUtil.addSuffix(prefix,id));
    if (addr == null) {
      String hostname=conf.get(HAUtil.addSuffix(YarnConfiguration.RM_HOSTNAME,id));
      if (hostname != null) {
        addr=hostname + defaultPort;
      }
    }
    if (addr != null) {
      addrs.add(addr);
    }
  }
  return addrs;
}
