{
  File localDir=isDir ? createTempDir() : createTempFile();
  Shell.execCommand(Shell.getSetPermissionCommand(perm,false,localDir.getAbsolutePath()));
  try {
    DiskChecker.checkDir(localDir);
    assertTrue("checkDir success",success);
  }
 catch (  DiskErrorException e) {
    e.printStackTrace();
    assertFalse("checkDir success",success);
  }
  localDir.delete();
  System.out.println("checkDir success: " + success);
}
